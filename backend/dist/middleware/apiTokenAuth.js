const a257_0x9aa67d=a257_0x2c4e;(function(_0x211926,_0x2633ef){const _0x5dfd3e=a257_0x2c4e,_0x435d4e=_0x211926();while(!![]){try{const _0x18027d=parseInt(_0x5dfd3e(0x17b))/0x1*(parseInt(_0x5dfd3e(0x18c))/0x2)+parseInt(_0x5dfd3e(0x187))/0x3+parseInt(_0x5dfd3e(0x191))/0x4+-parseInt(_0x5dfd3e(0x184))/0x5+parseInt(_0x5dfd3e(0x181))/0x6+parseInt(_0x5dfd3e(0x188))/0x7*(parseInt(_0x5dfd3e(0x17f))/0x8)+-parseInt(_0x5dfd3e(0x194))/0x9;if(_0x18027d===_0x2633ef)break;else _0x435d4e['push'](_0x435d4e['shift']());}catch(_0x3a5141){_0x435d4e['push'](_0x435d4e['shift']());}}}(a257_0x2d46,0xbc40a));const a257_0x2ed917=(function(){let _0x1cae43=!![];return function(_0x1e5533,_0x21a5c4){const _0x1c42ff=_0x1cae43?function(){const _0xafbbe0=a257_0x2c4e;if(_0x21a5c4){const _0x57e987=_0x21a5c4[_0xafbbe0(0x18b)](_0x1e5533,arguments);return _0x21a5c4=null,_0x57e987;}}:function(){};return _0x1cae43=![],_0x1c42ff;};}()),a257_0x42493d=a257_0x2ed917(this,function(){const _0x24a22e=a257_0x2c4e;return a257_0x42493d[_0x24a22e(0x17c)]()[_0x24a22e(0x179)]('(((.+)+)+)+$')[_0x24a22e(0x17c)]()['constructor'](a257_0x42493d)[_0x24a22e(0x179)](_0x24a22e(0x182));});a257_0x42493d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x58772b){const _0xfe9065=a257_0x2c4e;return _0x58772b&&_0x58772b[_0xfe9065(0x17d)]?_0x58772b:{'default':_0x58772b};};Object[a257_0x9aa67d(0x185)](exports,a257_0x9aa67d(0x17d),{'value':!![]});const AppError_1=__importDefault(require(a257_0x9aa67d(0x18e))),User_1=__importDefault(require(a257_0x9aa67d(0x18a))),Setting_1=__importDefault(require(a257_0x9aa67d(0x193))),apiTokenAuth=async(_0x58fd6e,_0x53adc5,_0x3c29bc)=>{const _0x2416e3=a257_0x9aa67d;try{const _0x4aae0d=_0x58fd6e[_0x2416e3(0x186)][_0x2416e3(0x18d)][_0x2416e3(0x190)](_0x2416e3(0x18f),'');if(!_0x4aae0d)return _0x3c29bc();const _0x419bd9=await Setting_1[_0x2416e3(0x192)][_0x2416e3(0x17e)]({'where':{'key':'apiToken','value':_0x4aae0d}});if(!_0x419bd9)return _0x3c29bc();const _0x4cbde7=await User_1[_0x2416e3(0x192)][_0x2416e3(0x17e)]({'where':{'profile':_0x2416e3(0x189),'companyId':_0x419bd9['companyId']}});return _0x4cbde7&&(_0x58fd6e[_0x2416e3(0x183)]={'id':''+_0x4cbde7['id'],'profile':_0x4cbde7[_0x2416e3(0x17a)],'isSuper':![],'companyId':_0x419bd9['companyId']}),_0x3c29bc();}catch(_0x1bbb9a){console[_0x2416e3(0x180)](_0x1bbb9a);}throw new AppError_1[(_0x2416e3(0x192))]('Token\x20inv√°lido',0x193);};exports['default']=apiTokenAuth;function a257_0x2c4e(_0x107d61,_0x14afce){const _0xea272b=a257_0x2d46();return a257_0x2c4e=function(_0x42493d,_0x2ed917){_0x42493d=_0x42493d-0x179;let _0x2d464a=_0xea272b[_0x42493d];return _0x2d464a;},a257_0x2c4e(_0x107d61,_0x14afce);}function a257_0x2d46(){const _0x37e9a1=['search','profile','26638uEwkyU','toString','__esModule','findOne','75352rJiVWp','log','7465134XNlOwt','(((.+)+)+)+$','user','5335045PFORga','defineProperty','headers','2020869jKEpzq','343cfrSko','admin','../models/User','apply','46FTmShd','authorization','../errors/AppError','Bearer\x20','replace','791192tbKjfJ','default','../models/Setting','12165516IzpohF'];a257_0x2d46=function(){return _0x37e9a1;};return a257_0x2d46();}