const a257_0xdbb96d=a257_0x38a4;function a257_0x38a4(_0x1e9cd7,_0x314f6f){const _0x36b478=a257_0x3fda();return a257_0x38a4=function(_0x51f9c2,_0x519109){_0x51f9c2=_0x51f9c2-0x120;let _0x3fdab9=_0x36b478[_0x51f9c2];return _0x3fdab9;},a257_0x38a4(_0x1e9cd7,_0x314f6f);}(function(_0x2f9f23,_0x4442b9){const _0x383931=a257_0x38a4,_0xf6e2c9=_0x2f9f23();while(!![]){try{const _0x18187d=-parseInt(_0x383931(0x120))/0x1*(parseInt(_0x383931(0x139))/0x2)+-parseInt(_0x383931(0x132))/0x3+-parseInt(_0x383931(0x13d))/0x4*(parseInt(_0x383931(0x12f))/0x5)+-parseInt(_0x383931(0x138))/0x6+-parseInt(_0x383931(0x12d))/0x7*(parseInt(_0x383931(0x12e))/0x8)+parseInt(_0x383931(0x13c))/0x9*(parseInt(_0x383931(0x13a))/0xa)+-parseInt(_0x383931(0x137))/0xb*(-parseInt(_0x383931(0x12a))/0xc);if(_0x18187d===_0x4442b9)break;else _0xf6e2c9['push'](_0xf6e2c9['shift']());}catch(_0x4cc84d){_0xf6e2c9['push'](_0xf6e2c9['shift']());}}}(a257_0x3fda,0x3d0dc));const a257_0x519109=(function(){let _0x5138bb=!![];return function(_0x19c3a7,_0x550f24){const _0x19d82e=_0x5138bb?function(){const _0x376f33=a257_0x38a4;if(_0x550f24){const _0x4bf048=_0x550f24[_0x376f33(0x131)](_0x19c3a7,arguments);return _0x550f24=null,_0x4bf048;}}:function(){};return _0x5138bb=![],_0x19d82e;};}()),a257_0x51f9c2=a257_0x519109(this,function(){const _0x2342e1=a257_0x38a4;return a257_0x51f9c2[_0x2342e1(0x123)]()['search']('(((.+)+)+)+$')['toString']()[_0x2342e1(0x134)](a257_0x51f9c2)[_0x2342e1(0x130)](_0x2342e1(0x13b));});a257_0x51f9c2();function a257_0x3fda(){const _0x2851d7=['profile','24BOGcGZ','../models/User','Token\x20invÃ¡lido','896klGOaM','17960QQLtsV','17975ECtrFs','search','apply','329439dCHXyj','replace','constructor','__esModule','companyId','4047329wRKRfY','1209462CnQFuO','8wxPvFF','50QLGHux','(((.+)+)+)+$','678321EYiqwS','28cottFB','59683vYWnft','log','user','toString','admin','authorization','default','findOne','defineProperty'];a257_0x3fda=function(){return _0x2851d7;};return a257_0x3fda();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x22ab53){const _0x403c08=a257_0x38a4;return _0x22ab53&&_0x22ab53[_0x403c08(0x135)]?_0x22ab53:{'default':_0x22ab53};};Object[a257_0xdbb96d(0x128)](exports,a257_0xdbb96d(0x135),{'value':!![]});const AppError_1=__importDefault(require('../errors/AppError')),User_1=__importDefault(require(a257_0xdbb96d(0x12b))),Setting_1=__importDefault(require('../models/Setting')),apiTokenAuth=async(_0x315f9b,_0x52f85d,_0x461f59)=>{const _0x12d621=a257_0xdbb96d;try{const _0x182481=_0x315f9b['headers'][_0x12d621(0x125)][_0x12d621(0x133)]('Bearer\x20','');if(!_0x182481)return _0x461f59();const _0x53f7f9=await Setting_1[_0x12d621(0x126)][_0x12d621(0x127)]({'where':{'key':'apiToken','value':_0x182481}});if(!_0x53f7f9)return _0x461f59();const _0x41560b=await User_1[_0x12d621(0x126)]['findOne']({'where':{'profile':_0x12d621(0x124),'companyId':_0x53f7f9[_0x12d621(0x136)]}});return _0x41560b&&(_0x315f9b[_0x12d621(0x122)]={'id':''+_0x41560b['id'],'profile':_0x41560b[_0x12d621(0x129)],'isSuper':![],'companyId':_0x53f7f9[_0x12d621(0x136)]}),_0x461f59();}catch(_0x13632b){console[_0x12d621(0x121)](_0x13632b);}throw new AppError_1['default'](_0x12d621(0x12c),0x193);};exports[a257_0xdbb96d(0x126)]=apiTokenAuth;