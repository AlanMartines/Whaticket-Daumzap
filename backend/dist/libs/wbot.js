const a256_0x361d15=a256_0x5810;(function(_0x20676b,_0x23b04d){const _0x245a57=a256_0x5810,_0xb3c0e5=_0x20676b();while(!![]){try{const _0x4c6bb1=-parseInt(_0x245a57(0xe2))/0x1+parseInt(_0x245a57(0xb6))/0x2+parseInt(_0x245a57(0xfe))/0x3*(-parseInt(_0x245a57(0xfd))/0x4)+parseInt(_0x245a57(0x100))/0x5*(parseInt(_0x245a57(0x118))/0x6)+parseInt(_0x245a57(0x11c))/0x7*(parseInt(_0x245a57(0xeb))/0x8)+-parseInt(_0x245a57(0x10b))/0x9+-parseInt(_0x245a57(0xff))/0xa;if(_0x4c6bb1===_0x23b04d)break;else _0xb3c0e5['push'](_0xb3c0e5['shift']());}catch(_0x4d891d){_0xb3c0e5['push'](_0xb3c0e5['shift']());}}}(a256_0xf5b9,0x8eb79));const a256_0x32a094=(function(){let _0x482c93=!![];return function(_0x473eb1,_0x36be60){const _0x32d099=_0x482c93?function(){const _0x5f29cf=a256_0x5810;if(_0x36be60){const _0x1d68b5=_0x36be60[_0x5f29cf(0xa3)](_0x473eb1,arguments);return _0x36be60=null,_0x1d68b5;}}:function(){};return _0x482c93=![],_0x32d099;};}()),a256_0x532a60=a256_0x32a094(this,function(){const _0x13bca3=a256_0x5810;return a256_0x532a60[_0x13bca3(0x10f)]()[_0x13bca3(0xf4)](_0x13bca3(0xd6))[_0x13bca3(0x10f)]()[_0x13bca3(0xf3)](a256_0x532a60)[_0x13bca3(0xf4)](_0x13bca3(0xd6));});a256_0x532a60();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a256_0x361d15(0xdb)]?function(_0x3248ce,_0x43da1a,_0x4b5b1b,_0x577624){const _0x515ea3=a256_0x361d15;if(_0x577624===undefined)_0x577624=_0x4b5b1b;var _0xdc3065=Object['getOwnPropertyDescriptor'](_0x43da1a,_0x4b5b1b);(!_0xdc3065||('get'in _0xdc3065?!_0x43da1a[_0x515ea3(0xfb)]:_0xdc3065['writable']||_0xdc3065[_0x515ea3(0xc0)]))&&(_0xdc3065={'enumerable':!![],'get':function(){return _0x43da1a[_0x4b5b1b];}}),Object['defineProperty'](_0x3248ce,_0x577624,_0xdc3065);}:function(_0x527d85,_0x51359f,_0x1fe081,_0x36a0ff){if(_0x36a0ff===undefined)_0x36a0ff=_0x1fe081;_0x527d85[_0x36a0ff]=_0x51359f[_0x1fe081];}),__setModuleDefault=this&&this[a256_0x361d15(0xf9)]||(Object[a256_0x361d15(0xdb)]?function(_0x51d701,_0x2946ca){const _0x5e374f=a256_0x361d15;Object[_0x5e374f(0x111)](_0x51d701,_0x5e374f(0xad),{'enumerable':!![],'value':_0x2946ca});}:function(_0x5ebe93,_0x23a58d){const _0x230cba=a256_0x361d15;_0x5ebe93[_0x230cba(0xad)]=_0x23a58d;}),__importStar=this&&this[a256_0x361d15(0xa7)]||function(_0xdcbff5){const _0x3ba119=a256_0x361d15;if(_0xdcbff5&&_0xdcbff5['__esModule'])return _0xdcbff5;var _0x17a900={};if(_0xdcbff5!=null){for(var _0x368092 in _0xdcbff5)if(_0x368092!==_0x3ba119(0xad)&&Object[_0x3ba119(0x9a)][_0x3ba119(0xaa)]['call'](_0xdcbff5,_0x368092))__createBinding(_0x17a900,_0xdcbff5,_0x368092);}return __setModuleDefault(_0x17a900,_0xdcbff5),_0x17a900;},__importDefault=this&&this[a256_0x361d15(0xcc)]||function(_0x32c5f7){return _0x32c5f7&&_0x32c5f7['__esModule']?_0x32c5f7:{'default':_0x32c5f7};};Object[a256_0x361d15(0x111)](exports,a256_0x361d15(0xfb),{'value':!![]}),exports[a256_0x361d15(0xe8)]=exports[a256_0x361d15(0xfc)]=exports[a256_0x361d15(0x114)]=exports['removeWbot']=exports[a256_0x361d15(0xd7)]=void 0x0;const Sentry=__importStar(require(a256_0x361d15(0xd2))),baileys_1=__importStar(require(a256_0x361d15(0x10c))),Whatsapp_1=__importDefault(require('../models/Whatsapp')),Contact_1=__importDefault(require(a256_0x361d15(0x10e))),logger_1=require(a256_0x361d15(0xb3)),logger_2=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),authState_1=__importDefault(require(a256_0x361d15(0xa5))),AppError_1=__importDefault(require(a256_0x361d15(0xf5))),socket_1=require(a256_0x361d15(0xe0)),StartWhatsAppSession_1=require(a256_0x361d15(0xf6)),DeleteBaileysService_1=__importDefault(require(a256_0x361d15(0xb1))),node_cache_1=__importDefault(require(a256_0x361d15(0x117))),date_fns_1=require(a256_0x361d15(0xac)),wbotMessageListener_1=require(a256_0x361d15(0xb0)),ImportWhatsAppMessageService_1=__importDefault(require(a256_0x361d15(0xb4))),loggerBaileys=logger_2['default'][a256_0x361d15(0xbd)]({});loggerBaileys['level']=a256_0x361d15(0xe6);function a256_0xf5b9(){const _0x25c5dc=['Importando\x20whtasapp!','hasOwnProperty','BROWSER_VERSION','date-fns','default','get','DisconnectReason','../services/WbotServices/wbotMessageListener','../services/BaileysServices/DeleteBaileysService','-contact','../utils/logger','../services/WhatsappService/ImportWhatsAppMessageService','deviceSentMessage','105736Vbkfpi','bind','join','close','add','importOldMessagesGroups','map','child','listMessage','unshift','configurable','remoteJid','importMessages-','StartWhatsAppSession','set','fetchLatestBaileysVersion','delete','loadMessage','type','removeAllListeners','qrcode','message','__importDefault','includes','wsocket\x20or\x20wsocket.ev\x20is\x20null.','open','10.0','update','@sentry/node','PENDING','stable','Running','(((.+)+)+)+$','getWbot','presence.update','logger','-mainchannel','create','user','isJidBroadcast','proto','using\x20WA\x20v','./socket','forEach','24223GidwkC','\x20Connection\x20Update\x20','Starting\x20session\x20','messaging-history.set','silent','creds.update','initWASocket','getTime','ListMessage','48BsDAtV','Session\x20QRCode\x20Generate\x20','getIO','makeInMemoryStore','statusCode','statusImportMessages','Daumzap','push','constructor','search','../errors/AppError','../services/WbotServices/StartWhatsAppSession','keys','ListType','__setModuleDefault','fromObject','__esModule','dataMessages','20ORUvWQ','59646FVrlyE','1953600sXTCbT','85Dfhqgv','ERR_WAPP_NOT_INITIALIZED','reload','creds','connection.update','output','findIndex','findOne','-whatsappSession','companyId','findAll','2903607mQhokJ','@whiskeysockets/baileys','emit','../models/Contact','toString','listType','defineProperty','info','error','restartWbot','removeWbot','stringify','node-cache','367638CCJLeN','floor','key','PRODUCT_LIST','153622edUYWR','isValidMsg','company-','BROWSER_NAME','prototype','env','loggedOut','importOldMessages','Socket\x20\x20','logout','messageTimestamp','whatsappSession','newsletter','apply','log','../helpers/authState','Message','__importStar','importRecentMessages'];a256_0xf5b9=function(){return _0x25c5dc;};return a256_0xf5b9();}const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x49e24d=>{const _0x4e4124=a256_0x361d15,_0x2344b9=sessions[_0x4e4124(0x106)](_0x4906de=>_0x4906de['id']===_0x49e24d);if(_0x2344b9===-0x1)throw new AppError_1[(_0x4e4124(0xad))](_0x4e4124(0x101));return sessions[_0x2344b9];};function a256_0x5810(_0xf6e3a6,_0x3bb0d1){const _0x29a3c4=a256_0xf5b9();return a256_0x5810=function(_0x532a60,_0x32a094){_0x532a60=_0x532a60-0x9a;let _0xf5b94e=_0x29a3c4[_0x532a60];return _0xf5b94e;},a256_0x5810(_0xf6e3a6,_0x3bb0d1);}exports[a256_0x361d15(0xd7)]=getWbot;const removeWbot=async(_0x147822,_0x3ccfa2=!![])=>{const _0x5eedae=a256_0x361d15;try{const _0x45d2aa=sessions[_0x5eedae(0x106)](_0x19a78e=>_0x19a78e['id']===_0x147822);_0x45d2aa!==-0x1&&(_0x3ccfa2&&(sessions[_0x45d2aa][_0x5eedae(0x9f)](),sessions[_0x45d2aa]['ws'][_0x5eedae(0xb9)]()),sessions['splice'](_0x45d2aa,0x1));}catch(_0x25dc63){logger_1[_0x5eedae(0xd9)]['error'](_0x25dc63);}};exports[a256_0x361d15(0x115)]=removeWbot;const restartWbot=async(_0x5d16ad,_0x3e32d9)=>{const _0x398b15=a256_0x361d15;try{const _0x35d68e={'where':{'companyId':_0x5d16ad},'attributes':['id']},_0x197d3d=await Whatsapp_1[_0x398b15(0xad)][_0x398b15(0x10a)](_0x35d68e);_0x197d3d[_0x398b15(0xbc)](async _0x31199f=>{const _0x4e472b=_0x398b15,_0x5925d3=sessions[_0x4e472b(0x106)](_0x33b807=>_0x33b807['id']===_0x31199f['id']);_0x5925d3!==-0x1&&sessions[_0x5925d3]['ws'][_0x4e472b(0xb9)]();});}catch(_0x25032c){logger_1[_0x398b15(0xd9)][_0x398b15(0x113)](_0x25032c);}};exports[a256_0x361d15(0x114)]=restartWbot,exports['dataMessages']=[];const initWASocket=async _0x1971b2=>{return new Promise(async(_0x39bf93,_0x4794e9)=>{const _0x56f6c5=a256_0x5810;try{await((async()=>{const _0x52e1b7=a256_0x5810,_0x31cd66=(0x0,socket_1[_0x52e1b7(0xed)])(),_0x532f27=await Whatsapp_1[_0x52e1b7(0xad)]['findOne']({'where':{'id':_0x1971b2['id']}});if(!_0x532f27)return;const {id:_0x315c8b,name:_0x399985,provider:_0x2c947a}=_0x532f27,{version:_0x30b751,isLatest:_0x55c2af}=await(0x0,baileys_1[_0x52e1b7(0xc5)])(),_0x11dcc4=_0x2c947a===_0x52e1b7(0xd4)?!![]:![];logger_1[_0x52e1b7(0xd9)][_0x52e1b7(0x112)](_0x52e1b7(0xdf)+_0x30b751[_0x52e1b7(0xb8)]('.')+',\x20isLatest:\x20'+_0x55c2af),logger_1[_0x52e1b7(0xd9)][_0x52e1b7(0x112)]('isLegacy:\x20'+_0x11dcc4),logger_1[_0x52e1b7(0xd9)][_0x52e1b7(0x112)](_0x52e1b7(0xe4)+_0x399985);let _0x48c270=0x0,_0x654dd6=null;const _0x51371f=(0x0,baileys_1[_0x52e1b7(0xee)])({'logger':loggerBaileys});async function _0x31e046(_0x58e41d){const _0xd7f5b0=_0x52e1b7;if(_0x51371f){const _0x1d3432=await _0x51371f[_0xd7f5b0(0xc7)](_0x58e41d['remoteJid'],_0x58e41d['id']);return logger_1[_0xd7f5b0(0xd9)]['debug']({'key':_0x58e41d,'message':JSON[_0xd7f5b0(0x116)](_0x1d3432)},'[wbot.ts]\x20getMessage:\x20result\x20of\x20recovering\x20message\x20'+_0x58e41d[_0xd7f5b0(0xc1)]+'\x20'+_0x58e41d['id']),_0x1d3432?.['message']||undefined;}return baileys_1[_0xd7f5b0(0xde)][_0xd7f5b0(0xa6)][_0xd7f5b0(0xfa)]({});}const {state:_0x2ad5d7,saveState:_0x37e8c6}=await(0x0,authState_1[_0x52e1b7(0xad)])(_0x1971b2),_0x2e4dda=new node_cache_1['default']();_0x654dd6=(0x0,baileys_1['default'])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':[process[_0x52e1b7(0x9b)]['BROWSER_CLIENT']||_0x52e1b7(0xf1),process[_0x52e1b7(0x9b)][_0x52e1b7(0x11f)]||'Chrome',process[_0x52e1b7(0x9b)][_0x52e1b7(0xab)]||_0x52e1b7(0xd0)],'auth':{'creds':_0x2ad5d7[_0x52e1b7(0x103)],'keys':(0x0,baileys_1['makeCacheableSignalKeyStore'])(_0x2ad5d7[_0x52e1b7(0xf7)],loggerBaileys)},'msgRetryCounterCache':_0x2e4dda,'getMessage':_0x31e046,'shouldIgnoreJid':_0x4d1d57=>{const _0x53cf8b=_0x52e1b7;return(0x0,baileys_1[_0x53cf8b(0xdd)])(_0x4d1d57)||_0x4d1d57[_0x53cf8b(0xcd)](_0x53cf8b(0xa2));},'version':[0x2,0xbb8,0x3c8d6c7b],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending'(_0x2b0739){const _0x39f23e=_0x52e1b7;return _0x2b0739[_0x39f23e(0xb5)]?.[_0x39f23e(0xcb)]?.[_0x39f23e(0xbe)]?.[_0x39f23e(0x110)]===baileys_1['proto']['Message'][_0x39f23e(0xea)][_0x39f23e(0xf8)][_0x39f23e(0x11b)]&&(_0x2b0739=JSON['parse'](JSON[_0x39f23e(0x116)](_0x2b0739)),_0x2b0739[_0x39f23e(0xb5)][_0x39f23e(0xcb)][_0x39f23e(0xbe)]['listType']=baileys_1[_0x39f23e(0xde)][_0x39f23e(0xa6)][_0x39f23e(0xea)][_0x39f23e(0xf8)]['SINGLE_SELECT']),_0x2b0739['listMessage']?.['listType']==baileys_1[_0x39f23e(0xde)]['Message'][_0x39f23e(0xea)][_0x39f23e(0xf8)]['PRODUCT_LIST']&&(_0x2b0739=JSON['parse'](JSON['stringify'](_0x2b0739)),_0x2b0739[_0x39f23e(0xbe)][_0x39f23e(0x110)]=baileys_1[_0x39f23e(0xde)]['Message'][_0x39f23e(0xea)]['ListType']['SINGLE_SELECT']),_0x2b0739;}});if(_0x532f27?.[_0x52e1b7(0x9d)]){let _0xc6b6e1=new Date(_0x532f27[_0x52e1b7(0x9d)])[_0x52e1b7(0xe9)](),_0x2be030=_0x532f27[_0x52e1b7(0xa8)]!=''?new Date(_0x532f27[_0x52e1b7(0xa8)])['getTime']():new Date()['getTime']();console[_0x52e1b7(0xa4)](_0x52e1b7(0xa9));const _0x485043=new Date()[_0x52e1b7(0xe9)]();await _0x532f27[_0x52e1b7(0xd1)]({'statusImportMessages':_0x485043}),_0x654dd6['ev']['on'](_0x52e1b7(0xe5),async _0x45adf0=>{const _0x385e42=_0x52e1b7,_0x54dd5b=new Date()[_0x385e42(0xe9)]();await _0x532f27[_0x385e42(0xd1)]({'statusImportMessages':_0x54dd5b});const _0xccef82=_0x1971b2['id'];let _0x1e7827=_0x45adf0['messages'],_0x13e72b=[];_0x1e7827[_0x385e42(0xe1)](_0x56f5d7=>{const _0x2fcae1=_0x385e42,_0x280091=Math[_0x2fcae1(0x119)](_0x56f5d7[_0x2fcae1(0xa0)]*0x3e8);(0x0,wbotMessageListener_1[_0x2fcae1(0x11d)])(_0x56f5d7)&&(_0xc6b6e1<=_0x280091&&_0x2be030>=_0x280091&&(_0x56f5d7[_0x2fcae1(0x11a)]?.[_0x2fcae1(0xc1)]['split']('@')[0x1]!='g.us'?_0x13e72b[_0x2fcae1(0xf2)](_0x56f5d7):_0x532f27?.[_0x2fcae1(0xbb)]&&_0x13e72b['push'](_0x56f5d7)));}),!exports[_0x385e42(0xfc)]?.[_0xccef82]&&(exports['dataMessages'][_0xccef82]=[]),exports[_0x385e42(0xfc)][_0xccef82][_0x385e42(0xbf)](..._0x13e72b),setTimeout(async()=>{const _0x2fd208=_0x385e42;_0x31cd66['to']('company-'+_0x532f27[_0x2fd208(0x109)]+_0x2fd208(0xda))[_0x2fd208(0x10d)](_0x2fd208(0xc2)+_0x532f27['companyId'],{'action':'update','status':{'this':-0x1,'all':-0x1}}),_0x31cd66['to'](_0x2fd208(0x11e)+_0x532f27[_0x2fd208(0x109)]+'-mainchannel')[_0x2fd208(0x10d)](_0x2fd208(0xa1),{'action':'update','session':_0x532f27});},0x1f4),setTimeout(async()=>{const _0x43668d=_0x385e42;let _0x5832a1=!isNaN(new Date(Math[_0x43668d(0x119)](parseInt(_0x532f27?.[_0x43668d(0xf0)])))[_0x43668d(0xe9)]());if(_0x5832a1){const _0x314307=new Date(Math[_0x43668d(0x119)](parseInt(_0x532f27?.[_0x43668d(0xf0)])))[_0x43668d(0xe9)](),_0x2de139=+(0x0,date_fns_1[_0x43668d(0xba)])(_0x314307,{'seconds':+0x2d})[_0x43668d(0xe9)]();_0x2de139<new Date()[_0x43668d(0xe9)]()&&(await(0x0,ImportWhatsAppMessageService_1[_0x43668d(0xad)])(_0x532f27),_0x532f27[_0x43668d(0xd1)]({'statusImportMessages':_0x43668d(0xd5)}));}_0x31cd66['to'](_0x43668d(0x11e)+_0x532f27['companyId']+_0x43668d(0xda))[_0x43668d(0x10d)](_0x43668d(0xa1),{'action':_0x43668d(0xd1),'session':_0x532f27});},0xafc8);});}_0x654dd6['ev']['on'](_0x52e1b7(0x104),async({connection:_0x4d807b,lastDisconnect:_0x39cbf9,qr:_0x648ffb})=>{const _0x13b39f=_0x52e1b7;logger_1['logger'][_0x13b39f(0x112)](_0x13b39f(0x9e)+_0x399985+_0x13b39f(0xe3)+(_0x4d807b||'')+'\x20'+(_0x39cbf9||''));if(_0x654dd6&&_0x654dd6['ev']){_0x4d807b===_0x13b39f(0xb9)&&(_0x39cbf9?.[_0x13b39f(0x113)]?.['output']?.['statusCode']===0x193&&(await _0x1971b2['update']({'status':_0x13b39f(0xd3),'session':'','number':''}),await(0x0,DeleteBaileysService_1['default'])(_0x1971b2['id']),_0x31cd66['to'](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0xda))[_0x13b39f(0x10d)](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0x108),{'action':'update','session':_0x1971b2}),await(0x0,exports[_0x13b39f(0x115)])(_0x315c8b,![])),_0x39cbf9?.[_0x13b39f(0x113)]?.[_0x13b39f(0x105)]?.[_0x13b39f(0xef)]!==baileys_1[_0x13b39f(0xaf)][_0x13b39f(0x9c)]?(await(0x0,exports['removeWbot'])(_0x315c8b,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x13b39f(0xc3)])(_0x1971b2,_0x1971b2[_0x13b39f(0x109)]),0x7d0)):(await _0x1971b2['update']({'status':'PENDING','session':'','number':''}),await(0x0,DeleteBaileysService_1[_0x13b39f(0xad)])(_0x1971b2['id']),_0x31cd66['to'](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0xda))['emit'](_0x13b39f(0x11e)+_0x1971b2['companyId']+_0x13b39f(0x108),{'action':'update','session':_0x1971b2}),await(0x0,exports[_0x13b39f(0x115)])(_0x315c8b,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x13b39f(0xc3)])(_0x1971b2,_0x1971b2[_0x13b39f(0x109)]),0x7d0)));if(_0x4d807b===_0x13b39f(0xcf)){await _0x1971b2[_0x13b39f(0xd1)]({'status':'CONNECTED','qrcode':'','retries':0x0,'number':_0x654dd6[_0x13b39f(0xc8)]==='md'?(0x0,baileys_1['jidNormalizedUser'])(_0x654dd6[_0x13b39f(0xdc)]['id'])['split']('@')[0x0]:'-'}),_0x31cd66['to']('company-'+_0x1971b2['companyId']+'-mainchannel')[_0x13b39f(0x10d)](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0x108),{'action':_0x13b39f(0xd1),'session':_0x1971b2});const _0xc7a07b=sessions[_0x13b39f(0x106)](_0x5e2156=>_0x5e2156['id']===_0x1971b2['id']);_0xc7a07b===-0x1&&(_0x654dd6['id']=_0x1971b2['id'],sessions[_0x13b39f(0xf2)](_0x654dd6)),_0x39bf93(_0x654dd6);}if(_0x648ffb!==undefined){if(retriesQrCodeMap[_0x13b39f(0xae)](_0x315c8b)&&retriesQrCodeMap[_0x13b39f(0xae)](_0x315c8b)>=0x3)await _0x532f27[_0x13b39f(0xd1)]({'status':'DISCONNECTED','qrcode':''}),await(0x0,DeleteBaileysService_1[_0x13b39f(0xad)])(_0x532f27['id']),_0x31cd66['to'](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0xda))[_0x13b39f(0x10d)](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0x108),{'action':'update','session':_0x532f27}),_0x654dd6['ev'][_0x13b39f(0xc9)](_0x13b39f(0x104)),_0x654dd6['ws'][_0x13b39f(0xb9)](),_0x654dd6=null,retriesQrCodeMap[_0x13b39f(0xc6)](_0x315c8b);else{logger_1[_0x13b39f(0xd9)][_0x13b39f(0x112)](_0x13b39f(0xec)+_0x399985),retriesQrCodeMap[_0x13b39f(0xc4)](_0x315c8b,_0x48c270+=0x1),await _0x1971b2[_0x13b39f(0xd1)]({'qrcode':_0x648ffb,'status':_0x13b39f(0xca),'retries':0x0,'number':''});const _0x3f52e1=sessions[_0x13b39f(0x106)](_0x53493d=>_0x53493d['id']===_0x1971b2['id']);_0x3f52e1===-0x1&&(_0x654dd6['id']=_0x1971b2['id'],sessions['push'](_0x654dd6)),_0x31cd66['to'](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0xda))['emit'](_0x13b39f(0x11e)+_0x1971b2[_0x13b39f(0x109)]+_0x13b39f(0x108),{'action':_0x13b39f(0xd1),'session':_0x1971b2});}}}else console['log'](_0x13b39f(0xce));}),_0x654dd6['ev']['on'](_0x52e1b7(0xe7),_0x37e8c6),_0x654dd6['ev']['on'](_0x52e1b7(0xd8),async({id:_0x7a2cd7,presences:_0x49481b})=>{const _0x3048c2=_0x52e1b7;try{const _0xed45c2=await Contact_1[_0x3048c2(0xad)][_0x3048c2(0x107)]({'where':{'number':_0x7a2cd7['replace'](/\D/g,''),'companyId':_0x1971b2[_0x3048c2(0x109)]}});await _0xed45c2[_0x3048c2(0xd1)]({'presence':_0x49481b[_0x7a2cd7]['lastKnownPresence']}),await _0xed45c2[_0x3048c2(0x102)](),_0x31cd66['to'](_0x3048c2(0x11e)+_0x1971b2[_0x3048c2(0x109)]+_0x3048c2(0xda))[_0x3048c2(0x10d)](_0x3048c2(0x11e)+_0x1971b2[_0x3048c2(0x109)]+_0x3048c2(0xb2),{'action':_0x3048c2(0xd1),'contact':_0xed45c2});}catch(_0x1417ff){}}),_0x51371f[_0x52e1b7(0xb7)](_0x654dd6['ev']);})());}catch(_0x2a083f){Sentry['captureException'](_0x2a083f),console[_0x56f6c5(0xa4)](_0x2a083f),_0x4794e9(_0x2a083f);}});};exports[a256_0x361d15(0xe8)]=initWASocket;