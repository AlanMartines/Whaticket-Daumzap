const a256_0x17112f=a256_0x579e;(function(_0x29b14e,_0x56a683){const _0x2c7183=a256_0x579e,_0x1df4bf=_0x29b14e();while(!![]){try{const _0xf766b6=parseInt(_0x2c7183(0xe6))/0x1*(parseInt(_0x2c7183(0xde))/0x2)+-parseInt(_0x2c7183(0x10d))/0x3*(-parseInt(_0x2c7183(0x119))/0x4)+parseInt(_0x2c7183(0xe2))/0x5*(parseInt(_0x2c7183(0xc5))/0x6)+-parseInt(_0x2c7183(0xa9))/0x7*(-parseInt(_0x2c7183(0x109))/0x8)+parseInt(_0x2c7183(0xcd))/0x9*(-parseInt(_0x2c7183(0xc2))/0xa)+-parseInt(_0x2c7183(0xfc))/0xb+parseInt(_0x2c7183(0xd2))/0xc;if(_0xf766b6===_0x56a683)break;else _0x1df4bf['push'](_0x1df4bf['shift']());}catch(_0x790ff6){_0x1df4bf['push'](_0x1df4bf['shift']());}}}(a256_0x4ddb,0x5c702));const a256_0x20a26b=(function(){let _0x49d3ea=!![];return function(_0x38b25a,_0xf6b81b){const _0x4cbe12=_0x49d3ea?function(){const _0x57be23=a256_0x579e;if(_0xf6b81b){const _0x4b8d93=_0xf6b81b[_0x57be23(0xbd)](_0x38b25a,arguments);return _0xf6b81b=null,_0x4b8d93;}}:function(){};return _0x49d3ea=![],_0x4cbe12;};}()),a256_0x59c313=a256_0x20a26b(this,function(){const _0x377f55=a256_0x579e;return a256_0x59c313['toString']()[_0x377f55(0xee)]('(((.+)+)+)+$')[_0x377f55(0x10e)]()[_0x377f55(0xff)](a256_0x59c313)[_0x377f55(0xee)](_0x377f55(0xa2));});function a256_0x4ddb(){const _0x550467=['../services/WbotServices/StartWhatsAppSession','../utils/logger','parse','includes','-mainchannel','[wbot.ts]\x20getMessage:\x20result\x20of\x20recovering\x20message\x20','BROWSER_VERSION','120mkDwzh','logger','deviceSentMessage','../models/Whatsapp','382938vBrcee','toString','../errors/AppError','__createBinding','dataMessages','statusImportMessages','\x20Connection\x20Update\x20','importRecentMessages','makeInMemoryStore','using\x20WA\x20v',',\x20isLatest:\x20','loggedOut','12hLoADH','remoteJid','Importando\x20whtasapp!','join','__setModuleDefault','get','proto','@whiskeysockets/baileys','prototype','BROWSER_CLIENT','CONNECTED','env','SINGLE_SELECT','fetchLatestBaileysVersion','ListType','makeCacheableSignalKeyStore','listType','loadMessage','ListMessage','split','(((.+)+)+)+$','jidNormalizedUser','-contact','findIndex','creds','removeWbot','findAll','76237vRlvrI','g.us','message','10.0','captureException','floor','defineProperty','statusCode','getTime','add','importMessages-','set','create','restartWbot','listMessage','getWbot','__esModule','push','./socket','whatsappSession','apply','Socket\x20\x20','call','emit','../services/BaileysServices/DeleteBaileysService','16000FJNjop','fromObject','companyId','12uYjFwD','error','StartWhatsAppSession','key','stringify','open','findOne','hasOwnProperty','1773sgcDdw','../models/Contact','initWASocket','log','importOldMessages','166992tbupmN','PENDING','../helpers/authState','logout','Chrome','keys','reload','PRODUCT_LIST','Running','@sentry/node','__importStar','Message','45462XmwSBP','close','wsocket\x20or\x20wsocket.ev\x20is\x20null.','child','425820KkHdSM','info','update','connection.update','19bGQBZc','removeAllListeners','importOldMessagesGroups','messages','DisconnectReason','BROWSER_NAME','isJidBroadcast','creds.update','search','level','configurable','../services/WbotServices/wbotMessageListener','output','getOwnPropertyDescriptor','messaging-history.set','unshift','default','date-fns','delete','-whatsappSession','node-cache','company-','5154710RDWEpx','map','presence.update','constructor','replace','debug'];a256_0x4ddb=function(){return _0x550467;};return a256_0x4ddb();}a256_0x59c313();'use strict';var __createBinding=this&&this[a256_0x17112f(0x110)]||(Object[a256_0x17112f(0xb5)]?function(_0x271396,_0x263525,_0x4b3560,_0x31275a){const _0x19a70f=a256_0x17112f;if(_0x31275a===undefined)_0x31275a=_0x4b3560;var _0x1c451e=Object[_0x19a70f(0xf3)](_0x263525,_0x4b3560);(!_0x1c451e||(_0x19a70f(0x11e)in _0x1c451e?!_0x263525[_0x19a70f(0xb9)]:_0x1c451e['writable']||_0x1c451e[_0x19a70f(0xf0)]))&&(_0x1c451e={'enumerable':!![],'get':function(){return _0x263525[_0x4b3560];}}),Object[_0x19a70f(0xaf)](_0x271396,_0x31275a,_0x1c451e);}:function(_0x17ce00,_0x5cbf52,_0x5672bd,_0x2bb0e7){if(_0x2bb0e7===undefined)_0x2bb0e7=_0x5672bd;_0x17ce00[_0x2bb0e7]=_0x5cbf52[_0x5672bd];}),__setModuleDefault=this&&this[a256_0x17112f(0x11d)]||(Object[a256_0x17112f(0xb5)]?function(_0x588d71,_0x261d2d){const _0x3f250b=a256_0x17112f;Object[_0x3f250b(0xaf)](_0x588d71,_0x3f250b(0xf6),{'enumerable':!![],'value':_0x261d2d});}:function(_0x3de350,_0x16e475){const _0x425e55=a256_0x17112f;_0x3de350[_0x425e55(0xf6)]=_0x16e475;}),__importStar=this&&this[a256_0x17112f(0xdc)]||function(_0x16165c){const _0x2658bb=a256_0x17112f;if(_0x16165c&&_0x16165c['__esModule'])return _0x16165c;var _0x4bc876={};if(_0x16165c!=null){for(var _0x146052 in _0x16165c)if(_0x146052!=='default'&&Object[_0x2658bb(0x121)][_0x2658bb(0xcc)][_0x2658bb(0xbf)](_0x16165c,_0x146052))__createBinding(_0x4bc876,_0x16165c,_0x146052);}return __setModuleDefault(_0x4bc876,_0x16165c),_0x4bc876;},__importDefault=this&&this['__importDefault']||function(_0x299d35){const _0xc7982b=a256_0x17112f;return _0x299d35&&_0x299d35[_0xc7982b(0xb9)]?_0x299d35:{'default':_0x299d35};};Object[a256_0x17112f(0xaf)](exports,a256_0x17112f(0xb9),{'value':!![]}),exports[a256_0x17112f(0xcf)]=exports[a256_0x17112f(0x111)]=exports[a256_0x17112f(0xb6)]=exports[a256_0x17112f(0xa7)]=exports[a256_0x17112f(0xb8)]=void 0x0;const Sentry=__importStar(require(a256_0x17112f(0xdb))),baileys_1=__importStar(require(a256_0x17112f(0x120))),Whatsapp_1=__importDefault(require(a256_0x17112f(0x10c))),Contact_1=__importDefault(require(a256_0x17112f(0xce))),logger_1=require(a256_0x17112f(0x103)),logger_2=__importDefault(require('@whiskeysockets/baileys/lib/Utils/logger')),authState_1=__importDefault(require(a256_0x17112f(0xd4))),AppError_1=__importDefault(require(a256_0x17112f(0x10f))),socket_1=require(a256_0x17112f(0xbb)),StartWhatsAppSession_1=require(a256_0x17112f(0x102)),DeleteBaileysService_1=__importDefault(require(a256_0x17112f(0xc1))),node_cache_1=__importDefault(require(a256_0x17112f(0xfa))),date_fns_1=require(a256_0x17112f(0xf7)),wbotMessageListener_1=require(a256_0x17112f(0xf1)),ImportWhatsAppMessageService_1=__importDefault(require('../services/WhatsappService/ImportWhatsAppMessageService')),loggerBaileys=logger_2[a256_0x17112f(0xf6)][a256_0x17112f(0xe1)]({});loggerBaileys[a256_0x17112f(0xef)]='silent';function a256_0x579e(_0x8e9c81,_0x3477b5){const _0x852d67=a256_0x4ddb();return a256_0x579e=function(_0x59c313,_0x20a26b){_0x59c313=_0x59c313-0x9e;let _0x4ddbfd=_0x852d67[_0x59c313];return _0x4ddbfd;},a256_0x579e(_0x8e9c81,_0x3477b5);}const sessions=[],retriesQrCodeMap=new Map(),getWbot=_0x281ab7=>{const _0x41cd76=a256_0x17112f,_0x2e0bb9=sessions[_0x41cd76(0xa5)](_0x4b2376=>_0x4b2376['id']===_0x281ab7);if(_0x2e0bb9===-0x1)throw new AppError_1[(_0x41cd76(0xf6))]('ERR_WAPP_NOT_INITIALIZED');return sessions[_0x2e0bb9];};exports[a256_0x17112f(0xb8)]=getWbot;const removeWbot=async(_0x32b46a,_0x511ffc=!![])=>{const _0x2cc823=a256_0x17112f;try{const _0x3c0c07=sessions[_0x2cc823(0xa5)](_0x3e8267=>_0x3e8267['id']===_0x32b46a);_0x3c0c07!==-0x1&&(_0x511ffc&&(sessions[_0x3c0c07][_0x2cc823(0xd5)](),sessions[_0x3c0c07]['ws'][_0x2cc823(0xdf)]()),sessions['splice'](_0x3c0c07,0x1));}catch(_0x25c810){logger_1[_0x2cc823(0x10a)][_0x2cc823(0xc6)](_0x25c810);}};exports[a256_0x17112f(0xa7)]=removeWbot;const restartWbot=async(_0xe5c23f,_0x474209)=>{const _0x507d95=a256_0x17112f;try{const _0x2dcb9b={'where':{'companyId':_0xe5c23f},'attributes':['id']},_0x5cd6b5=await Whatsapp_1['default'][_0x507d95(0xa8)](_0x2dcb9b);_0x5cd6b5[_0x507d95(0xfd)](async _0x596412=>{const _0x447b74=_0x507d95,_0x502e5c=sessions[_0x447b74(0xa5)](_0x17e2d7=>_0x17e2d7['id']===_0x596412['id']);_0x502e5c!==-0x1&&sessions[_0x502e5c]['ws']['close']();});}catch(_0x4dfb56){logger_1[_0x507d95(0x10a)][_0x507d95(0xc6)](_0x4dfb56);}};exports['restartWbot']=restartWbot,exports[a256_0x17112f(0x111)]=[];const initWASocket=async _0x21cb7e=>{return new Promise(async(_0x18f19d,_0xa41097)=>{const _0x498423=a256_0x579e;try{await((async()=>{const _0x19c37a=a256_0x579e,_0x2bf665=(0x0,socket_1['getIO'])(),_0x557a3a=await Whatsapp_1['default'][_0x19c37a(0xcb)]({'where':{'id':_0x21cb7e['id']}});if(!_0x557a3a)return;const {id:_0x48b5dc,name:_0x3a78f4,provider:_0x5ce9f3}=_0x557a3a,{version:_0x1bd8ee,isLatest:_0x21a8fa}=await(0x0,baileys_1[_0x19c37a(0x126)])(),_0x3c2e6c=_0x5ce9f3==='stable'?!![]:![];logger_1['logger'][_0x19c37a(0xe3)](_0x19c37a(0x116)+_0x1bd8ee[_0x19c37a(0x11c)]('.')+_0x19c37a(0x117)+_0x21a8fa),logger_1[_0x19c37a(0x10a)][_0x19c37a(0xe3)]('isLegacy:\x20'+_0x3c2e6c),logger_1[_0x19c37a(0x10a)][_0x19c37a(0xe3)]('Starting\x20session\x20'+_0x3a78f4);let _0x6e5f41=0x0,_0x566693=null;const _0x21f927=(0x0,baileys_1[_0x19c37a(0x115)])({'logger':loggerBaileys});async function _0x528d18(_0x433bd4){const _0xc13c74=_0x19c37a;if(_0x21f927){const _0x30be72=await _0x21f927[_0xc13c74(0x9f)](_0x433bd4[_0xc13c74(0x11a)],_0x433bd4['id']);return logger_1['logger'][_0xc13c74(0x101)]({'key':_0x433bd4,'message':JSON[_0xc13c74(0xc9)](_0x30be72)},_0xc13c74(0x107)+_0x433bd4[_0xc13c74(0x11a)]+'\x20'+_0x433bd4['id']),_0x30be72?.['message']||undefined;}return baileys_1['proto'][_0xc13c74(0xdd)][_0xc13c74(0xc3)]({});}const {state:_0x2a52e5,saveState:_0x570519}=await(0x0,authState_1[_0x19c37a(0xf6)])(_0x21cb7e),_0x1cc140=new node_cache_1[(_0x19c37a(0xf6))]();_0x566693=(0x0,baileys_1[_0x19c37a(0xf6)])({'logger':loggerBaileys,'printQRInTerminal':![],'browser':[process['env'][_0x19c37a(0x122)]||'Daumzap',process[_0x19c37a(0x124)][_0x19c37a(0xeb)]||_0x19c37a(0xd6),process[_0x19c37a(0x124)][_0x19c37a(0x108)]||_0x19c37a(0xac)],'auth':{'creds':_0x2a52e5[_0x19c37a(0xa6)],'keys':(0x0,baileys_1[_0x19c37a(0x128)])(_0x2a52e5[_0x19c37a(0xd7)],loggerBaileys)},'msgRetryCounterCache':_0x1cc140,'getMessage':_0x528d18,'shouldIgnoreJid':_0x5403ed=>{const _0x7aa629=_0x19c37a;return(0x0,baileys_1[_0x7aa629(0xec)])(_0x5403ed)||_0x5403ed[_0x7aa629(0x105)]('newsletter');},'version':[0x2,0xbb8,0x3c8d6c7b],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending'(_0x39c6ef){const _0x4bf723=_0x19c37a;return _0x39c6ef[_0x4bf723(0x10b)]?.['message']?.[_0x4bf723(0xb7)]?.[_0x4bf723(0x9e)]===baileys_1[_0x4bf723(0x11f)]['Message'][_0x4bf723(0xa0)]['ListType'][_0x4bf723(0xd9)]&&(_0x39c6ef=JSON[_0x4bf723(0x104)](JSON[_0x4bf723(0xc9)](_0x39c6ef)),_0x39c6ef[_0x4bf723(0x10b)][_0x4bf723(0xab)][_0x4bf723(0xb7)][_0x4bf723(0x9e)]=baileys_1[_0x4bf723(0x11f)][_0x4bf723(0xdd)][_0x4bf723(0xa0)]['ListType']['SINGLE_SELECT']),_0x39c6ef[_0x4bf723(0xb7)]?.[_0x4bf723(0x9e)]==baileys_1[_0x4bf723(0x11f)][_0x4bf723(0xdd)][_0x4bf723(0xa0)][_0x4bf723(0x127)][_0x4bf723(0xd9)]&&(_0x39c6ef=JSON[_0x4bf723(0x104)](JSON[_0x4bf723(0xc9)](_0x39c6ef)),_0x39c6ef[_0x4bf723(0xb7)][_0x4bf723(0x9e)]=baileys_1[_0x4bf723(0x11f)][_0x4bf723(0xdd)][_0x4bf723(0xa0)][_0x4bf723(0x127)][_0x4bf723(0x125)]),_0x39c6ef;}});if(_0x557a3a?.[_0x19c37a(0xd1)]){let _0xf02681=new Date(_0x557a3a[_0x19c37a(0xd1)])[_0x19c37a(0xb1)](),_0x5906bc=_0x557a3a[_0x19c37a(0x114)]!=''?new Date(_0x557a3a['importRecentMessages'])['getTime']():new Date()[_0x19c37a(0xb1)]();console[_0x19c37a(0xd0)](_0x19c37a(0x11b));const _0x422073=new Date()[_0x19c37a(0xb1)]();await _0x557a3a[_0x19c37a(0xe4)]({'statusImportMessages':_0x422073}),_0x566693['ev']['on'](_0x19c37a(0xf4),async _0x422a9f=>{const _0x1f6fc4=_0x19c37a,_0xc8555a=new Date()['getTime']();await _0x557a3a[_0x1f6fc4(0xe4)]({'statusImportMessages':_0xc8555a});const _0x5a4636=_0x21cb7e['id'];let _0x25cd13=_0x422a9f[_0x1f6fc4(0xe9)],_0x358711=[];_0x25cd13['forEach'](_0x3b8353=>{const _0x552515=_0x1f6fc4,_0x3f4ea8=Math['floor'](_0x3b8353['messageTimestamp']*0x3e8);(0x0,wbotMessageListener_1['isValidMsg'])(_0x3b8353)&&(_0xf02681<=_0x3f4ea8&&_0x5906bc>=_0x3f4ea8&&(_0x3b8353[_0x552515(0xc8)]?.[_0x552515(0x11a)]['split']('@')[0x1]!=_0x552515(0xaa)?_0x358711['push'](_0x3b8353):_0x557a3a?.[_0x552515(0xe8)]&&_0x358711['push'](_0x3b8353)));}),!exports[_0x1f6fc4(0x111)]?.[_0x5a4636]&&(exports[_0x1f6fc4(0x111)][_0x5a4636]=[]),exports['dataMessages'][_0x5a4636][_0x1f6fc4(0xf5)](..._0x358711),setTimeout(async()=>{const _0x25a45f=_0x1f6fc4;_0x2bf665['to'](_0x25a45f(0xfb)+_0x557a3a[_0x25a45f(0xc4)]+'-mainchannel')[_0x25a45f(0xc0)](_0x25a45f(0xb3)+_0x557a3a[_0x25a45f(0xc4)],{'action':_0x25a45f(0xe4),'status':{'this':-0x1,'all':-0x1}}),_0x2bf665['to'](_0x25a45f(0xfb)+_0x557a3a[_0x25a45f(0xc4)]+_0x25a45f(0x106))[_0x25a45f(0xc0)](_0x25a45f(0xbc),{'action':_0x25a45f(0xe4),'session':_0x557a3a});},0x1f4),setTimeout(async()=>{const _0x2bcf66=_0x1f6fc4;let _0x2e5d98=!isNaN(new Date(Math[_0x2bcf66(0xae)](parseInt(_0x557a3a?.[_0x2bcf66(0x112)])))[_0x2bcf66(0xb1)]());if(_0x2e5d98){const _0x54c779=new Date(Math['floor'](parseInt(_0x557a3a?.[_0x2bcf66(0x112)])))[_0x2bcf66(0xb1)](),_0x9cedfe=+(0x0,date_fns_1[_0x2bcf66(0xb2)])(_0x54c779,{'seconds':+0x2d})[_0x2bcf66(0xb1)]();_0x9cedfe<new Date()['getTime']()&&(await(0x0,ImportWhatsAppMessageService_1['default'])(_0x557a3a),_0x557a3a['update']({'statusImportMessages':_0x2bcf66(0xda)}));}_0x2bf665['to'](_0x2bcf66(0xfb)+_0x557a3a[_0x2bcf66(0xc4)]+_0x2bcf66(0x106))[_0x2bcf66(0xc0)]('whatsappSession',{'action':'update','session':_0x557a3a});},0xafc8);});}_0x566693['ev']['on'](_0x19c37a(0xe5),async({connection:_0x513669,lastDisconnect:_0x4f186e,qr:_0x40749f})=>{const _0x387293=_0x19c37a;logger_1['logger'][_0x387293(0xe3)](_0x387293(0xbe)+_0x3a78f4+_0x387293(0x113)+(_0x513669||'')+'\x20'+(_0x4f186e||''));if(_0x566693&&_0x566693['ev']){_0x513669===_0x387293(0xdf)&&(_0x4f186e?.[_0x387293(0xc6)]?.[_0x387293(0xf2)]?.[_0x387293(0xb0)]===0x193&&(await _0x21cb7e[_0x387293(0xe4)]({'status':_0x387293(0xd3),'session':'','number':''}),await(0x0,DeleteBaileysService_1['default'])(_0x21cb7e['id']),_0x2bf665['to']('company-'+_0x21cb7e['companyId']+_0x387293(0x106))['emit'](_0x387293(0xfb)+_0x21cb7e[_0x387293(0xc4)]+_0x387293(0xf9),{'action':_0x387293(0xe4),'session':_0x21cb7e}),await(0x0,exports[_0x387293(0xa7)])(_0x48b5dc,![])),_0x4f186e?.[_0x387293(0xc6)]?.['output']?.[_0x387293(0xb0)]!==baileys_1[_0x387293(0xea)][_0x387293(0x118)]?(await(0x0,exports[_0x387293(0xa7)])(_0x48b5dc,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x387293(0xc7)])(_0x21cb7e,_0x21cb7e[_0x387293(0xc4)]),0x7d0)):(await _0x21cb7e[_0x387293(0xe4)]({'status':_0x387293(0xd3),'session':'','number':''}),await(0x0,DeleteBaileysService_1[_0x387293(0xf6)])(_0x21cb7e['id']),_0x2bf665['to'](_0x387293(0xfb)+_0x21cb7e['companyId']+_0x387293(0x106))[_0x387293(0xc0)](_0x387293(0xfb)+_0x21cb7e[_0x387293(0xc4)]+_0x387293(0xf9),{'action':_0x387293(0xe4),'session':_0x21cb7e}),await(0x0,exports['removeWbot'])(_0x48b5dc,![]),setTimeout(()=>(0x0,StartWhatsAppSession_1[_0x387293(0xc7)])(_0x21cb7e,_0x21cb7e[_0x387293(0xc4)]),0x7d0)));if(_0x513669===_0x387293(0xca)){await _0x21cb7e[_0x387293(0xe4)]({'status':_0x387293(0x123),'qrcode':'','retries':0x0,'number':_0x566693['type']==='md'?(0x0,baileys_1[_0x387293(0xa3)])(_0x566693['user']['id'])[_0x387293(0xa1)]('@')[0x0]:'-'}),_0x2bf665['to'](_0x387293(0xfb)+_0x21cb7e[_0x387293(0xc4)]+_0x387293(0x106))['emit'](_0x387293(0xfb)+_0x21cb7e['companyId']+'-whatsappSession',{'action':_0x387293(0xe4),'session':_0x21cb7e});const _0x3f56a6=sessions[_0x387293(0xa5)](_0x56684a=>_0x56684a['id']===_0x21cb7e['id']);_0x3f56a6===-0x1&&(_0x566693['id']=_0x21cb7e['id'],sessions[_0x387293(0xba)](_0x566693)),_0x18f19d(_0x566693);}if(_0x40749f!==undefined){if(retriesQrCodeMap[_0x387293(0x11e)](_0x48b5dc)&&retriesQrCodeMap['get'](_0x48b5dc)>=0x3)await _0x557a3a['update']({'status':'DISCONNECTED','qrcode':''}),await(0x0,DeleteBaileysService_1[_0x387293(0xf6)])(_0x557a3a['id']),_0x2bf665['to'](_0x387293(0xfb)+_0x21cb7e[_0x387293(0xc4)]+_0x387293(0x106))[_0x387293(0xc0)]('company-'+_0x21cb7e['companyId']+_0x387293(0xf9),{'action':'update','session':_0x557a3a}),_0x566693['ev'][_0x387293(0xe7)](_0x387293(0xe5)),_0x566693['ws']['close'](),_0x566693=null,retriesQrCodeMap[_0x387293(0xf8)](_0x48b5dc);else{logger_1['logger'][_0x387293(0xe3)]('Session\x20QRCode\x20Generate\x20'+_0x3a78f4),retriesQrCodeMap[_0x387293(0xb4)](_0x48b5dc,_0x6e5f41+=0x1),await _0x21cb7e[_0x387293(0xe4)]({'qrcode':_0x40749f,'status':'qrcode','retries':0x0,'number':''});const _0xde6b2a=sessions[_0x387293(0xa5)](_0x13f67b=>_0x13f67b['id']===_0x21cb7e['id']);_0xde6b2a===-0x1&&(_0x566693['id']=_0x21cb7e['id'],sessions[_0x387293(0xba)](_0x566693)),_0x2bf665['to']('company-'+_0x21cb7e[_0x387293(0xc4)]+_0x387293(0x106))['emit'](_0x387293(0xfb)+_0x21cb7e['companyId']+_0x387293(0xf9),{'action':_0x387293(0xe4),'session':_0x21cb7e});}}}else console['log'](_0x387293(0xe0));}),_0x566693['ev']['on'](_0x19c37a(0xed),_0x570519),_0x566693['ev']['on'](_0x19c37a(0xfe),async({id:_0x18bcc3,presences:_0x288c38})=>{const _0x51965b=_0x19c37a;try{const _0x562cd8=await Contact_1[_0x51965b(0xf6)][_0x51965b(0xcb)]({'where':{'number':_0x18bcc3[_0x51965b(0x100)](/\D/g,''),'companyId':_0x21cb7e[_0x51965b(0xc4)]}});await _0x562cd8[_0x51965b(0xe4)]({'presence':_0x288c38[_0x18bcc3]['lastKnownPresence']}),await _0x562cd8[_0x51965b(0xd8)](),_0x2bf665['to'](_0x51965b(0xfb)+_0x21cb7e['companyId']+'-mainchannel')[_0x51965b(0xc0)](_0x51965b(0xfb)+_0x21cb7e['companyId']+_0x51965b(0xa4),{'action':_0x51965b(0xe4),'contact':_0x562cd8});}catch(_0x32ec5d){}}),_0x21f927['bind'](_0x566693['ev']);})());}catch(_0x3116d8){Sentry[_0x498423(0xad)](_0x3116d8),console[_0x498423(0xd0)](_0x3116d8),_0xa41097(_0x3116d8);}});};exports[a256_0x17112f(0xcf)]=initWASocket;