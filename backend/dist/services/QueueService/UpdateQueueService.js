function a479_0x438d(){const _0x4d2494=['36424HhBbfK','553Ikzuvr','writable','../../errors/AppError','call','message','default','update','findOne','min','get','prototype','Check-color','__esModule','(((.+)+)+)+$','hasOwnProperty','281968TMHKrL','companyId','string','test','Check-color-exists','Check-unique-name','validate','__importStar','object','create','required','toString','constructor','defineProperty','__setModuleDefault','4dgaWZI','sequelize','shape','1JGyPDp','__createBinding','4572385iIjQfH','./ShowQueueService','5300892sZfoZS','2716833jJMjJR','search','apply','4017426cLLizq','ERR_QUEUE_INVALID_COLOR','22864840bAXFqH'];a479_0x438d=function(){return _0x4d2494;};return a479_0x438d();}const a479_0x59f40d=a479_0x40da;(function(_0xe7c7d2,_0x2878f7){const _0x1a421c=a479_0x40da,_0x3832be=_0xe7c7d2();while(!![]){try{const _0x3bb3c2=parseInt(_0x1a421c(0x73))/0x1*(-parseInt(_0x1a421c(0x8e))/0x2)+-parseInt(_0x1a421c(0x78))/0x3+-parseInt(_0x1a421c(0x70))/0x4*(-parseInt(_0x1a421c(0x75))/0x5)+-parseInt(_0x1a421c(0x7b))/0x6+parseInt(_0x1a421c(0x7f))/0x7*(-parseInt(_0x1a421c(0x7e))/0x8)+-parseInt(_0x1a421c(0x77))/0x9+parseInt(_0x1a421c(0x7d))/0xa;if(_0x3bb3c2===_0x2878f7)break;else _0x3832be['push'](_0x3832be['shift']());}catch(_0x19a1c7){_0x3832be['push'](_0x3832be['shift']());}}}(a479_0x438d,0x82e38));const a479_0x22b633=(function(){let _0x4f22f2=!![];return function(_0x28f52c,_0x38168c){const _0x54c1a4=_0x4f22f2?function(){const _0x39907a=a479_0x40da;if(_0x38168c){const _0x4866f4=_0x38168c[_0x39907a(0x7a)](_0x28f52c,arguments);return _0x38168c=null,_0x4866f4;}}:function(){};return _0x4f22f2=![],_0x54c1a4;};}()),a479_0x136c10=a479_0x22b633(this,function(){const _0x2e9a1a=a479_0x40da;return a479_0x136c10[_0x2e9a1a(0x6c)]()[_0x2e9a1a(0x79)](_0x2e9a1a(0x8c))[_0x2e9a1a(0x6c)]()[_0x2e9a1a(0x6d)](a479_0x136c10)[_0x2e9a1a(0x79)](_0x2e9a1a(0x8c));});a479_0x136c10();'use strict';var __createBinding=this&&this[a479_0x59f40d(0x74)]||(Object[a479_0x59f40d(0x97)]?function(_0x6c69e1,_0xc3bfa,_0x5b6942,_0x3fd2dd){const _0x31aae8=a479_0x59f40d;if(_0x3fd2dd===undefined)_0x3fd2dd=_0x5b6942;var _0x307592=Object['getOwnPropertyDescriptor'](_0xc3bfa,_0x5b6942);(!_0x307592||(_0x31aae8(0x88)in _0x307592?!_0xc3bfa[_0x31aae8(0x8b)]:_0x307592[_0x31aae8(0x80)]||_0x307592['configurable']))&&(_0x307592={'enumerable':!![],'get':function(){return _0xc3bfa[_0x5b6942];}}),Object[_0x31aae8(0x6e)](_0x6c69e1,_0x3fd2dd,_0x307592);}:function(_0x5b3920,_0x2f479d,_0x155e7a,_0x93b822){if(_0x93b822===undefined)_0x93b822=_0x155e7a;_0x5b3920[_0x93b822]=_0x2f479d[_0x155e7a];}),__setModuleDefault=this&&this[a479_0x59f40d(0x6f)]||(Object[a479_0x59f40d(0x97)]?function(_0x329b2d,_0x52eca5){const _0x3a213d=a479_0x59f40d;Object['defineProperty'](_0x329b2d,_0x3a213d(0x84),{'enumerable':!![],'value':_0x52eca5});}:function(_0x451709,_0x9782e3){_0x451709['default']=_0x9782e3;}),__importStar=this&&this[a479_0x59f40d(0x95)]||function(_0x1043e8){const _0x3bfba9=a479_0x59f40d;if(_0x1043e8&&_0x1043e8[_0x3bfba9(0x8b)])return _0x1043e8;var _0x3da0a1={};if(_0x1043e8!=null){for(var _0x25fe5b in _0x1043e8)if(_0x25fe5b!==_0x3bfba9(0x84)&&Object[_0x3bfba9(0x89)][_0x3bfba9(0x8d)][_0x3bfba9(0x82)](_0x1043e8,_0x25fe5b))__createBinding(_0x3da0a1,_0x1043e8,_0x25fe5b);}return __setModuleDefault(_0x3da0a1,_0x1043e8),_0x3da0a1;},__importDefault=this&&this['__importDefault']||function(_0x3079bf){const _0x51ef3b=a479_0x59f40d;return _0x3079bf&&_0x3079bf[_0x51ef3b(0x8b)]?_0x3079bf:{'default':_0x3079bf};};Object['defineProperty'](exports,a479_0x59f40d(0x8b),{'value':!![]});function a479_0x40da(_0x11dee0,_0x3b28b9){const _0x56bdfa=a479_0x438d();return a479_0x40da=function(_0x136c10,_0x22b633){_0x136c10=_0x136c10-0x6b;let _0x438dd0=_0x56bdfa[_0x136c10];return _0x438dd0;},a479_0x40da(_0x11dee0,_0x3b28b9);}const sequelize_1=require(a479_0x59f40d(0x71)),Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a479_0x59f40d(0x81))),Queue_1=__importDefault(require('../../models/Queue')),ShowQueueService_1=__importDefault(require(a479_0x59f40d(0x76))),UpdateQueueService=async(_0x12ab8e,_0x5adae7,_0x4fbde9)=>{const _0x46bedc=a479_0x59f40d,{color:_0x155e21,name:_0x232423}=_0x5adae7,_0x455c6d=Yup[_0x46bedc(0x96)]()[_0x46bedc(0x72)]({'name':Yup[_0x46bedc(0x90)]()[_0x46bedc(0x87)](0x2,'ERR_QUEUE_INVALID_NAME')['test'](_0x46bedc(0x93),'ERR_QUEUE_NAME_ALREADY_EXISTS',async _0x5b9615=>{const _0x13c7b3=_0x46bedc;if(_0x5b9615){const _0x15f9ca=await Queue_1[_0x13c7b3(0x84)]['findOne']({'where':{'name':_0x5b9615,'id':{[sequelize_1['Op']['ne']]:_0x12ab8e},'companyId':_0x4fbde9}});return!_0x15f9ca;}return!![];}),'color':Yup[_0x46bedc(0x90)]()[_0x46bedc(0x6b)]('ERR_QUEUE_INVALID_COLOR')[_0x46bedc(0x91)](_0x46bedc(0x8a),_0x46bedc(0x7c),async _0x131cf0=>{if(_0x131cf0){const _0x40fc65=/^#[0-9a-f]{3,6}$/i;return _0x40fc65['test'](_0x131cf0);}return!![];})['test'](_0x46bedc(0x92),'ERR_QUEUE_COLOR_ALREADY_EXISTS',async _0x2311c6=>{const _0x4fb5ff=_0x46bedc;if(_0x2311c6){const _0x4120f4=await Queue_1[_0x4fb5ff(0x84)][_0x4fb5ff(0x86)]({'where':{'color':_0x2311c6,'id':{[sequelize_1['Op']['ne']]:_0x12ab8e},'companyId':_0x4fbde9}});return!_0x4120f4;}return!![];})});try{await _0x455c6d[_0x46bedc(0x94)]({'color':_0x155e21,'name':_0x232423});}catch(_0x672610){throw new AppError_1['default'](_0x672610[_0x46bedc(0x83)]);}const _0x59994d=await(0x0,ShowQueueService_1['default'])(_0x12ab8e,_0x4fbde9);if(_0x59994d[_0x46bedc(0x8f)]!==_0x4fbde9)throw new AppError_1['default']('Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa');return await _0x59994d[_0x46bedc(0x85)](_0x5adae7),_0x59994d;};exports[a479_0x59f40d(0x84)]=UpdateQueueService;