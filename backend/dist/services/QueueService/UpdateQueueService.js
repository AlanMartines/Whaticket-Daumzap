const a479_0x34d9c4=a479_0x51a2;(function(_0x593f08,_0x350c9f){const _0x11b487=a479_0x51a2,_0x28f2e5=_0x593f08();while(!![]){try{const _0x5991de=parseInt(_0x11b487(0x11d))/0x1*(-parseInt(_0x11b487(0x12a))/0x2)+parseInt(_0x11b487(0x117))/0x3+parseInt(_0x11b487(0x11e))/0x4+parseInt(_0x11b487(0x126))/0x5*(parseInt(_0x11b487(0x122))/0x6)+-parseInt(_0x11b487(0x111))/0x7*(-parseInt(_0x11b487(0x134))/0x8)+-parseInt(_0x11b487(0x10c))/0x9+parseInt(_0x11b487(0x132))/0xa;if(_0x5991de===_0x350c9f)break;else _0x28f2e5['push'](_0x28f2e5['shift']());}catch(_0x103a74){_0x28f2e5['push'](_0x28f2e5['shift']());}}}(a479_0x25fe,0x81c9a));function a479_0x51a2(_0x34b66f,_0x5f03f6){const _0x51db3e=a479_0x25fe();return a479_0x51a2=function(_0x18d22b,_0x28ee96){_0x18d22b=_0x18d22b-0x10a;let _0x25fe63=_0x51db3e[_0x18d22b];return _0x25fe63;},a479_0x51a2(_0x34b66f,_0x5f03f6);}const a479_0x28ee96=(function(){let _0x171dfd=!![];return function(_0x3c08bb,_0x198394){const _0x4e0b11=_0x171dfd?function(){if(_0x198394){const _0x9506da=_0x198394['apply'](_0x3c08bb,arguments);return _0x198394=null,_0x9506da;}}:function(){};return _0x171dfd=![],_0x4e0b11;};}()),a479_0x18d22b=a479_0x28ee96(this,function(){const _0x5303b9=a479_0x51a2;return a479_0x18d22b[_0x5303b9(0x137)]()[_0x5303b9(0x10f)](_0x5303b9(0x123))['toString']()['constructor'](a479_0x18d22b)['search'](_0x5303b9(0x123));});a479_0x18d22b();'use strict';var __createBinding=this&&this[a479_0x34d9c4(0x116)]||(Object[a479_0x34d9c4(0x115)]?function(_0x3ed536,_0x2ce6cf,_0x55174b,_0x43bff4){const _0x5b1390=a479_0x34d9c4;if(_0x43bff4===undefined)_0x43bff4=_0x55174b;var _0x4dbc31=Object[_0x5b1390(0x118)](_0x2ce6cf,_0x55174b);(!_0x4dbc31||(_0x5b1390(0x129)in _0x4dbc31?!_0x2ce6cf['__esModule']:_0x4dbc31[_0x5b1390(0x11c)]||_0x4dbc31[_0x5b1390(0x120)]))&&(_0x4dbc31={'enumerable':!![],'get':function(){return _0x2ce6cf[_0x55174b];}}),Object['defineProperty'](_0x3ed536,_0x43bff4,_0x4dbc31);}:function(_0x237c94,_0x1936b7,_0xd93e25,_0x5cb4f4){if(_0x5cb4f4===undefined)_0x5cb4f4=_0xd93e25;_0x237c94[_0x5cb4f4]=_0x1936b7[_0xd93e25];}),__setModuleDefault=this&&this[a479_0x34d9c4(0x12b)]||(Object[a479_0x34d9c4(0x115)]?function(_0x2d93d2,_0x5344c7){const _0x560e94=a479_0x34d9c4;Object[_0x560e94(0x135)](_0x2d93d2,_0x560e94(0x11f),{'enumerable':!![],'value':_0x5344c7});}:function(_0x3a0f7f,_0x4312e6){const _0x36efcd=a479_0x34d9c4;_0x3a0f7f[_0x36efcd(0x11f)]=_0x4312e6;}),__importStar=this&&this[a479_0x34d9c4(0x138)]||function(_0x5ca066){const _0x85eacc=a479_0x34d9c4;if(_0x5ca066&&_0x5ca066[_0x85eacc(0x113)])return _0x5ca066;var _0x47a1aa={};if(_0x5ca066!=null){for(var _0x5ca939 in _0x5ca066)if(_0x5ca939!==_0x85eacc(0x11f)&&Object[_0x85eacc(0x131)][_0x85eacc(0x136)][_0x85eacc(0x12f)](_0x5ca066,_0x5ca939))__createBinding(_0x47a1aa,_0x5ca066,_0x5ca939);}return __setModuleDefault(_0x47a1aa,_0x5ca066),_0x47a1aa;},__importDefault=this&&this[a479_0x34d9c4(0x114)]||function(_0x1e9293){const _0x551eec=a479_0x34d9c4;return _0x1e9293&&_0x1e9293[_0x551eec(0x113)]?_0x1e9293:{'default':_0x1e9293};};Object['defineProperty'](exports,a479_0x34d9c4(0x113),{'value':!![]});const sequelize_1=require(a479_0x34d9c4(0x11a)),Yup=__importStar(require(a479_0x34d9c4(0x121))),AppError_1=__importDefault(require(a479_0x34d9c4(0x10a))),Queue_1=__importDefault(require(a479_0x34d9c4(0x128))),ShowQueueService_1=__importDefault(require(a479_0x34d9c4(0x112))),UpdateQueueService=async(_0x401a61,_0x3300de,_0x41c36c)=>{const _0x3ad4ae=a479_0x34d9c4,{color:_0x29e305,name:_0x2f8484}=_0x3300de,_0x2119a8=Yup[_0x3ad4ae(0x10b)]()[_0x3ad4ae(0x10e)]({'name':Yup[_0x3ad4ae(0x12e)]()[_0x3ad4ae(0x139)](0x2,_0x3ad4ae(0x133))[_0x3ad4ae(0x12d)](_0x3ad4ae(0x10d),_0x3ad4ae(0x119),async _0xa70ce6=>{const _0x11a926=_0x3ad4ae;if(_0xa70ce6){const _0x16a509=await Queue_1[_0x11a926(0x11f)][_0x11a926(0x13a)]({'where':{'name':_0xa70ce6,'id':{[sequelize_1['Op']['ne']]:_0x401a61},'companyId':_0x41c36c}});return!_0x16a509;}return!![];}),'color':Yup[_0x3ad4ae(0x12e)]()[_0x3ad4ae(0x125)](_0x3ad4ae(0x110))['test']('Check-color',_0x3ad4ae(0x110),async _0x4fe51f=>{const _0x80ed66=_0x3ad4ae;if(_0x4fe51f){const _0x29530f=/^#[0-9a-f]{3,6}$/i;return _0x29530f[_0x80ed66(0x12d)](_0x4fe51f);}return!![];})['test'](_0x3ad4ae(0x11b),_0x3ad4ae(0x127),async _0x556221=>{const _0x5b203b=_0x3ad4ae;if(_0x556221){const _0x2f7f5f=await Queue_1[_0x5b203b(0x11f)][_0x5b203b(0x13a)]({'where':{'color':_0x556221,'id':{[sequelize_1['Op']['ne']]:_0x401a61},'companyId':_0x41c36c}});return!_0x2f7f5f;}return!![];})});try{await _0x2119a8[_0x3ad4ae(0x13b)]({'color':_0x29e305,'name':_0x2f8484});}catch(_0x20f1c2){throw new AppError_1[(_0x3ad4ae(0x11f))](_0x20f1c2['message']);}const _0x4d0bd7=await(0x0,ShowQueueService_1[_0x3ad4ae(0x11f)])(_0x401a61,_0x41c36c);if(_0x4d0bd7[_0x3ad4ae(0x130)]!==_0x41c36c)throw new AppError_1[(_0x3ad4ae(0x11f))](_0x3ad4ae(0x124));return await _0x4d0bd7[_0x3ad4ae(0x12c)](_0x3300de),_0x4d0bd7;};exports[a479_0x34d9c4(0x11f)]=UpdateQueueService;function a479_0x25fe(){const _0x16adfa=['get','13178osMpjA','__setModuleDefault','update','test','string','call','companyId','prototype','2025190LWLczz','ERR_QUEUE_INVALID_NAME','24uJeNFV','defineProperty','hasOwnProperty','toString','__importStar','min','findOne','validate','../../errors/AppError','object','6344640dtFpOx','Check-unique-name','shape','search','ERR_QUEUE_INVALID_COLOR','963263SdKEZK','./ShowQueueService','__esModule','__importDefault','create','__createBinding','625560vUlZRS','getOwnPropertyDescriptor','ERR_QUEUE_NAME_ALREADY_EXISTS','sequelize','Check-color-exists','writable','121vusEGC','4245440ScmTBI','default','configurable','yup','891678cSicMT','(((.+)+)+)+$','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','required','5FkqRxT','ERR_QUEUE_COLOR_ALREADY_EXISTS','../../models/Queue'];a479_0x25fe=function(){return _0x16adfa;};return a479_0x25fe();}