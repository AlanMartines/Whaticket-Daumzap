const a479_0x2fc321=a479_0x4f63;function a479_0x4f63(_0x3acc0e,_0x2c8956){const _0xae8f81=a479_0xe083();return a479_0x4f63=function(_0x2eaa67,_0x527d39){_0x2eaa67=_0x2eaa67-0x138;let _0xe0831e=_0xae8f81[_0x2eaa67];return _0xe0831e;},a479_0x4f63(_0x3acc0e,_0x2c8956);}(function(_0x543a56,_0x4800ba){const _0xb79dd4=a479_0x4f63,_0x3f6688=_0x543a56();while(!![]){try{const _0x312afc=parseInt(_0xb79dd4(0x161))/0x1*(parseInt(_0xb79dd4(0x15d))/0x2)+parseInt(_0xb79dd4(0x160))/0x3+-parseInt(_0xb79dd4(0x143))/0x4*(parseInt(_0xb79dd4(0x152))/0x5)+parseInt(_0xb79dd4(0x13f))/0x6*(parseInt(_0xb79dd4(0x153))/0x7)+parseInt(_0xb79dd4(0x13a))/0x8*(parseInt(_0xb79dd4(0x15c))/0x9)+-parseInt(_0xb79dd4(0x14c))/0xa+parseInt(_0xb79dd4(0x142))/0xb*(-parseInt(_0xb79dd4(0x13e))/0xc);if(_0x312afc===_0x4800ba)break;else _0x3f6688['push'](_0x3f6688['shift']());}catch(_0x3c2df0){_0x3f6688['push'](_0x3f6688['shift']());}}}(a479_0xe083,0x4c54d));function a479_0xe083(){const _0x20cc05=['default','update','4574380KiYClP','configurable','(((.+)+)+)+$','message','__esModule','yup','665krGGDJ','2317NNclSm','ERR_QUEUE_INVALID_COLOR','toString','writable','findOne','defineProperty','create','apply','test','62361rdAlzg','12yPlfCg','validate','ERR_QUEUE_COLOR_ALREADY_EXISTS','1867743yjXKwy','89983XIfBZi','search','Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa','224LUDuTK','hasOwnProperty','ERR_QUEUE_NAME_ALREADY_EXISTS','object','216ssYzHe','6246cnBWcH','string','companyId','482691CVSPrJ','4244mZvvUM','sequelize','__setModuleDefault','__importDefault','../../models/Queue','__createBinding','Check-unique-name'];a479_0xe083=function(){return _0x20cc05;};return a479_0xe083();}const a479_0x527d39=(function(){let _0x17ec30=!![];return function(_0x5a71e2,_0x129cca){const _0x573e9e=_0x17ec30?function(){const _0x2e9808=a479_0x4f63;if(_0x129cca){const _0x412346=_0x129cca[_0x2e9808(0x15a)](_0x5a71e2,arguments);return _0x129cca=null,_0x412346;}}:function(){};return _0x17ec30=![],_0x573e9e;};}()),a479_0x2eaa67=a479_0x527d39(this,function(){const _0x21d371=a479_0x4f63;return a479_0x2eaa67[_0x21d371(0x155)]()[_0x21d371(0x138)](_0x21d371(0x14e))[_0x21d371(0x155)]()['constructor'](a479_0x2eaa67)[_0x21d371(0x138)](_0x21d371(0x14e));});a479_0x2eaa67();'use strict';var __createBinding=this&&this[a479_0x2fc321(0x148)]||(Object[a479_0x2fc321(0x159)]?function(_0xaf2131,_0x9385ae,_0x257d31,_0xcd95e3){const _0x5dcd9b=a479_0x2fc321;if(_0xcd95e3===undefined)_0xcd95e3=_0x257d31;var _0x38cae4=Object['getOwnPropertyDescriptor'](_0x9385ae,_0x257d31);(!_0x38cae4||('get'in _0x38cae4?!_0x9385ae['__esModule']:_0x38cae4[_0x5dcd9b(0x156)]||_0x38cae4[_0x5dcd9b(0x14d)]))&&(_0x38cae4={'enumerable':!![],'get':function(){return _0x9385ae[_0x257d31];}}),Object['defineProperty'](_0xaf2131,_0xcd95e3,_0x38cae4);}:function(_0x4ff6ac,_0x3bcfd9,_0x2fdac0,_0x3ca886){if(_0x3ca886===undefined)_0x3ca886=_0x2fdac0;_0x4ff6ac[_0x3ca886]=_0x3bcfd9[_0x2fdac0];}),__setModuleDefault=this&&this[a479_0x2fc321(0x145)]||(Object[a479_0x2fc321(0x159)]?function(_0x4f2ce6,_0x3121e6){const _0x4d1d6b=a479_0x2fc321;Object[_0x4d1d6b(0x158)](_0x4f2ce6,_0x4d1d6b(0x14a),{'enumerable':!![],'value':_0x3121e6});}:function(_0x4dfcfa,_0x5972b8){const _0x5cd3d8=a479_0x2fc321;_0x4dfcfa[_0x5cd3d8(0x14a)]=_0x5972b8;}),__importStar=this&&this['__importStar']||function(_0x1a9b0d){const _0x57294d=a479_0x2fc321;if(_0x1a9b0d&&_0x1a9b0d[_0x57294d(0x150)])return _0x1a9b0d;var _0x237b54={};if(_0x1a9b0d!=null){for(var _0x59d69b in _0x1a9b0d)if(_0x59d69b!==_0x57294d(0x14a)&&Object['prototype'][_0x57294d(0x13b)]['call'](_0x1a9b0d,_0x59d69b))__createBinding(_0x237b54,_0x1a9b0d,_0x59d69b);}return __setModuleDefault(_0x237b54,_0x1a9b0d),_0x237b54;},__importDefault=this&&this[a479_0x2fc321(0x146)]||function(_0x1c74e1){const _0xa3033e=a479_0x2fc321;return _0x1c74e1&&_0x1c74e1[_0xa3033e(0x150)]?_0x1c74e1:{'default':_0x1c74e1};};Object[a479_0x2fc321(0x158)](exports,a479_0x2fc321(0x150),{'value':!![]});const sequelize_1=require(a479_0x2fc321(0x144)),Yup=__importStar(require(a479_0x2fc321(0x151))),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require(a479_0x2fc321(0x147))),ShowQueueService_1=__importDefault(require('./ShowQueueService')),UpdateQueueService=async(_0x49e327,_0x2e1064,_0x24cbd8)=>{const _0xaf08fc=a479_0x2fc321,{color:_0x33e7ab,name:_0x1a1daf}=_0x2e1064,_0x41c186=Yup[_0xaf08fc(0x13d)]()['shape']({'name':Yup['string']()['min'](0x2,'ERR_QUEUE_INVALID_NAME')[_0xaf08fc(0x15b)](_0xaf08fc(0x149),_0xaf08fc(0x13c),async _0x400309=>{const _0x5ba551=_0xaf08fc;if(_0x400309){const _0x2c7564=await Queue_1[_0x5ba551(0x14a)]['findOne']({'where':{'name':_0x400309,'id':{[sequelize_1['Op']['ne']]:_0x49e327},'companyId':_0x24cbd8}});return!_0x2c7564;}return!![];}),'color':Yup[_0xaf08fc(0x140)]()['required'](_0xaf08fc(0x154))[_0xaf08fc(0x15b)]('Check-color',_0xaf08fc(0x154),async _0xe03162=>{if(_0xe03162){const _0x1b92a2=/^#[0-9a-f]{3,6}$/i;return _0x1b92a2['test'](_0xe03162);}return!![];})['test']('Check-color-exists',_0xaf08fc(0x15f),async _0x7b265d=>{const _0x3e8a50=_0xaf08fc;if(_0x7b265d){const _0x56d1d6=await Queue_1[_0x3e8a50(0x14a)][_0x3e8a50(0x157)]({'where':{'color':_0x7b265d,'id':{[sequelize_1['Op']['ne']]:_0x49e327},'companyId':_0x24cbd8}});return!_0x56d1d6;}return!![];})});try{await _0x41c186[_0xaf08fc(0x15e)]({'color':_0x33e7ab,'name':_0x1a1daf});}catch(_0x170143){throw new AppError_1[(_0xaf08fc(0x14a))](_0x170143[_0xaf08fc(0x14f)]);}const _0x2fc839=await(0x0,ShowQueueService_1[_0xaf08fc(0x14a)])(_0x49e327,_0x24cbd8);if(_0x2fc839[_0xaf08fc(0x141)]!==_0x24cbd8)throw new AppError_1[(_0xaf08fc(0x14a))](_0xaf08fc(0x139));return await _0x2fc839[_0xaf08fc(0x14b)](_0x2e1064),_0x2fc839;};exports[a479_0x2fc321(0x14a)]=UpdateQueueService;