const a479_0x2d1c85=a479_0x3352;function a479_0x3352(_0x59b498,_0x1a36bb){const _0x105668=a479_0x36fe();return a479_0x3352=function(_0x4a1f50,_0x1411f1){_0x4a1f50=_0x4a1f50-0x88;let _0x36fea9=_0x105668[_0x4a1f50];return _0x36fea9;},a479_0x3352(_0x59b498,_0x1a36bb);}(function(_0xea5a28,_0x221d22){const _0x35d93d=a479_0x3352,_0x3da9f0=_0xea5a28();while(!![]){try{const _0x30167e=parseInt(_0x35d93d(0x92))/0x1*(parseInt(_0x35d93d(0x91))/0x2)+-parseInt(_0x35d93d(0xb0))/0x3*(parseInt(_0x35d93d(0xa9))/0x4)+-parseInt(_0x35d93d(0xae))/0x5*(parseInt(_0x35d93d(0x96))/0x6)+-parseInt(_0x35d93d(0x93))/0x7*(parseInt(_0x35d93d(0xa6))/0x8)+parseInt(_0x35d93d(0xad))/0x9+-parseInt(_0x35d93d(0xa4))/0xa*(-parseInt(_0x35d93d(0x90))/0xb)+parseInt(_0x35d93d(0x95))/0xc*(parseInt(_0x35d93d(0x9a))/0xd);if(_0x30167e===_0x221d22)break;else _0x3da9f0['push'](_0x3da9f0['shift']());}catch(_0x1ec2ae){_0x3da9f0['push'](_0x3da9f0['shift']());}}}(a479_0x36fe,0xa744d));const a479_0x1411f1=(function(){let _0x544624=!![];return function(_0x977ce9,_0xc863da){const _0x361f6e=_0x544624?function(){const _0x123d76=a479_0x3352;if(_0xc863da){const _0x32e5af=_0xc863da[_0x123d76(0xb4)](_0x977ce9,arguments);return _0xc863da=null,_0x32e5af;}}:function(){};return _0x544624=![],_0x361f6e;};}()),a479_0x4a1f50=a479_0x1411f1(this,function(){const _0xa68d90=a479_0x3352;return a479_0x4a1f50[_0xa68d90(0x8e)]()['search'](_0xa68d90(0x99))['toString']()[_0xa68d90(0xa1)](a479_0x4a1f50)[_0xa68d90(0x9f)](_0xa68d90(0x99));});a479_0x4a1f50();'use strict';var __createBinding=this&&this[a479_0x2d1c85(0x97)]||(Object[a479_0x2d1c85(0x98)]?function(_0x5675d6,_0x14e790,_0x254d05,_0x2cf2c5){const _0x269dab=a479_0x2d1c85;if(_0x2cf2c5===undefined)_0x2cf2c5=_0x254d05;var _0x2d233a=Object['getOwnPropertyDescriptor'](_0x14e790,_0x254d05);(!_0x2d233a||('get'in _0x2d233a?!_0x14e790[_0x269dab(0xb2)]:_0x2d233a['writable']||_0x2d233a[_0x269dab(0x89)]))&&(_0x2d233a={'enumerable':!![],'get':function(){return _0x14e790[_0x254d05];}}),Object[_0x269dab(0xac)](_0x5675d6,_0x2cf2c5,_0x2d233a);}:function(_0x5e4898,_0x5677f9,_0x416f4f,_0x3c2ca8){if(_0x3c2ca8===undefined)_0x3c2ca8=_0x416f4f;_0x5e4898[_0x3c2ca8]=_0x5677f9[_0x416f4f];}),__setModuleDefault=this&&this[a479_0x2d1c85(0x8a)]||(Object[a479_0x2d1c85(0x98)]?function(_0x3c0118,_0x30bd55){Object['defineProperty'](_0x3c0118,'default',{'enumerable':!![],'value':_0x30bd55});}:function(_0x59591c,_0x55d524){const _0x180796=a479_0x2d1c85;_0x59591c[_0x180796(0xab)]=_0x55d524;}),__importStar=this&&this[a479_0x2d1c85(0x8f)]||function(_0x3b8df6){const _0x3a01d0=a479_0x2d1c85;if(_0x3b8df6&&_0x3b8df6[_0x3a01d0(0xb2)])return _0x3b8df6;var _0x54db19={};if(_0x3b8df6!=null){for(var _0x283bdb in _0x3b8df6)if(_0x283bdb!==_0x3a01d0(0xab)&&Object[_0x3a01d0(0xa8)][_0x3a01d0(0x8d)][_0x3a01d0(0xb3)](_0x3b8df6,_0x283bdb))__createBinding(_0x54db19,_0x3b8df6,_0x283bdb);}return __setModuleDefault(_0x54db19,_0x3b8df6),_0x54db19;},__importDefault=this&&this['__importDefault']||function(_0x4ef97a){const _0x3221f5=a479_0x2d1c85;return _0x4ef97a&&_0x4ef97a[_0x3221f5(0xb2)]?_0x4ef97a:{'default':_0x4ef97a};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const sequelize_1=require(a479_0x2d1c85(0xa0)),Yup=__importStar(require(a479_0x2d1c85(0x88))),AppError_1=__importDefault(require('../../errors/AppError')),Queue_1=__importDefault(require('../../models/Queue')),ShowQueueService_1=__importDefault(require(a479_0x2d1c85(0x9b))),UpdateQueueService=async(_0x53a198,_0x40cd93,_0x5a2e0e)=>{const _0x13cfff=a479_0x2d1c85,{color:_0x7e3a2a,name:_0x49e70f}=_0x40cd93,_0x146c9f=Yup[_0x13cfff(0xb1)]()[_0x13cfff(0xa7)]({'name':Yup[_0x13cfff(0x9d)]()[_0x13cfff(0x8b)](0x2,'ERR_QUEUE_INVALID_NAME')[_0x13cfff(0x9c)]('Check-unique-name','ERR_QUEUE_NAME_ALREADY_EXISTS',async _0x3d54b9=>{const _0x29b95a=_0x13cfff;if(_0x3d54b9){const _0x260063=await Queue_1[_0x29b95a(0xab)]['findOne']({'where':{'name':_0x3d54b9,'id':{[sequelize_1['Op']['ne']]:_0x53a198},'companyId':_0x5a2e0e}});return!_0x260063;}return!![];}),'color':Yup['string']()[_0x13cfff(0xa5)](_0x13cfff(0xb5))[_0x13cfff(0x9c)](_0x13cfff(0x9e),'ERR_QUEUE_INVALID_COLOR',async _0x256d87=>{const _0x369929=_0x13cfff;if(_0x256d87){const _0x247de2=/^#[0-9a-f]{3,6}$/i;return _0x247de2[_0x369929(0x9c)](_0x256d87);}return!![];})[_0x13cfff(0x9c)](_0x13cfff(0xa3),_0x13cfff(0x94),async _0x2aac21=>{const _0x533a08=_0x13cfff;if(_0x2aac21){const _0x1bf4e8=await Queue_1[_0x533a08(0xab)][_0x533a08(0x8c)]({'where':{'color':_0x2aac21,'id':{[sequelize_1['Op']['ne']]:_0x53a198},'companyId':_0x5a2e0e}});return!_0x1bf4e8;}return!![];})});try{await _0x146c9f['validate']({'color':_0x7e3a2a,'name':_0x49e70f});}catch(_0x161fbf){throw new AppError_1[(_0x13cfff(0xab))](_0x161fbf[_0x13cfff(0xaf)]);}const _0x4859c1=await(0x0,ShowQueueService_1['default'])(_0x53a198,_0x5a2e0e);if(_0x4859c1[_0x13cfff(0xa2)]!==_0x5a2e0e)throw new AppError_1[(_0x13cfff(0xab))]('Não\x20é\x20permitido\x20alterar\x20registros\x20de\x20outra\x20empresa');return await _0x4859c1[_0x13cfff(0xaa)](_0x40cd93),_0x4859c1;};function a479_0x36fe(){const _0x59b474=['__esModule','call','apply','ERR_QUEUE_INVALID_COLOR','yup','configurable','__setModuleDefault','min','findOne','hasOwnProperty','toString','__importStar','77oFYWLG','81140PZFgoz','4KChYHP','11641pABmJz','ERR_QUEUE_COLOR_ALREADY_EXISTS','21218928KzMhyB','138BZUFTE','__createBinding','create','(((.+)+)+)+$','13wFCenD','./ShowQueueService','test','string','Check-color','search','sequelize','constructor','companyId','Check-color-exists','312920mwjVfU','required','1576xwfvPF','shape','prototype','4YoyDTg','update','default','defineProperty','1953792mNLGNH','187510tyIORg','message','1474098fZzDeh','object'];a479_0x36fe=function(){return _0x59b474;};return a479_0x36fe();}exports[a479_0x2d1c85(0xab)]=UpdateQueueService;