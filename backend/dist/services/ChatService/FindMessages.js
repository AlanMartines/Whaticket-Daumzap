const a380_0x44d9ce=a380_0xbe5d;(function(_0xd5898e,_0x4185d3){const _0x9c648f=a380_0xbe5d,_0x5415ec=_0xd5898e();while(!![]){try{const _0x5877a=parseInt(_0x9c648f(0x13a))/0x1+parseInt(_0x9c648f(0x134))/0x2*(-parseInt(_0x9c648f(0x145))/0x3)+-parseInt(_0x9c648f(0x147))/0x4+parseInt(_0x9c648f(0x13b))/0x5*(parseInt(_0x9c648f(0x130))/0x6)+parseInt(_0x9c648f(0x13e))/0x7*(-parseInt(_0x9c648f(0x14a))/0x8)+parseInt(_0x9c648f(0x136))/0x9+parseInt(_0x9c648f(0x140))/0xa;if(_0x5877a===_0x4185d3)break;else _0x5415ec['push'](_0x5415ec['shift']());}catch(_0x4a38b8){_0x5415ec['push'](_0x5415ec['shift']());}}}(a380_0x2cc8,0x6978f));const a380_0x473b21=(function(){let _0x15581a=!![];return function(_0x4d1bf9,_0xd106a3){const _0x50fc61=_0x15581a?function(){if(_0xd106a3){const _0x2615bb=_0xd106a3['apply'](_0x4d1bf9,arguments);return _0xd106a3=null,_0x2615bb;}}:function(){};return _0x15581a=![],_0x50fc61;};}()),a380_0x5efe5e=a380_0x473b21(this,function(){const _0x17b9ec=a380_0xbe5d;return a380_0x5efe5e[_0x17b9ec(0x139)]()[_0x17b9ec(0x142)](_0x17b9ec(0x132))[_0x17b9ec(0x139)]()[_0x17b9ec(0x138)](a380_0x5efe5e)[_0x17b9ec(0x142)]('(((.+)+)+)+$');});a380_0x5efe5e();function a380_0xbe5d(_0x33017f,_0x5a4855){const _0xa5898=a380_0x2cc8();return a380_0xbe5d=function(_0x5efe5e,_0x473b21){_0x5efe5e=_0x5efe5e-0x12f;let _0x2cc895=_0xa5898[_0x5efe5e];return _0x2cc895;},a380_0xbe5d(_0x33017f,_0x5a4855);}function a380_0x2cc8(){const _0x2e8df4=['toString','357542bcwbQT','275SkqHDz','../../errors/AppError','__esModule','1848273QrSMIf','UNAUTHORIZED','12873780uyZeMT','DESC','search','length','sortBy','1383393pvjCQK','sender','3316560smPqLg','defineProperty','__importDefault','8XGhyRy','../../models/ChatUser','findAndCountAll','19398wsnTFj','default','(((.+)+)+)+$','lodash','2edZrbx','count','1472310tyPJNS','createdAt','constructor'];a380_0x2cc8=function(){return _0x2e8df4;};return a380_0x2cc8();}'use strict';var __importDefault=this&&this[a380_0x44d9ce(0x149)]||function(_0x562707){return _0x562707&&_0x562707['__esModule']?_0x562707:{'default':_0x562707};};Object[a380_0x44d9ce(0x148)](exports,a380_0x44d9ce(0x13d),{'value':!![]});const AppError_1=__importDefault(require(a380_0x44d9ce(0x13c))),ChatMessage_1=__importDefault(require('../../models/ChatMessage')),ChatUser_1=__importDefault(require(a380_0x44d9ce(0x14b))),User_1=__importDefault(require('../../models/User')),lodash_1=require(a380_0x44d9ce(0x133)),FindMessages=async({chatId:_0xa64197,ownerId:_0x35e350,pageNumber:pageNumber='1'})=>{const _0xf86e53=a380_0x44d9ce,_0x416645=await ChatUser_1['default'][_0xf86e53(0x135)]({'where':{'chatId':_0xa64197,'userId':_0x35e350}});if(_0x416645===0x0)throw new AppError_1['default'](_0xf86e53(0x13f),0x190);const _0x2fbdc1=0x14,_0xa73a07=_0x2fbdc1*(+pageNumber-0x1),{count:_0x3bd50f,rows:_0x2e45b9}=await ChatMessage_1[_0xf86e53(0x131)][_0xf86e53(0x12f)]({'where':{'chatId':_0xa64197},'include':[{'model':User_1[_0xf86e53(0x131)],'as':_0xf86e53(0x146),'attributes':['id','name']}],'limit':_0x2fbdc1,'offset':_0xa73a07,'order':[[_0xf86e53(0x137),_0xf86e53(0x141)]]}),_0x6d7f0d=_0x3bd50f>_0xa73a07+_0x2e45b9[_0xf86e53(0x143)],_0x1b24d6=(0x0,lodash_1[_0xf86e53(0x144)])(_0x2e45b9,['id','ASC']);return{'records':_0x1b24d6,'count':_0x3bd50f,'hasMore':_0x6d7f0d};};exports[a380_0x44d9ce(0x131)]=FindMessages;