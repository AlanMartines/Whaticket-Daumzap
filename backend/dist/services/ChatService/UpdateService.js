const a385_0x26eee6=a385_0x457c;(function(_0x25d5d3,_0x348259){const _0x2a2c9a=a385_0x457c,_0x43fd33=_0x25d5d3();while(!![]){try{const _0x2388da=-parseInt(_0x2a2c9a(0x1df))/0x1+parseInt(_0x2a2c9a(0x1e3))/0x2+parseInt(_0x2a2c9a(0x1dc))/0x3+-parseInt(_0x2a2c9a(0x1cf))/0x4+-parseInt(_0x2a2c9a(0x1da))/0x5*(parseInt(_0x2a2c9a(0x1cc))/0x6)+parseInt(_0x2a2c9a(0x1ce))/0x7+parseInt(_0x2a2c9a(0x1dd))/0x8*(parseInt(_0x2a2c9a(0x1e1))/0x9);if(_0x2388da===_0x348259)break;else _0x43fd33['push'](_0x43fd33['shift']());}catch(_0xe69fb2){_0x43fd33['push'](_0x43fd33['shift']());}}}(a385_0x4969,0x3f683));const a385_0x51a312=(function(){let _0x18d184=!![];return function(_0x35065f,_0x28017c){const _0x1d6c78=_0x18d184?function(){const _0x30b912=a385_0x457c;if(_0x28017c){const _0x49f4b6=_0x28017c[_0x30b912(0x1d2)](_0x35065f,arguments);return _0x28017c=null,_0x49f4b6;}}:function(){};return _0x18d184=![],_0x1d6c78;};}()),a385_0x3de622=a385_0x51a312(this,function(){const _0x50df36=a385_0x457c;return a385_0x3de622['toString']()[_0x50df36(0x1db)](_0x50df36(0x1d4))['toString']()[_0x50df36(0x1d9)](a385_0x3de622)[_0x50df36(0x1db)](_0x50df36(0x1d4));});a385_0x3de622();'use strict';function a385_0x4969(){const _0xd2dc2e=['user','(((.+)+)+)+$','users','title','owner','isArray','constructor','5rnVKkd','search','885498DFBuZl','32jcVWEK','../../models/Chat','38795CwBELM','reload','479232FWoolw','update','531496LKroyd','2629074QsXYuQ','default','117376zUoxtw','215940HGHvsS','__importDefault','create','apply'];a385_0x4969=function(){return _0xd2dc2e;};return a385_0x4969();}var __importDefault=this&&this[a385_0x26eee6(0x1d0)]||function(_0x5b0e33){return _0x5b0e33&&_0x5b0e33['__esModule']?_0x5b0e33:{'default':_0x5b0e33};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a385_0x457c(_0x3cd0e2,_0x9ee807){const _0x2ad514=a385_0x4969();return a385_0x457c=function(_0x3de622,_0x51a312){_0x3de622=_0x3de622-0x1cc;let _0x4969fa=_0x2ad514[_0x3de622];return _0x4969fa;},a385_0x457c(_0x3cd0e2,_0x9ee807);}const Chat_1=__importDefault(require(a385_0x26eee6(0x1de))),ChatUser_1=__importDefault(require('../../models/ChatUser')),User_1=__importDefault(require('../../models/User'));async function UpdateService(_0x5336af){const _0x584085=a385_0x26eee6,{users:_0xf60772}=_0x5336af,_0x5af9d4=await Chat_1[_0x584085(0x1cd)]['findByPk'](_0x5336af['id'],{'include':[{'model':ChatUser_1[_0x584085(0x1cd)],'as':_0x584085(0x1d5)}]}),{ownerId:_0x1dd67c}=_0x5af9d4;await _0x5af9d4[_0x584085(0x1e2)]({'title':_0x5336af[_0x584085(0x1d6)]});if(Array[_0x584085(0x1d8)](_0xf60772)){await ChatUser_1[_0x584085(0x1cd)]['destroy']({'where':{'chatId':_0x5af9d4['id']}}),await ChatUser_1[_0x584085(0x1cd)][_0x584085(0x1d1)]({'chatId':_0x5af9d4['id'],'userId':_0x1dd67c});for(let _0x2d172e of _0xf60772){_0x2d172e['id']!==_0x1dd67c&&await ChatUser_1[_0x584085(0x1cd)][_0x584085(0x1d1)]({'chatId':_0x5af9d4['id'],'userId':_0x2d172e['id']});}}return await _0x5af9d4[_0x584085(0x1e0)]({'include':[{'model':ChatUser_1[_0x584085(0x1cd)],'as':_0x584085(0x1d5),'include':[{'model':User_1[_0x584085(0x1cd)],'as':_0x584085(0x1d3)}]},{'model':User_1[_0x584085(0x1cd)],'as':_0x584085(0x1d7)}]}),_0x5af9d4;}exports[a385_0x26eee6(0x1cd)]=UpdateService;