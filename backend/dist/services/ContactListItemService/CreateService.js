const a397_0x2217ec=a397_0x5610;(function(_0x5ab67a,_0x270f7f){const _0x3e53ce=a397_0x5610,_0x27e30c=_0x5ab67a();while(!![]){try{const _0x478ef7=-parseInt(_0x3e53ce(0xbc))/0x1*(-parseInt(_0x3e53ce(0xa3))/0x2)+parseInt(_0x3e53ce(0x9e))/0x3*(-parseInt(_0x3e53ce(0xab))/0x4)+parseInt(_0x3e53ce(0x9d))/0x5+-parseInt(_0x3e53ce(0xc0))/0x6+parseInt(_0x3e53ce(0xa0))/0x7+-parseInt(_0x3e53ce(0xb0))/0x8*(parseInt(_0x3e53ce(0xbb))/0x9)+parseInt(_0x3e53ce(0x9a))/0xa*(-parseInt(_0x3e53ce(0xc2))/0xb);if(_0x478ef7===_0x270f7f)break;else _0x27e30c['push'](_0x27e30c['shift']());}catch(_0x55f805){_0x27e30c['push'](_0x27e30c['shift']());}}}(a397_0x44bf,0xeaf22));function a397_0x5610(_0x3ac4c9,_0x1779cc){const _0x54c928=a397_0x44bf();return a397_0x5610=function(_0xc71dd2,_0x1986a1){_0xc71dd2=_0xc71dd2-0x95;let _0x44bf82=_0x54c928[_0xc71dd2];return _0x44bf82;},a397_0x5610(_0x3ac4c9,_0x1779cc);}const a397_0x1986a1=(function(){let _0x57d8ab=!![];return function(_0x5ac5f9,_0x33c152){const _0x2513e8=_0x57d8ab?function(){const _0x54818f=a397_0x5610;if(_0x33c152){const _0x8fd25=_0x33c152[_0x54818f(0xa9)](_0x5ac5f9,arguments);return _0x33c152=null,_0x8fd25;}}:function(){};return _0x57d8ab=![],_0x2513e8;};}()),a397_0xc71dd2=a397_0x1986a1(this,function(){const _0x306c0c=a397_0x5610;return a397_0xc71dd2[_0x306c0c(0xaa)]()[_0x306c0c(0xbf)](_0x306c0c(0xae))['toString']()[_0x306c0c(0x99)](a397_0xc71dd2)[_0x306c0c(0xbf)](_0x306c0c(0xae));});a397_0xc71dd2();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a397_0x2217ec(0x96)]?function(_0x43c685,_0x2edeb0,_0x305e93,_0x40aa0b){const _0x206b34=a397_0x2217ec;if(_0x40aa0b===undefined)_0x40aa0b=_0x305e93;var _0x685305=Object[_0x206b34(0xb5)](_0x2edeb0,_0x305e93);(!_0x685305||(_0x206b34(0xc1)in _0x685305?!_0x2edeb0[_0x206b34(0xa2)]:_0x685305[_0x206b34(0xaf)]||_0x685305[_0x206b34(0xad)]))&&(_0x685305={'enumerable':!![],'get':function(){return _0x2edeb0[_0x305e93];}}),Object[_0x206b34(0xb8)](_0x43c685,_0x40aa0b,_0x685305);}:function(_0xbc22b4,_0x2725c8,_0x5d7a50,_0x500e87){if(_0x500e87===undefined)_0x500e87=_0x5d7a50;_0xbc22b4[_0x500e87]=_0x2725c8[_0x5d7a50];}),__setModuleDefault=this&&this[a397_0x2217ec(0xa6)]||(Object[a397_0x2217ec(0x96)]?function(_0x2c9302,_0x497f09){const _0x5d1445=a397_0x2217ec;Object[_0x5d1445(0xb8)](_0x2c9302,_0x5d1445(0x98),{'enumerable':!![],'value':_0x497f09});}:function(_0x12dd94,_0x5e5a72){const _0x1d7439=a397_0x2217ec;_0x12dd94[_0x1d7439(0x98)]=_0x5e5a72;}),__importStar=this&&this['__importStar']||function(_0x29ad13){const _0x48f6e8=a397_0x2217ec;if(_0x29ad13&&_0x29ad13[_0x48f6e8(0xa2)])return _0x29ad13;var _0x7d8efc={};if(_0x29ad13!=null){for(var _0x222ff8 in _0x29ad13)if(_0x222ff8!==_0x48f6e8(0x98)&&Object[_0x48f6e8(0xbd)]['hasOwnProperty'][_0x48f6e8(0xb9)](_0x29ad13,_0x222ff8))__createBinding(_0x7d8efc,_0x29ad13,_0x222ff8);}return __setModuleDefault(_0x7d8efc,_0x29ad13),_0x7d8efc;},__importDefault=this&&this[a397_0x2217ec(0xa4)]||function(_0x287c99){return _0x287c99&&_0x287c99['__esModule']?_0x287c99:{'default':_0x287c99};};Object['defineProperty'](exports,a397_0x2217ec(0xa2),{'value':!![]});function a397_0x44bf(){const _0x4b5388=['__importDefault','../../utils/logger','__setModuleDefault','error','ERR_CONTACTLISTITEM_REQUIRED','apply','toString','42516JvNeDP','companyId','configurable','(((.+)+)+)+$','writable','1136sdmqgZ','required','yup','../WbotServices/CheckNumber','validate','getOwnPropertyDescriptor','exists','isWhatsappValid','defineProperty','call','jid','39879uCbUda','4JwpeiU','prototype','../../errors/AppError','search','991998MFaxvV','get','11JjAChU','number','object','save','create','replace','default','constructor','16737190xGyprP','shape','min','5707980DlOGkP','114MCYplm','string','8883518vtcbqK','findOrCreate','__esModule','711912ohMTqD'];a397_0x44bf=function(){return _0x4b5388;};return a397_0x44bf();}const Yup=__importStar(require(a397_0x2217ec(0xb2))),AppError_1=__importDefault(require(a397_0x2217ec(0xbe))),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),logger_1=require(a397_0x2217ec(0xa5)),CheckNumber_1=__importDefault(require(a397_0x2217ec(0xb3))),CreateService=async _0x3c8108=>{const _0x310a2e=a397_0x2217ec,{name:_0xfab8be}=_0x3c8108,_0xbc5fb=Yup[_0x310a2e(0xc4)]()[_0x310a2e(0x9b)]({'name':Yup[_0x310a2e(0x9f)]()[_0x310a2e(0x9c)](0x3,'ERR_CONTACTLISTITEM_INVALID_NAME')[_0x310a2e(0xb1)](_0x310a2e(0xa8))});try{await _0xbc5fb[_0x310a2e(0xb4)]({'name':_0xfab8be});}catch(_0x363380){throw new AppError_1[(_0x310a2e(0x98))](_0x363380['message']);}const [_0x5d9bf4]=await ContactListItem_1['default'][_0x310a2e(0xa1)]({'where':{'number':_0x3c8108[_0x310a2e(0xc3)],'companyId':_0x3c8108['companyId'],'contactListId':_0x3c8108['contactListId']},'defaults':_0x3c8108});try{const _0x104267=await(0x0,CheckNumber_1[_0x310a2e(0x98)])(_0x5d9bf4[_0x310a2e(0xc3)],_0x5d9bf4[_0x310a2e(0xac)]);_0x5d9bf4[_0x310a2e(0xb7)]=_0x104267[_0x310a2e(0xb6)];const _0x3b1eb4=_0x104267[_0x310a2e(0xba)][_0x310a2e(0x97)](/\D/g,'');_0x5d9bf4[_0x310a2e(0xc3)]=_0x3b1eb4,await _0x5d9bf4[_0x310a2e(0x95)]();}catch(_0x4689b3){logger_1['logger'][_0x310a2e(0xa7)]('Número\x20de\x20contato\x20inválido:\x20'+_0x5d9bf4[_0x310a2e(0xc3)]);}return _0x5d9bf4;};exports[a397_0x2217ec(0x98)]=CreateService;