const a397_0x57a7e8=a397_0x4006;(function(_0x50c8df,_0x1d843b){const _0x505a84=a397_0x4006,_0x32e359=_0x50c8df();while(!![]){try{const _0x25af78=-parseInt(_0x505a84(0x172))/0x1+-parseInt(_0x505a84(0x175))/0x2+-parseInt(_0x505a84(0x17a))/0x3*(-parseInt(_0x505a84(0x18e))/0x4)+parseInt(_0x505a84(0x177))/0x5+parseInt(_0x505a84(0x17d))/0x6*(parseInt(_0x505a84(0x16e))/0x7)+-parseInt(_0x505a84(0x19b))/0x8+-parseInt(_0x505a84(0x197))/0x9*(parseInt(_0x505a84(0x18b))/0xa);if(_0x25af78===_0x1d843b)break;else _0x32e359['push'](_0x32e359['shift']());}catch(_0x11ced0){_0x32e359['push'](_0x32e359['shift']());}}}(a397_0x11fa,0x89a30));const a397_0x42bfb6=(function(){let _0x48622a=!![];return function(_0x4fd228,_0x1152d5){const _0x49d6f2=_0x48622a?function(){const _0x509975=a397_0x4006;if(_0x1152d5){const _0x14663e=_0x1152d5[_0x509975(0x183)](_0x4fd228,arguments);return _0x1152d5=null,_0x14663e;}}:function(){};return _0x48622a=![],_0x49d6f2;};}()),a397_0x3c2803=a397_0x42bfb6(this,function(){const _0x2c5bf3=a397_0x4006;return a397_0x3c2803[_0x2c5bf3(0x16d)]()[_0x2c5bf3(0x181)](_0x2c5bf3(0x185))[_0x2c5bf3(0x16d)]()[_0x2c5bf3(0x17b)](a397_0x3c2803)[_0x2c5bf3(0x181)](_0x2c5bf3(0x185));});a397_0x3c2803();'use strict';function a397_0x11fa(){const _0x39e766=['defineProperty','findOrCreate','478649utzOur','error','ERR_CONTACTLISTITEM_INVALID_NAME','598534aLwUWU','jid','2050225qKUzGG','string','prototype','126153FjgzWR','constructor','isWhatsappValid','795702JxsgwQ','__importDefault','Número\x20de\x20contato\x20inválido:\x20','getOwnPropertyDescriptor','search','../../errors/AppError','apply','__importStar','(((.+)+)+)+$','call','min','writable','__esModule','replace','100FFHHPL','number','contactListId','64ZSJRdy','shape','required','yup','configurable','hasOwnProperty','create','default','../../models/ContactListItem','86103oWhJaa','__setModuleDefault','companyId','exists','4590672XaLwDL','toString','49AEuFYR','get'];a397_0x11fa=function(){return _0x39e766;};return a397_0x11fa();}function a397_0x4006(_0x2260cf,_0x332dc4){const _0x16fe1d=a397_0x11fa();return a397_0x4006=function(_0x3c2803,_0x42bfb6){_0x3c2803=_0x3c2803-0x16d;let _0x11fafa=_0x16fe1d[_0x3c2803];return _0x11fafa;},a397_0x4006(_0x2260cf,_0x332dc4);}var __createBinding=this&&this['__createBinding']||(Object[a397_0x57a7e8(0x194)]?function(_0x3ec1f5,_0x34d9b6,_0x29000e,_0x4dc736){const _0x335207=a397_0x57a7e8;if(_0x4dc736===undefined)_0x4dc736=_0x29000e;var _0x266869=Object[_0x335207(0x180)](_0x34d9b6,_0x29000e);(!_0x266869||(_0x335207(0x16f)in _0x266869?!_0x34d9b6[_0x335207(0x189)]:_0x266869[_0x335207(0x188)]||_0x266869[_0x335207(0x192)]))&&(_0x266869={'enumerable':!![],'get':function(){return _0x34d9b6[_0x29000e];}}),Object[_0x335207(0x170)](_0x3ec1f5,_0x4dc736,_0x266869);}:function(_0x1a1adf,_0x26d99a,_0x508fb6,_0x2fc3c6){if(_0x2fc3c6===undefined)_0x2fc3c6=_0x508fb6;_0x1a1adf[_0x2fc3c6]=_0x26d99a[_0x508fb6];}),__setModuleDefault=this&&this[a397_0x57a7e8(0x198)]||(Object[a397_0x57a7e8(0x194)]?function(_0x5aa3c2,_0x2b4476){const _0xf19c31=a397_0x57a7e8;Object[_0xf19c31(0x170)](_0x5aa3c2,'default',{'enumerable':!![],'value':_0x2b4476});}:function(_0x297ab2,_0x262e6d){_0x297ab2['default']=_0x262e6d;}),__importStar=this&&this[a397_0x57a7e8(0x184)]||function(_0x18a76f){const _0x3a3722=a397_0x57a7e8;if(_0x18a76f&&_0x18a76f[_0x3a3722(0x189)])return _0x18a76f;var _0x501703={};if(_0x18a76f!=null){for(var _0x1b087d in _0x18a76f)if(_0x1b087d!==_0x3a3722(0x195)&&Object[_0x3a3722(0x179)][_0x3a3722(0x193)][_0x3a3722(0x186)](_0x18a76f,_0x1b087d))__createBinding(_0x501703,_0x18a76f,_0x1b087d);}return __setModuleDefault(_0x501703,_0x18a76f),_0x501703;},__importDefault=this&&this[a397_0x57a7e8(0x17e)]||function(_0xb63c2d){return _0xb63c2d&&_0xb63c2d['__esModule']?_0xb63c2d:{'default':_0xb63c2d};};Object[a397_0x57a7e8(0x170)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a397_0x57a7e8(0x191))),AppError_1=__importDefault(require(a397_0x57a7e8(0x182))),ContactListItem_1=__importDefault(require(a397_0x57a7e8(0x196))),logger_1=require('../../utils/logger'),CheckNumber_1=__importDefault(require('../WbotServices/CheckNumber')),CreateService=async _0x1e5552=>{const _0x25e3c7=a397_0x57a7e8,{name:_0x1932d7}=_0x1e5552,_0x1f3bda=Yup['object']()[_0x25e3c7(0x18f)]({'name':Yup[_0x25e3c7(0x178)]()[_0x25e3c7(0x187)](0x3,_0x25e3c7(0x174))[_0x25e3c7(0x190)]('ERR_CONTACTLISTITEM_REQUIRED')});try{await _0x1f3bda['validate']({'name':_0x1932d7});}catch(_0x4323d4){throw new AppError_1[(_0x25e3c7(0x195))](_0x4323d4['message']);}const [_0x4f66a4]=await ContactListItem_1[_0x25e3c7(0x195)][_0x25e3c7(0x171)]({'where':{'number':_0x1e5552['number'],'companyId':_0x1e5552['companyId'],'contactListId':_0x1e5552[_0x25e3c7(0x18d)]},'defaults':_0x1e5552});try{const _0x2b994b=await(0x0,CheckNumber_1[_0x25e3c7(0x195)])(_0x4f66a4['number'],_0x4f66a4[_0x25e3c7(0x199)]);_0x4f66a4[_0x25e3c7(0x17c)]=_0x2b994b[_0x25e3c7(0x19a)];const _0x47dba2=_0x2b994b[_0x25e3c7(0x176)][_0x25e3c7(0x18a)](/\D/g,'');_0x4f66a4[_0x25e3c7(0x18c)]=_0x47dba2,await _0x4f66a4['save']();}catch(_0x5eb379){logger_1['logger'][_0x25e3c7(0x173)](_0x25e3c7(0x17f)+_0x4f66a4[_0x25e3c7(0x18c)]);}return _0x4f66a4;};exports[a397_0x57a7e8(0x195)]=CreateService;