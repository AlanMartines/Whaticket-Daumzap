const a397_0x3f900d=a397_0x235a;function a397_0x586d(){const _0x188797=['getOwnPropertyDescriptor','(((.+)+)+)+$','../WbotServices/CheckNumber','object','157578BKZHjs','number','default','48109ZLQTps','8495610qjvSsC','112wsgJUq','message','34MWjkRI','companyId','apply','search','100179aIcCpl','ERR_CONTACTLISTITEM_REQUIRED','required','replace','__esModule','4074625bfvPuc','constructor','call','jid','__createBinding','min','get','string','136KMbgOS','hasOwnProperty','Número\x20de\x20contato\x20inválido:\x20','validate','toString','2249000cZxXxR','error','configurable','shape','ERR_CONTACTLISTITEM_INVALID_NAME','writable','create','prototype','defineProperty','1222806UOmdDa','save','contactListId'];a397_0x586d=function(){return _0x188797;};return a397_0x586d();}(function(_0x3d9ad3,_0x16b3b2){const _0xae1a10=a397_0x235a,_0x5cb49d=_0x3d9ad3();while(!![]){try{const _0xeb76ed=-parseInt(_0xae1a10(0x86))/0x1*(-parseInt(_0xae1a10(0x8a))/0x2)+-parseInt(_0xae1a10(0x7c))/0x3+-parseInt(_0xae1a10(0x73))/0x4+parseInt(_0xae1a10(0x93))/0x5+-parseInt(_0xae1a10(0x83))/0x6*(-parseInt(_0xae1a10(0x88))/0x7)+-parseInt(_0xae1a10(0x9b))/0x8*(-parseInt(_0xae1a10(0x8e))/0x9)+-parseInt(_0xae1a10(0x87))/0xa;if(_0xeb76ed===_0x16b3b2)break;else _0x5cb49d['push'](_0x5cb49d['shift']());}catch(_0x1906b3){_0x5cb49d['push'](_0x5cb49d['shift']());}}}(a397_0x586d,0x67390));const a397_0x58262c=(function(){let _0x2999a6=!![];return function(_0x111964,_0x38c64b){const _0x2840c8=_0x2999a6?function(){const _0x110820=a397_0x235a;if(_0x38c64b){const _0x315793=_0x38c64b[_0x110820(0x8c)](_0x111964,arguments);return _0x38c64b=null,_0x315793;}}:function(){};return _0x2999a6=![],_0x2840c8;};}()),a397_0x1833ef=a397_0x58262c(this,function(){const _0xa33161=a397_0x235a;return a397_0x1833ef[_0xa33161(0x72)]()[_0xa33161(0x8d)](_0xa33161(0x80))['toString']()[_0xa33161(0x94)](a397_0x1833ef)['search'](_0xa33161(0x80));});function a397_0x235a(_0x2830a4,_0x3d39a1){const _0x5c9d8a=a397_0x586d();return a397_0x235a=function(_0x1833ef,_0x58262c){_0x1833ef=_0x1833ef-0x70;let _0x586ddc=_0x5c9d8a[_0x1833ef];return _0x586ddc;},a397_0x235a(_0x2830a4,_0x3d39a1);}a397_0x1833ef();'use strict';var __createBinding=this&&this[a397_0x3f900d(0x97)]||(Object['create']?function(_0x267ad7,_0x1ee21f,_0x308ca1,_0x26ad1d){const _0x3e3939=a397_0x3f900d;if(_0x26ad1d===undefined)_0x26ad1d=_0x308ca1;var _0x51be0b=Object[_0x3e3939(0x7f)](_0x1ee21f,_0x308ca1);(!_0x51be0b||(_0x3e3939(0x99)in _0x51be0b?!_0x1ee21f['__esModule']:_0x51be0b[_0x3e3939(0x78)]||_0x51be0b[_0x3e3939(0x75)]))&&(_0x51be0b={'enumerable':!![],'get':function(){return _0x1ee21f[_0x308ca1];}}),Object[_0x3e3939(0x7b)](_0x267ad7,_0x26ad1d,_0x51be0b);}:function(_0x260651,_0x40391b,_0x3202e6,_0x51c66e){if(_0x51c66e===undefined)_0x51c66e=_0x3202e6;_0x260651[_0x51c66e]=_0x40391b[_0x3202e6];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a397_0x3f900d(0x79)]?function(_0x4bc64e,_0x2528d7){const _0x1d54aa=a397_0x3f900d;Object[_0x1d54aa(0x7b)](_0x4bc64e,_0x1d54aa(0x85),{'enumerable':!![],'value':_0x2528d7});}:function(_0x5a1d84,_0x5a0673){const _0x59dea2=a397_0x3f900d;_0x5a1d84[_0x59dea2(0x85)]=_0x5a0673;}),__importStar=this&&this['__importStar']||function(_0x1f6b73){const _0x37e768=a397_0x3f900d;if(_0x1f6b73&&_0x1f6b73[_0x37e768(0x92)])return _0x1f6b73;var _0x599f27={};if(_0x1f6b73!=null){for(var _0xff3a7e in _0x1f6b73)if(_0xff3a7e!==_0x37e768(0x85)&&Object[_0x37e768(0x7a)][_0x37e768(0x9c)][_0x37e768(0x95)](_0x1f6b73,_0xff3a7e))__createBinding(_0x599f27,_0x1f6b73,_0xff3a7e);}return __setModuleDefault(_0x599f27,_0x1f6b73),_0x599f27;},__importDefault=this&&this['__importDefault']||function(_0x44c2cf){const _0x4ecce7=a397_0x3f900d;return _0x44c2cf&&_0x44c2cf[_0x4ecce7(0x92)]?_0x44c2cf:{'default':_0x44c2cf};};Object[a397_0x3f900d(0x7b)](exports,a397_0x3f900d(0x92),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),logger_1=require('../../utils/logger'),CheckNumber_1=__importDefault(require(a397_0x3f900d(0x81))),CreateService=async _0x3a52a4=>{const _0x1ab627=a397_0x3f900d,{name:_0x27b0af}=_0x3a52a4,_0x6488c6=Yup[_0x1ab627(0x82)]()[_0x1ab627(0x76)]({'name':Yup[_0x1ab627(0x9a)]()[_0x1ab627(0x98)](0x3,_0x1ab627(0x77))[_0x1ab627(0x90)](_0x1ab627(0x8f))});try{await _0x6488c6[_0x1ab627(0x71)]({'name':_0x27b0af});}catch(_0x3dcb16){throw new AppError_1['default'](_0x3dcb16[_0x1ab627(0x89)]);}const [_0xd02658]=await ContactListItem_1[_0x1ab627(0x85)]['findOrCreate']({'where':{'number':_0x3a52a4[_0x1ab627(0x84)],'companyId':_0x3a52a4['companyId'],'contactListId':_0x3a52a4[_0x1ab627(0x7e)]},'defaults':_0x3a52a4});try{const _0x3a1a9c=await(0x0,CheckNumber_1[_0x1ab627(0x85)])(_0xd02658['number'],_0xd02658[_0x1ab627(0x8b)]);_0xd02658['isWhatsappValid']=_0x3a1a9c['exists'];const _0x34e683=_0x3a1a9c[_0x1ab627(0x96)][_0x1ab627(0x91)](/\D/g,'');_0xd02658[_0x1ab627(0x84)]=_0x34e683,await _0xd02658[_0x1ab627(0x7d)]();}catch(_0x63fc19){logger_1['logger'][_0x1ab627(0x74)](_0x1ab627(0x70)+_0xd02658['number']);}return _0xd02658;};exports['default']=CreateService;