const a422_0x3e0672=a422_0x4c65;(function(_0x40df2d,_0x1e7b22){const _0x1b7c1c=a422_0x4c65,_0x5b1195=_0x40df2d();while(!![]){try{const _0x66a939=-parseInt(_0x1b7c1c(0x7d))/0x1*(parseInt(_0x1b7c1c(0x81))/0x2)+-parseInt(_0x1b7c1c(0x86))/0x3+parseInt(_0x1b7c1c(0x85))/0x4*(parseInt(_0x1b7c1c(0x8f))/0x5)+-parseInt(_0x1b7c1c(0x7f))/0x6*(-parseInt(_0x1b7c1c(0x94))/0x7)+parseInt(_0x1b7c1c(0x71))/0x8*(-parseInt(_0x1b7c1c(0x83))/0x9)+-parseInt(_0x1b7c1c(0x84))/0xa*(parseInt(_0x1b7c1c(0x73))/0xb)+parseInt(_0x1b7c1c(0x7a))/0xc*(parseInt(_0x1b7c1c(0x90))/0xd);if(_0x66a939===_0x1e7b22)break;else _0x5b1195['push'](_0x5b1195['shift']());}catch(_0x28c74a){_0x5b1195['push'](_0x5b1195['shift']());}}}(a422_0x1666,0xaaffd));const a422_0x15a6b7=(function(){let _0x21005a=!![];return function(_0x109add,_0x5cbc23){const _0x538bd9=_0x21005a?function(){const _0x4e067d=a422_0x4c65;if(_0x5cbc23){const _0x9350ab=_0x5cbc23[_0x4e067d(0x7e)](_0x109add,arguments);return _0x5cbc23=null,_0x9350ab;}}:function(){};return _0x21005a=![],_0x538bd9;};}()),a422_0x202b4f=a422_0x15a6b7(this,function(){const _0x4d7357=a422_0x4c65;return a422_0x202b4f[_0x4d7357(0x76)]()[_0x4d7357(0x74)]('(((.+)+)+)+$')[_0x4d7357(0x76)]()[_0x4d7357(0x89)](a422_0x202b4f)[_0x4d7357(0x74)]('(((.+)+)+)+$');});a422_0x202b4f();'use strict';var __importDefault=this&&this[a422_0x3e0672(0x95)]||function(_0x6a7a4b){const _0x25384f=a422_0x3e0672;return _0x6a7a4b&&_0x6a7a4b[_0x25384f(0x8b)]?_0x6a7a4b:{'default':_0x6a7a4b};};function a422_0x4c65(_0x454692,_0x1e734b){const _0x19da45=a422_0x1666();return a422_0x4c65=function(_0x202b4f,_0x15a6b7){_0x202b4f=_0x202b4f-0x70;let _0x1666e3=_0x19da45[_0x202b4f];return _0x1666e3;},a422_0x4c65(_0x454692,_0x1e734b);}function a422_0x1666(){const _0x71d0bc=['constructor','all','__esModule','../../models/Contact','profilePicUrl','findOne','5726935RaxjJP','13bQvYyo','companyId','default','email','14vQIoVW','__importDefault','../../models/ContactCustomField','88GzXocb','number','337073XtexuS','search','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','toString','reload','map','destroy','15638760roRXAR','findIndex','update','967wZJVbV','apply','3525252GmUVro','defineProperty','1526reTpEe','extraInfo','721341ljdLXp','400JKnyiv','4rwkmdb','234324DUSyMu','ERR_NO_CONTACT_FOUND','../../errors/AppError'];a422_0x1666=function(){return _0x71d0bc;};return a422_0x1666();}Object[a422_0x3e0672(0x80)](exports,a422_0x3e0672(0x8b),{'value':!![]});const AppError_1=__importDefault(require(a422_0x3e0672(0x88))),Contact_1=__importDefault(require(a422_0x3e0672(0x8c))),ContactCustomField_1=__importDefault(require(a422_0x3e0672(0x70))),UpdateContactService=async({contactData:_0x4e18ab,contactId:_0x27227a,companyId:_0x482004})=>{const _0x2a7e3a=a422_0x3e0672,{email:_0x5622e2,name:_0x1d17fb,number:_0x2536e8,extraInfo:_0x1a606a,disableBot:_0x2d8cd1}=_0x4e18ab,_0x1cd9dc=await Contact_1[_0x2a7e3a(0x92)][_0x2a7e3a(0x8e)]({'where':{'id':_0x27227a},'attributes':['id','name',_0x2a7e3a(0x72),_0x2a7e3a(0x93),_0x2a7e3a(0x91),'profilePicUrl'],'include':[_0x2a7e3a(0x82)]});if(_0x1cd9dc?.['companyId']!==_0x482004)throw new AppError_1['default'](_0x2a7e3a(0x75));if(!_0x1cd9dc)throw new AppError_1[(_0x2a7e3a(0x92))](_0x2a7e3a(0x87),0x194);return _0x1a606a&&(await Promise[_0x2a7e3a(0x8a)](_0x1a606a[_0x2a7e3a(0x78)](async _0x408f9f=>{const _0x163b29=_0x2a7e3a;await ContactCustomField_1[_0x163b29(0x92)]['upsert']({..._0x408f9f,'contactId':_0x1cd9dc['id']});})),await Promise['all'](_0x1cd9dc[_0x2a7e3a(0x82)][_0x2a7e3a(0x78)](async _0x2a0944=>{const _0x163da=_0x2a7e3a,_0xa4a0c7=_0x1a606a[_0x163da(0x7b)](_0x2b22a5=>_0x2b22a5['id']===_0x2a0944['id']);_0xa4a0c7===-0x1&&await ContactCustomField_1['default'][_0x163da(0x79)]({'where':{'id':_0x2a0944['id']}});}))),await _0x1cd9dc[_0x2a7e3a(0x7c)]({'name':_0x1d17fb,'number':_0x2536e8,'email':_0x5622e2,'disableBot':_0x2d8cd1}),await _0x1cd9dc[_0x2a7e3a(0x77)]({'attributes':['id','name',_0x2a7e3a(0x72),_0x2a7e3a(0x93),_0x2a7e3a(0x8d)],'include':['extraInfo']}),_0x1cd9dc;};exports[a422_0x3e0672(0x92)]=UpdateContactService;