function a422_0x23e1(){const _0x2d6462=['__esModule','findIndex','19576mkcsST','email','28tEPMSe','defineProperty','apply','1845222jOPOST','../../models/Contact','(((.+)+)+)+$','profilePicUrl','default','reload','update','destroy','all','number','extraInfo','14476068GrnJdI','174516EwFYoc','upsert','constructor','8YTAYrf','toString','companyId','findOne','../../errors/AppError','153516avKxcc','name','__importDefault','1493285eLDuyq','../../models/ContactCustomField','3798CpOEMW','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','map','303168bUxvFk','10PcgKng','4goAIte','search'];a422_0x23e1=function(){return _0x2d6462;};return a422_0x23e1();}const a422_0x521b01=a422_0x5614;(function(_0x540f31,_0x4c1858){const _0x51e1e9=a422_0x5614,_0x23f589=_0x540f31();while(!![]){try{const _0x30f2a8=parseInt(_0x51e1e9(0x14f))/0x1+-parseInt(_0x51e1e9(0x151))/0x2*(-parseInt(_0x51e1e9(0x13f))/0x3)+parseInt(_0x51e1e9(0x142))/0x4*(-parseInt(_0x51e1e9(0x14a))/0x5)+parseInt(_0x51e1e9(0x15a))/0x6*(-parseInt(_0x51e1e9(0x157))/0x7)+-parseInt(_0x51e1e9(0x155))/0x8*(-parseInt(_0x51e1e9(0x14c))/0x9)+-parseInt(_0x51e1e9(0x150))/0xa*(-parseInt(_0x51e1e9(0x147))/0xb)+parseInt(_0x51e1e9(0x13e))/0xc;if(_0x30f2a8===_0x4c1858)break;else _0x23f589['push'](_0x23f589['shift']());}catch(_0x147e13){_0x23f589['push'](_0x23f589['shift']());}}}(a422_0x23e1,0xce4b3));const a422_0x4182c2=(function(){let _0x45b160=!![];return function(_0x2eb1b2,_0xf22b6f){const _0x1a48a9=_0x45b160?function(){const _0x19ef5d=a422_0x5614;if(_0xf22b6f){const _0x51a394=_0xf22b6f[_0x19ef5d(0x159)](_0x2eb1b2,arguments);return _0xf22b6f=null,_0x51a394;}}:function(){};return _0x45b160=![],_0x1a48a9;};}()),a422_0x3ac962=a422_0x4182c2(this,function(){const _0x581745=a422_0x5614;return a422_0x3ac962[_0x581745(0x143)]()[_0x581745(0x152)]('(((.+)+)+)+$')[_0x581745(0x143)]()[_0x581745(0x141)](a422_0x3ac962)[_0x581745(0x152)](_0x581745(0x15c));});a422_0x3ac962();'use strict';function a422_0x5614(_0x23e218,_0x3df050){const _0x108d96=a422_0x23e1();return a422_0x5614=function(_0x3ac962,_0x4182c2){_0x3ac962=_0x3ac962-0x139;let _0x23e1e0=_0x108d96[_0x3ac962];return _0x23e1e0;},a422_0x5614(_0x23e218,_0x3df050);}var __importDefault=this&&this[a422_0x521b01(0x149)]||function(_0x1bc61e){const _0x17b73f=a422_0x521b01;return _0x1bc61e&&_0x1bc61e[_0x17b73f(0x153)]?_0x1bc61e:{'default':_0x1bc61e};};Object[a422_0x521b01(0x158)](exports,a422_0x521b01(0x153),{'value':!![]});const AppError_1=__importDefault(require(a422_0x521b01(0x146))),Contact_1=__importDefault(require(a422_0x521b01(0x15b))),ContactCustomField_1=__importDefault(require(a422_0x521b01(0x14b))),UpdateContactService=async({contactData:_0x3e964a,contactId:_0x580b48,companyId:_0x1fa8b6})=>{const _0x1c52cf=a422_0x521b01,{email:_0x500c38,name:_0x517467,number:_0xd169e6,extraInfo:_0x47e0f2,disableBot:_0xc767e8}=_0x3e964a,_0x359fd4=await Contact_1['default'][_0x1c52cf(0x145)]({'where':{'id':_0x580b48},'attributes':['id','name',_0x1c52cf(0x13c),_0x1c52cf(0x156),_0x1c52cf(0x144),_0x1c52cf(0x15d)],'include':[_0x1c52cf(0x13d)]});if(_0x359fd4?.[_0x1c52cf(0x144)]!==_0x1fa8b6)throw new AppError_1['default'](_0x1c52cf(0x14d));if(!_0x359fd4)throw new AppError_1[(_0x1c52cf(0x15e))]('ERR_NO_CONTACT_FOUND',0x194);return _0x47e0f2&&(await Promise['all'](_0x47e0f2[_0x1c52cf(0x14e)](async _0x1cc7de=>{const _0x38bb63=_0x1c52cf;await ContactCustomField_1[_0x38bb63(0x15e)][_0x38bb63(0x140)]({..._0x1cc7de,'contactId':_0x359fd4['id']});})),await Promise[_0x1c52cf(0x13b)](_0x359fd4[_0x1c52cf(0x13d)]['map'](async _0x2dc97e=>{const _0x521e18=_0x1c52cf,_0x1a09a4=_0x47e0f2[_0x521e18(0x154)](_0x2209c4=>_0x2209c4['id']===_0x2dc97e['id']);_0x1a09a4===-0x1&&await ContactCustomField_1[_0x521e18(0x15e)][_0x521e18(0x13a)]({'where':{'id':_0x2dc97e['id']}});}))),await _0x359fd4[_0x1c52cf(0x139)]({'name':_0x517467,'number':_0xd169e6,'email':_0x500c38,'disableBot':_0xc767e8}),await _0x359fd4[_0x1c52cf(0x15f)]({'attributes':['id',_0x1c52cf(0x148),'number','email','profilePicUrl'],'include':[_0x1c52cf(0x13d)]}),_0x359fd4;};exports[a422_0x521b01(0x15e)]=UpdateContactService;