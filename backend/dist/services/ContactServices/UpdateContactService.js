const a422_0x424530=a422_0x2a02;function a422_0x2a02(_0x1ef8cf,_0xd91715){const _0x137b12=a422_0x52fb();return a422_0x2a02=function(_0x23b8e0,_0xa14080){_0x23b8e0=_0x23b8e0-0x10a;let _0x52fb06=_0x137b12[_0x23b8e0];return _0x52fb06;},a422_0x2a02(_0x1ef8cf,_0xd91715);}function a422_0x52fb(){const _0x2fb856=['184076SSCkiX','map','510258gzoSFZ','all','search','56qAfrOu','upsert','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','apply','name','12qzcOsc','companyId','constructor','281079xpJKEy','email','findIndex','../../errors/AppError','../../models/ContactCustomField','5040636VoWbTE','6YZDPNL','(((.+)+)+)+$','default','__importDefault','ERR_NO_CONTACT_FOUND','extraInfo','profilePicUrl','number','toString','666612vfxiEy','33pWeQiO','45KMoaKD','defineProperty','4868250UjCTum','__esModule','29437dSHynx'];a422_0x52fb=function(){return _0x2fb856;};return a422_0x52fb();}(function(_0x19ef5a,_0x193280){const _0x52b1c9=a422_0x2a02,_0x34662e=_0x19ef5a();while(!![]){try{const _0xd5821d=parseInt(_0x52b1c9(0x125))/0x1*(parseInt(_0x52b1c9(0x116))/0x2)+parseInt(_0x52b1c9(0x11f))/0x3+parseInt(_0x52b1c9(0x126))/0x4*(parseInt(_0x52b1c9(0x121))/0x5)+-parseInt(_0x52b1c9(0x10d))/0x6*(-parseInt(_0x52b1c9(0x128))/0x7)+parseInt(_0x52b1c9(0x12b))/0x8*(parseInt(_0x52b1c9(0x110))/0x9)+parseInt(_0x52b1c9(0x123))/0xa+-parseInt(_0x52b1c9(0x120))/0xb*(parseInt(_0x52b1c9(0x115))/0xc);if(_0xd5821d===_0x193280)break;else _0x34662e['push'](_0x34662e['shift']());}catch(_0x5c6a5d){_0x34662e['push'](_0x34662e['shift']());}}}(a422_0x52fb,0x4d16d));const a422_0xa14080=(function(){let _0x518c23=!![];return function(_0x7c4751,_0x560f78){const _0xb8944e=_0x518c23?function(){const _0x5e15cc=a422_0x2a02;if(_0x560f78){const _0x4dfdbd=_0x560f78[_0x5e15cc(0x10b)](_0x7c4751,arguments);return _0x560f78=null,_0x4dfdbd;}}:function(){};return _0x518c23=![],_0xb8944e;};}()),a422_0x23b8e0=a422_0xa14080(this,function(){const _0x551c8e=a422_0x2a02;return a422_0x23b8e0[_0x551c8e(0x11e)]()[_0x551c8e(0x12a)]('(((.+)+)+)+$')[_0x551c8e(0x11e)]()[_0x551c8e(0x10f)](a422_0x23b8e0)['search'](_0x551c8e(0x117));});a422_0x23b8e0();'use strict';var __importDefault=this&&this[a422_0x424530(0x119)]||function(_0x24a746){const _0x1a362b=a422_0x424530;return _0x24a746&&_0x24a746[_0x1a362b(0x124)]?_0x24a746:{'default':_0x24a746};};Object[a422_0x424530(0x122)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a422_0x424530(0x113))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a422_0x424530(0x114))),UpdateContactService=async({contactData:_0x3c1b14,contactId:_0x3ebe82,companyId:_0x1064a1})=>{const _0x7ee9a1=a422_0x424530,{email:_0xcb6e8c,name:_0x4f8425,number:_0x524dc1,extraInfo:_0x1ee3f8,disableBot:_0x53d48c}=_0x3c1b14,_0x36fd0b=await Contact_1[_0x7ee9a1(0x118)]['findOne']({'where':{'id':_0x3ebe82},'attributes':['id',_0x7ee9a1(0x10c),_0x7ee9a1(0x11d),'email',_0x7ee9a1(0x10e),_0x7ee9a1(0x11c)],'include':[_0x7ee9a1(0x11b)]});if(_0x36fd0b?.[_0x7ee9a1(0x10e)]!==_0x1064a1)throw new AppError_1['default'](_0x7ee9a1(0x10a));if(!_0x36fd0b)throw new AppError_1[(_0x7ee9a1(0x118))](_0x7ee9a1(0x11a),0x194);return _0x1ee3f8&&(await Promise[_0x7ee9a1(0x129)](_0x1ee3f8[_0x7ee9a1(0x127)](async _0x44a122=>{const _0x174478=_0x7ee9a1;await ContactCustomField_1[_0x174478(0x118)][_0x174478(0x12c)]({..._0x44a122,'contactId':_0x36fd0b['id']});})),await Promise[_0x7ee9a1(0x129)](_0x36fd0b['extraInfo'][_0x7ee9a1(0x127)](async _0x3e8056=>{const _0x402f77=_0x7ee9a1,_0x41d6fb=_0x1ee3f8[_0x402f77(0x112)](_0x13a072=>_0x13a072['id']===_0x3e8056['id']);_0x41d6fb===-0x1&&await ContactCustomField_1[_0x402f77(0x118)]['destroy']({'where':{'id':_0x3e8056['id']}});}))),await _0x36fd0b['update']({'name':_0x4f8425,'number':_0x524dc1,'email':_0xcb6e8c,'disableBot':_0x53d48c}),await _0x36fd0b['reload']({'attributes':['id','name','number',_0x7ee9a1(0x111),_0x7ee9a1(0x11c)],'include':[_0x7ee9a1(0x11b)]}),_0x36fd0b;};exports[a422_0x424530(0x118)]=UpdateContactService;