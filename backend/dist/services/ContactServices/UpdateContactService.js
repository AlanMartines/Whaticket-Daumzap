const a422_0xbbec21=a422_0x14a9;(function(_0x36acc9,_0x30ac35){const _0x1391b8=a422_0x14a9,_0x1dbf92=_0x36acc9();while(!![]){try{const _0x41887b=parseInt(_0x1391b8(0xc5))/0x1*(-parseInt(_0x1391b8(0xa8))/0x2)+parseInt(_0x1391b8(0xbd))/0x3+-parseInt(_0x1391b8(0xbf))/0x4+parseInt(_0x1391b8(0xc0))/0x5*(parseInt(_0x1391b8(0xaf))/0x6)+parseInt(_0x1391b8(0xb1))/0x7+-parseInt(_0x1391b8(0xa9))/0x8+-parseInt(_0x1391b8(0xb7))/0x9*(-parseInt(_0x1391b8(0xc4))/0xa);if(_0x41887b===_0x30ac35)break;else _0x1dbf92['push'](_0x1dbf92['shift']());}catch(_0x6483e0){_0x1dbf92['push'](_0x1dbf92['shift']());}}}(a422_0x9864,0xe0b66));function a422_0x9864(){const _0x3de114=['email','default','extraInfo','../../errors/AppError','profilePicUrl','4416645PSFskH','destroy','4261052NsUdpz','41365FUStSU','apply','(((.+)+)+)+$','__importDefault','10IDxoDv','612707aZMrfC','companyId','2sPrvlj','6465240cSyubO','constructor','reload','toString','all','search','1206HVEFuV','number','860307WSzMYC','map','defineProperty','update','upsert','name','1337022elDqWD'];a422_0x9864=function(){return _0x3de114;};return a422_0x9864();}const a422_0x1e987f=(function(){let _0x1ecc66=!![];return function(_0x2c1588,_0x61e1fb){const _0x2c5e5e=_0x1ecc66?function(){const _0x427509=a422_0x14a9;if(_0x61e1fb){const _0x1ca51a=_0x61e1fb[_0x427509(0xc1)](_0x2c1588,arguments);return _0x61e1fb=null,_0x1ca51a;}}:function(){};return _0x1ecc66=![],_0x2c5e5e;};}()),a422_0x33f2da=a422_0x1e987f(this,function(){const _0x1afada=a422_0x14a9;return a422_0x33f2da[_0x1afada(0xac)]()['search'](_0x1afada(0xc2))['toString']()[_0x1afada(0xaa)](a422_0x33f2da)[_0x1afada(0xae)]('(((.+)+)+)+$');});a422_0x33f2da();'use strict';var __importDefault=this&&this[a422_0xbbec21(0xc3)]||function(_0x3881e8){return _0x3881e8&&_0x3881e8['__esModule']?_0x3881e8:{'default':_0x3881e8};};Object[a422_0xbbec21(0xb3)](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(a422_0xbbec21(0xbb))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require('../../models/ContactCustomField')),UpdateContactService=async({contactData:_0x585467,contactId:_0x2b3d43,companyId:_0x741951})=>{const _0x4c4cde=a422_0xbbec21,{email:_0x5a5109,name:_0x80add1,number:_0x54b66f,extraInfo:_0x4ccb31,disableBot:_0xa36324}=_0x585467,_0x346740=await Contact_1['default']['findOne']({'where':{'id':_0x2b3d43},'attributes':['id',_0x4c4cde(0xb6),_0x4c4cde(0xb0),_0x4c4cde(0xb8),_0x4c4cde(0xc6),_0x4c4cde(0xbc)],'include':[_0x4c4cde(0xba)]});if(_0x346740?.[_0x4c4cde(0xc6)]!==_0x741951)throw new AppError_1[(_0x4c4cde(0xb9))]('Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa');if(!_0x346740)throw new AppError_1[(_0x4c4cde(0xb9))]('ERR_NO_CONTACT_FOUND',0x194);return _0x4ccb31&&(await Promise['all'](_0x4ccb31['map'](async _0x378e33=>{const _0x54cfc8=_0x4c4cde;await ContactCustomField_1[_0x54cfc8(0xb9)][_0x54cfc8(0xb5)]({..._0x378e33,'contactId':_0x346740['id']});})),await Promise[_0x4c4cde(0xad)](_0x346740[_0x4c4cde(0xba)][_0x4c4cde(0xb2)](async _0x48c09c=>{const _0x586acf=_0x4c4cde,_0x1ebf1f=_0x4ccb31['findIndex'](_0x1786ee=>_0x1786ee['id']===_0x48c09c['id']);_0x1ebf1f===-0x1&&await ContactCustomField_1[_0x586acf(0xb9)][_0x586acf(0xbe)]({'where':{'id':_0x48c09c['id']}});}))),await _0x346740[_0x4c4cde(0xb4)]({'name':_0x80add1,'number':_0x54b66f,'email':_0x5a5109,'disableBot':_0xa36324}),await _0x346740[_0x4c4cde(0xab)]({'attributes':['id',_0x4c4cde(0xb6),_0x4c4cde(0xb0),_0x4c4cde(0xb8),_0x4c4cde(0xbc)],'include':[_0x4c4cde(0xba)]}),_0x346740;};function a422_0x14a9(_0x5d22f8,_0x46ebd3){const _0x3f174f=a422_0x9864();return a422_0x14a9=function(_0x33f2da,_0x1e987f){_0x33f2da=_0x33f2da-0xa8;let _0x9864e=_0x3f174f[_0x33f2da];return _0x9864e;},a422_0x14a9(_0x5d22f8,_0x46ebd3);}exports[a422_0xbbec21(0xb9)]=UpdateContactService;