const a422_0x2b1c05=a422_0x5c97;function a422_0x5c97(_0x110d22,_0x202f3f){const _0x18e8db=a422_0x5f51();return a422_0x5c97=function(_0x5c541d,_0x18e72f){_0x5c541d=_0x5c541d-0x154;let _0x5f5131=_0x18e8db[_0x5c541d];return _0x5f5131;},a422_0x5c97(_0x110d22,_0x202f3f);}(function(_0x33741d,_0x4689e0){const _0x2aeaad=a422_0x5c97,_0x4730c0=_0x33741d();while(!![]){try{const _0x9babe3=-parseInt(_0x2aeaad(0x159))/0x1+-parseInt(_0x2aeaad(0x156))/0x2+-parseInt(_0x2aeaad(0x167))/0x3*(-parseInt(_0x2aeaad(0x158))/0x4)+-parseInt(_0x2aeaad(0x170))/0x5+parseInt(_0x2aeaad(0x162))/0x6*(parseInt(_0x2aeaad(0x16b))/0x7)+-parseInt(_0x2aeaad(0x157))/0x8+parseInt(_0x2aeaad(0x15b))/0x9;if(_0x9babe3===_0x4689e0)break;else _0x4730c0['push'](_0x4730c0['shift']());}catch(_0x411e41){_0x4730c0['push'](_0x4730c0['shift']());}}}(a422_0x5f51,0x34f57));const a422_0x18e72f=(function(){let _0x58c838=!![];return function(_0x2ac86d,_0x4e09ff){const _0x9e8d53=_0x58c838?function(){const _0xb5af3d=a422_0x5c97;if(_0x4e09ff){const _0x3e2a2e=_0x4e09ff[_0xb5af3d(0x163)](_0x2ac86d,arguments);return _0x4e09ff=null,_0x3e2a2e;}}:function(){};return _0x58c838=![],_0x9e8d53;};}()),a422_0x5c541d=a422_0x18e72f(this,function(){const _0x3b8104=a422_0x5c97;return a422_0x5c541d['toString']()[_0x3b8104(0x171)](_0x3b8104(0x15c))[_0x3b8104(0x15a)]()[_0x3b8104(0x169)](a422_0x5c541d)[_0x3b8104(0x171)](_0x3b8104(0x15c));});a422_0x5c541d();'use strict';var __importDefault=this&&this[a422_0x2b1c05(0x164)]||function(_0x1038e6){const _0x24a693=a422_0x2b1c05;return _0x1038e6&&_0x1038e6[_0x24a693(0x168)]?_0x1038e6:{'default':_0x1038e6};};Object['defineProperty'](exports,a422_0x2b1c05(0x168),{'value':!![]});const AppError_1=__importDefault(require(a422_0x2b1c05(0x155))),Contact_1=__importDefault(require('../../models/Contact')),ContactCustomField_1=__importDefault(require(a422_0x2b1c05(0x160))),UpdateContactService=async({contactData:_0x551c3d,contactId:_0x2eea58,companyId:_0x34956a})=>{const _0x3bcc48=a422_0x2b1c05,{email:_0x4d663b,name:_0x409541,number:_0x2af60a,extraInfo:_0x85b96b,disableBot:_0x1c07af}=_0x551c3d,_0x4feb11=await Contact_1['default'][_0x3bcc48(0x15d)]({'where':{'id':_0x2eea58},'attributes':['id',_0x3bcc48(0x15f),_0x3bcc48(0x16c),_0x3bcc48(0x174),_0x3bcc48(0x16f),_0x3bcc48(0x16a)],'include':[_0x3bcc48(0x154)]});if(_0x4feb11?.['companyId']!==_0x34956a)throw new AppError_1['default'](_0x3bcc48(0x173));if(!_0x4feb11)throw new AppError_1[(_0x3bcc48(0x161))](_0x3bcc48(0x16e),0x194);return _0x85b96b&&(await Promise['all'](_0x85b96b[_0x3bcc48(0x165)](async _0x1ffe91=>{const _0x211984=_0x3bcc48;await ContactCustomField_1[_0x211984(0x161)][_0x211984(0x15e)]({..._0x1ffe91,'contactId':_0x4feb11['id']});})),await Promise[_0x3bcc48(0x172)](_0x4feb11[_0x3bcc48(0x154)][_0x3bcc48(0x165)](async _0x332ebd=>{const _0x1a6bd7=_0x3bcc48,_0x44180b=_0x85b96b[_0x1a6bd7(0x166)](_0x4ae3df=>_0x4ae3df['id']===_0x332ebd['id']);_0x44180b===-0x1&&await ContactCustomField_1[_0x1a6bd7(0x161)][_0x1a6bd7(0x16d)]({'where':{'id':_0x332ebd['id']}});}))),await _0x4feb11['update']({'name':_0x409541,'number':_0x2af60a,'email':_0x4d663b,'disableBot':_0x1c07af}),await _0x4feb11['reload']({'attributes':['id','name','number',_0x3bcc48(0x174),'profilePicUrl'],'include':['extraInfo']}),_0x4feb11;};exports[a422_0x2b1c05(0x161)]=UpdateContactService;function a422_0x5f51(){const _0x1f390c=['apply','__importDefault','map','findIndex','3xUewFl','__esModule','constructor','profilePicUrl','7BLwHRQ','number','destroy','ERR_NO_CONTACT_FOUND','companyId','312470WYnJAx','search','all','Não\x20é\x20possível\x20alterar\x20registros\x20de\x20outra\x20empresa','email','extraInfo','../../errors/AppError','406830eWbpjO','106496VtWSKe','445388DSDLbr','237600qkQpzT','toString','2741616fGitxg','(((.+)+)+)+$','findOne','upsert','name','../../models/ContactCustomField','default','1906614WTBjjF'];a422_0x5f51=function(){return _0x1f390c;};return a422_0x5f51();}