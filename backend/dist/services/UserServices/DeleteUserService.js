const a534_0x1cf840=a534_0x56b8;(function(_0x1ac6c5,_0x714b27){const _0x2c780a=a534_0x56b8,_0x3e0ca8=_0x1ac6c5();while(!![]){try{const _0x29b417=parseInt(_0x2c780a(0x14f))/0x1+-parseInt(_0x2c780a(0x15f))/0x2+-parseInt(_0x2c780a(0x159))/0x3*(parseInt(_0x2c780a(0x15a))/0x4)+parseInt(_0x2c780a(0x149))/0x5*(parseInt(_0x2c780a(0x15d))/0x6)+parseInt(_0x2c780a(0x157))/0x7+-parseInt(_0x2c780a(0x154))/0x8*(-parseInt(_0x2c780a(0x161))/0x9)+-parseInt(_0x2c780a(0x148))/0xa*(parseInt(_0x2c780a(0x158))/0xb);if(_0x29b417===_0x714b27)break;else _0x3e0ca8['push'](_0x3e0ca8['shift']());}catch(_0x220e71){_0x3e0ca8['push'](_0x3e0ca8['shift']());}}}(a534_0xa1b6,0xcbf42));const a534_0x89ee95=(function(){let _0x29e943=!![];return function(_0x376a8d,_0x42573a){const _0x1dae52=_0x29e943?function(){const _0x262820=a534_0x56b8;if(_0x42573a){const _0x1c03aa=_0x42573a[_0x262820(0x14e)](_0x376a8d,arguments);return _0x42573a=null,_0x1c03aa;}}:function(){};return _0x29e943=![],_0x1dae52;};}()),a534_0x3ebafe=a534_0x89ee95(this,function(){const _0x2fe730=a534_0x56b8;return a534_0x3ebafe[_0x2fe730(0x15c)]()['search'](_0x2fe730(0x15b))[_0x2fe730(0x15c)]()[_0x2fe730(0x14b)](a534_0x3ebafe)[_0x2fe730(0x160)]('(((.+)+)+)+$');});a534_0x3ebafe();'use strict';var __importDefault=this&&this[a534_0x1cf840(0x14a)]||function(_0x4d073b){const _0x54d629=a534_0x1cf840;return _0x4d073b&&_0x4d073b[_0x54d629(0x156)]?_0x4d073b:{'default':_0x4d073b};};Object[a534_0x1cf840(0x163)](exports,'__esModule',{'value':!![]});const User_1=__importDefault(require(a534_0x1cf840(0x164))),AppError_1=__importDefault(require('../../errors/AppError')),UpdateDeletedUserOpenTicketsStatus_1=__importDefault(require(a534_0x1cf840(0x14c))),DeleteUserService=async(_0x4aabf1,_0xef189)=>{const _0x3675a2=a534_0x1cf840,_0xf319ed=await User_1[_0x3675a2(0x152)][_0x3675a2(0x162)]({'where':{'id':_0x4aabf1}});if(!_0xf319ed)throw new AppError_1[(_0x3675a2(0x152))]('ERR_NO_USER_FOUND',0x194);const _0x5d5330=await User_1[_0x3675a2(0x152)]['findByPk'](_0xef189);if(!_0x5d5330)throw new AppError_1[(_0x3675a2(0x152))](_0x3675a2(0x147),0x194);if(!_0x5d5330[_0x3675a2(0x151)]&&_0xf319ed['companyId']!==_0x5d5330[_0x3675a2(0x14d)])throw new AppError_1[(_0x3675a2(0x152))]('ERR_FORBIDDEN',0x193);if(_0xf319ed[_0x3675a2(0x151)])throw new AppError_1[(_0x3675a2(0x152))](_0x3675a2(0x153),0x193);const _0x593237=await _0xf319ed[_0x3675a2(0x155)]('tickets',{'where':{'status':'open'}});_0x593237[_0x3675a2(0x150)]>0x0&&await(0x0,UpdateDeletedUserOpenTicketsStatus_1[_0x3675a2(0x152)])(_0x593237,_0xf319ed[_0x3675a2(0x14d)]),await _0xf319ed[_0x3675a2(0x15e)]();};function a534_0x56b8(_0x3da7cb,_0x38be72){const _0x31fad1=a534_0xa1b6();return a534_0x56b8=function(_0x3ebafe,_0x89ee95){_0x3ebafe=_0x3ebafe-0x147;let _0xa1b628=_0x31fad1[_0x3ebafe];return _0xa1b628;},a534_0x56b8(_0x3da7cb,_0x38be72);}function a534_0xa1b6(){const _0xd3e53=['184tWadpl','(((.+)+)+)+$','toString','1348440QNzZpP','destroy','2248244MVnEXi','search','8426727RCxxkk','findOne','defineProperty','../../models/User','ERR_NO_USER_FOUND','10riYhLK','5CBXKnM','__importDefault','constructor','../../helpers/UpdateDeletedUserOpenTicketsStatus','companyId','apply','1304437ERIvoi','length','super','default','ERR_NO_USER_DELETE','8txJUxP','$get','__esModule','2257094BBRvOr','5131258BHlPjK','23604DbvCgC'];a534_0xa1b6=function(){return _0xd3e53;};return a534_0xa1b6();}exports[a534_0x1cf840(0x152)]=DeleteUserService;