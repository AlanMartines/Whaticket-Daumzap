const a535_0x22895c=a535_0x3f00;(function(_0x5b714b,_0x40cc3c){const _0x6b0b8d=a535_0x3f00,_0x89ef2f=_0x5b714b();while(!![]){try{const _0x308e36=parseInt(_0x6b0b8d(0xeb))/0x1+parseInt(_0x6b0b8d(0xe3))/0x2*(parseInt(_0x6b0b8d(0xf5))/0x3)+parseInt(_0x6b0b8d(0xfe))/0x4*(parseInt(_0x6b0b8d(0xfa))/0x5)+-parseInt(_0x6b0b8d(0xff))/0x6*(parseInt(_0x6b0b8d(0xf2))/0x7)+-parseInt(_0x6b0b8d(0xe8))/0x8+parseInt(_0x6b0b8d(0xef))/0x9+parseInt(_0x6b0b8d(0xea))/0xa;if(_0x308e36===_0x40cc3c)break;else _0x89ef2f['push'](_0x89ef2f['shift']());}catch(_0x35f145){_0x89ef2f['push'](_0x89ef2f['shift']());}}}(a535_0x79a4,0x76570));const a535_0xc08441=(function(){let _0x2a994d=!![];return function(_0x56c0c9,_0x42b0dc){const _0x2e0636=_0x2a994d?function(){const _0x1a17c3=a535_0x3f00;if(_0x42b0dc){const _0x4bcfc6=_0x42b0dc[_0x1a17c3(0xee)](_0x56c0c9,arguments);return _0x42b0dc=null,_0x4bcfc6;}}:function(){};return _0x2a994d=![],_0x2e0636;};}()),a535_0x5b9931=a535_0xc08441(this,function(){const _0x9ec540=a535_0x3f00;return a535_0x5b9931['toString']()['search'](_0x9ec540(0xf9))[_0x9ec540(0xf3)]()[_0x9ec540(0xed)](a535_0x5b9931)['search'](_0x9ec540(0xf9));});a535_0x5b9931();'use strict';function a535_0x79a4(){const _0x3a7081=['iLike','__esModule','createdAt','companyId','2jGBnCC','default','spy','profile','DESC','2223768cUpAaU','startWork','399250VcSDgW','270838DBIZlT','__importDefault','constructor','apply','5249781HJsSRp','name','email','2356571NqUIwB','toString','length','105402qsIvrh','color','findAndCountAll','allTicket','(((.+)+)+)+$','10lenhPi','defaultMenu','endWork','../../models/Queue','340276aVUhsT','6gRGzLW','online','../../models/Company','toLowerCase'];a535_0x79a4=function(){return _0x3a7081;};return a535_0x79a4();}var __importDefault=this&&this[a535_0x22895c(0xec)]||function(_0xb33e26){const _0x302886=a535_0x22895c;return _0xb33e26&&_0xb33e26[_0x302886(0xe0)]?_0xb33e26:{'default':_0xb33e26};};function a535_0x3f00(_0x1b19f3,_0x1cf3cd){const _0x26cba5=a535_0x79a4();return a535_0x3f00=function(_0x5b9931,_0xc08441){_0x5b9931=_0x5b9931-0xdc;let _0x79a4eb=_0x26cba5[_0x5b9931];return _0x79a4eb;},a535_0x3f00(_0x1b19f3,_0x1cf3cd);}Object['defineProperty'](exports,a535_0x22895c(0xe0),{'value':!![]});const sequelize_1=require('sequelize'),Queue_1=__importDefault(require(a535_0x22895c(0xfd))),Company_1=__importDefault(require(a535_0x22895c(0xdd))),User_1=__importDefault(require('../../models/User')),ListUsersService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x5aeea6})=>{const _0x348e43=a535_0x22895c,_0x4d9fb4={'companyId':{[sequelize_1['Op']['eq']]:_0x5aeea6}};searchParam&&(_0x4d9fb4[sequelize_1['Op']['or']]=[{'name':{[sequelize_1['Op'][_0x348e43(0xdf)]]:'%'+searchParam[_0x348e43(0xde)]()+'%'}},{'email':{[sequelize_1['Op'][_0x348e43(0xdf)]]:'%'+searchParam['toLowerCase']()+'%'}}]);const _0x433768=0x14,_0x3a123f=_0x433768*(Number(pageNumber)-0x1),{count:_0x54d58f,rows:_0x5f26b2}=await User_1[_0x348e43(0xe4)][_0x348e43(0xf7)]({'where':_0x4d9fb4,'attributes':['name','id',_0x348e43(0xf1),_0x348e43(0xe2),_0x348e43(0xe6),_0x348e43(0xf8),'isTricked',_0x348e43(0xe5),_0x348e43(0xe1),'online',_0x348e43(0xe9),_0x348e43(0xfc),_0x348e43(0xfb)],'limit':_0x433768,'offset':_0x3a123f,'order':[['createdAt',_0x348e43(0xe7)]],'include':[{'model':Queue_1['default'],'as':'queues','attributes':['id','name',_0x348e43(0xf6)]},{'model':Company_1[_0x348e43(0xe4)],'as':'company','attributes':['id',_0x348e43(0xf0)]}]}),_0x48cbca=_0x5f26b2['filter'](_0x4a4aec=>_0x4a4aec[_0x348e43(0xdc)])[_0x348e43(0xf4)],_0x337c5e=_0x5f26b2[_0x348e43(0xf4)]-_0x48cbca,_0x38331f=_0x54d58f>_0x3a123f+_0x5f26b2['length'];return{'users':_0x5f26b2,'onlineCount':_0x48cbca,'offlineCount':_0x337c5e,'count':_0x54d58f,'hasMore':_0x38331f};};exports[a535_0x22895c(0xe4)]=ListUsersService;