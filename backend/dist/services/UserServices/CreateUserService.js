const a533_0x199d19=a533_0x2c0c;(function(_0x506fd3,_0x438600){const _0x50e31=a533_0x2c0c,_0x50558a=_0x506fd3();while(!![]){try{const _0x23895f=-parseInt(_0x50e31(0x172))/0x1*(parseInt(_0x50e31(0x150))/0x2)+parseInt(_0x50e31(0x142))/0x3*(parseInt(_0x50e31(0x148))/0x4)+parseInt(_0x50e31(0x178))/0x5+parseInt(_0x50e31(0x173))/0x6+parseInt(_0x50e31(0x171))/0x7*(parseInt(_0x50e31(0x153))/0x8)+parseInt(_0x50e31(0x176))/0x9+-parseInt(_0x50e31(0x140))/0xa*(parseInt(_0x50e31(0x15a))/0xb);if(_0x23895f===_0x438600)break;else _0x50558a['push'](_0x50558a['shift']());}catch(_0x583ad7){_0x50558a['push'](_0x50558a['shift']());}}}(a533_0x3e94,0xee978));const a533_0x47bca8=(function(){let _0x59b70a=!![];return function(_0x4ce0c0,_0x34bb41){const _0x473796=_0x59b70a?function(){const _0x1b3b3b=a533_0x2c0c;if(_0x34bb41){const _0x422f04=_0x34bb41[_0x1b3b3b(0x177)](_0x4ce0c0,arguments);return _0x34bb41=null,_0x422f04;}}:function(){};return _0x59b70a=![],_0x473796;};}()),a533_0x333e09=a533_0x47bca8(this,function(){const _0x42b098=a533_0x2c0c;return a533_0x333e09['toString']()[_0x42b098(0x162)](_0x42b098(0x16c))[_0x42b098(0x175)]()[_0x42b098(0x149)](a533_0x333e09)[_0x42b098(0x162)](_0x42b098(0x16c));});function a533_0x3e94(){const _0xab789f=['apply','774730NGhMWZ','../../models/Company','930530RQtpBp','../../models/User','69zPbJCZ','__setModuleDefault','default','admin','hasOwnProperty','test','115272cQmaQS','constructor','findOne','Número\x20máximo\x20de\x20usuários\x20já\x20alcançado:\x20','queues','writable','__esModule','defineProperty','2aoyAjp','../../errors/AppError','shape','21328WllFJD','reload','count','boolean','get','min','An\x20user\x20with\x20this\x20email\x20already\x20exists.','231mfVLPr','Company\x20not\x20found','yup','Check-email','configurable','length','__importStar','../../models/Plan','search','$set','string','__createBinding','validate','message','create','../../helpers/SerializeUser','__importDefault','plan','(((.+)+)+)+$','getOwnPropertyDescriptor','required','email','call','1225XEKjax','1538063ELVYyK','7735350OCrtaX','object','toString','17063217wtslvE'];a533_0x3e94=function(){return _0xab789f;};return a533_0x3e94();}a533_0x333e09();'use strict';function a533_0x2c0c(_0x1e7eff,_0x5c5d18){const _0x288359=a533_0x3e94();return a533_0x2c0c=function(_0x333e09,_0x47bca8){_0x333e09=_0x333e09-0x140;let _0x3e9454=_0x288359[_0x333e09];return _0x3e9454;},a533_0x2c0c(_0x1e7eff,_0x5c5d18);}var __createBinding=this&&this[a533_0x199d19(0x165)]||(Object[a533_0x199d19(0x168)]?function(_0x5acab2,_0x5e76cf,_0x2855fd,_0x4ffc16){const _0x396e39=a533_0x199d19;if(_0x4ffc16===undefined)_0x4ffc16=_0x2855fd;var _0x5189c9=Object[_0x396e39(0x16d)](_0x5e76cf,_0x2855fd);(!_0x5189c9||(_0x396e39(0x157)in _0x5189c9?!_0x5e76cf[_0x396e39(0x14e)]:_0x5189c9[_0x396e39(0x14d)]||_0x5189c9[_0x396e39(0x15e)]))&&(_0x5189c9={'enumerable':!![],'get':function(){return _0x5e76cf[_0x2855fd];}}),Object[_0x396e39(0x14f)](_0x5acab2,_0x4ffc16,_0x5189c9);}:function(_0xcefaa2,_0x2cba3b,_0x3671c6,_0x1bac21){if(_0x1bac21===undefined)_0x1bac21=_0x3671c6;_0xcefaa2[_0x1bac21]=_0x2cba3b[_0x3671c6];}),__setModuleDefault=this&&this[a533_0x199d19(0x143)]||(Object['create']?function(_0x37e9e1,_0x3752cb){const _0x52949f=a533_0x199d19;Object[_0x52949f(0x14f)](_0x37e9e1,'default',{'enumerable':!![],'value':_0x3752cb});}:function(_0x34c2f8,_0x2b7abd){_0x34c2f8['default']=_0x2b7abd;}),__importStar=this&&this[a533_0x199d19(0x160)]||function(_0x5eb780){const _0x3ab3e4=a533_0x199d19;if(_0x5eb780&&_0x5eb780[_0x3ab3e4(0x14e)])return _0x5eb780;var _0x5d3275={};if(_0x5eb780!=null){for(var _0x4a19ed in _0x5eb780)if(_0x4a19ed!==_0x3ab3e4(0x144)&&Object['prototype'][_0x3ab3e4(0x146)][_0x3ab3e4(0x170)](_0x5eb780,_0x4a19ed))__createBinding(_0x5d3275,_0x5eb780,_0x4a19ed);}return __setModuleDefault(_0x5d3275,_0x5eb780),_0x5d3275;},__importDefault=this&&this[a533_0x199d19(0x16a)]||function(_0x21816f){const _0x406fe2=a533_0x199d19;return _0x21816f&&_0x21816f[_0x406fe2(0x14e)]?_0x21816f:{'default':_0x21816f};};Object[a533_0x199d19(0x14f)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a533_0x199d19(0x15c))),AppError_1=__importDefault(require(a533_0x199d19(0x151))),SerializeUser_1=require(a533_0x199d19(0x169)),User_1=__importDefault(require(a533_0x199d19(0x141))),Plan_1=__importDefault(require(a533_0x199d19(0x161))),Company_1=__importDefault(require(a533_0x199d19(0x179))),CreateUserService=async({email:_0x4fcf2e,password:_0xa92df4,name:_0x469c29,queueIds:queueIds=[],companyId:_0x46a34a,profile:profile=a533_0x199d19(0x145),allTicket:_0x1b763a,spy:_0x5991c1,whatsappId:_0x20863f,startWork:_0x1d94ec,endWork:_0x4ffb2f,isTricked:_0xc807ab,super:_0xae8447,defaultMenu:_0x1a7965})=>{const _0x112595=a533_0x199d19;if(_0x46a34a!==undefined){const _0x5e9bfe=await Company_1[_0x112595(0x144)][_0x112595(0x14a)]({'where':{'id':_0x46a34a},'include':[{'model':Plan_1[_0x112595(0x144)],'as':_0x112595(0x16b)}]});if(_0x5e9bfe){const _0x2378b4=await User_1['default'][_0x112595(0x155)]({'where':{'companyId':_0x46a34a}});if(_0x2378b4>=_0x5e9bfe[_0x112595(0x16b)]['users'])throw new AppError_1['default'](_0x112595(0x14b)+_0x2378b4,0x190);}else throw new AppError_1['default'](_0x112595(0x15b),0x194);}const _0x1725ca=Yup[_0x112595(0x174)]()[_0x112595(0x152)]({'name':Yup[_0x112595(0x164)]()[_0x112595(0x16e)]()[_0x112595(0x158)](0x2),'email':Yup[_0x112595(0x164)]()[_0x112595(0x16f)]()[_0x112595(0x16e)]()[_0x112595(0x147)](_0x112595(0x15d),_0x112595(0x159),async _0x75a1=>{const _0x237ca3=_0x112595;if(!_0x75a1)return![];const _0x2f4ec3=await User_1[_0x237ca3(0x144)]['findOne']({'where':{'email':_0x75a1}});return!_0x2f4ec3;}),'password':Yup[_0x112595(0x164)]()[_0x112595(0x16e)]()[_0x112595(0x158)](0x5),'super':Yup[_0x112595(0x156)]()['required']()});try{await _0x1725ca[_0x112595(0x166)]({'email':_0x4fcf2e,'password':_0xa92df4,'name':_0x469c29,'super':_0xae8447});}catch(_0x508124){throw new AppError_1[(_0x112595(0x144))](_0x508124[_0x112595(0x167)],0x190);}const _0x446908=await User_1['default'][_0x112595(0x168)]({'email':_0x4fcf2e,'password':_0xa92df4,'name':_0x469c29,'companyId':_0x46a34a,'profile':profile,'allTicket':_0x1b763a,'whatsappId':_0x20863f||null,'startWork':_0x1d94ec,'endWork':_0x4ffb2f,'spy':_0x5991c1,'isTricked':_0xc807ab,'super':_0xae8447,'defaultMenu':_0x1a7965});queueIds[_0x112595(0x15f)]>0x0&&await _0x446908[_0x112595(0x163)](_0x112595(0x14c),queueIds);await _0x446908[_0x112595(0x154)]();const _0x4c23cb=await(0x0,SerializeUser_1['SerializeUser'])(_0x446908);return _0x4c23cb;};exports[a533_0x199d19(0x144)]=CreateUserService;