const a538_0x3550b8=a538_0xe4e5;(function(_0x553f3f,_0x427d30){const _0x360668=a538_0xe4e5,_0x4bbe0e=_0x553f3f();while(!![]){try{const _0x1007fd=parseInt(_0x360668(0x19e))/0x1+parseInt(_0x360668(0x197))/0x2*(-parseInt(_0x360668(0x1a2))/0x3)+-parseInt(_0x360668(0x192))/0x4*(parseInt(_0x360668(0x1a6))/0x5)+-parseInt(_0x360668(0x19a))/0x6*(parseInt(_0x360668(0x18e))/0x7)+parseInt(_0x360668(0x1a5))/0x8*(parseInt(_0x360668(0x1b4))/0x9)+parseInt(_0x360668(0x1a9))/0xa*(parseInt(_0x360668(0x196))/0xb)+-parseInt(_0x360668(0x1aa))/0xc;if(_0x1007fd===_0x427d30)break;else _0x4bbe0e['push'](_0x4bbe0e['shift']());}catch(_0x5b3913){_0x4bbe0e['push'](_0x4bbe0e['shift']());}}}(a538_0x3bca,0xf01ad));function a538_0x3bca(){const _0x130d56=['745613cgcUqu','2jZtpvO','object','string','17334MGmSJW','__esModule','companyId','__createBinding','1775002XWrMDb','incrementTokenVersion','hasOwnProperty','default','265245NqbEKa','constructor','create','76968gJakVf','2165IzgEAY','reload','min','230GIKwUc','8169288ACjofA','message','(((.+)+)+)+$','defineProperty','findByPk','apply','admin','../../models/Company','../../errors/AppError','email','279TKdSiL','__importStar','queues','boolean','update','save','configurable','super','writable','2884VzaBpQ','validate','get','../../models/User','6368SwokLH','__setModuleDefault','yup','profile'];a538_0x3bca=function(){return _0x130d56;};return a538_0x3bca();}const a538_0x2bc88e=(function(){let _0x1ba434=!![];return function(_0x538290,_0x312950){const _0x2a02fa=_0x1ba434?function(){const _0x4749fd=a538_0xe4e5;if(_0x312950){const _0x484a82=_0x312950[_0x4749fd(0x1af)](_0x538290,arguments);return _0x312950=null,_0x484a82;}}:function(){};return _0x1ba434=![],_0x2a02fa;};}()),a538_0x5d1ed2=a538_0x2bc88e(this,function(){const _0x5d8f6a=a538_0xe4e5;return a538_0x5d1ed2['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x5d8f6a(0x1a3)](a538_0x5d1ed2)['search'](_0x5d8f6a(0x1ac));});function a538_0xe4e5(_0x1fe81d,_0x4d2884){const _0x544f01=a538_0x3bca();return a538_0xe4e5=function(_0x5d1ed2,_0x2bc88e){_0x5d1ed2=_0x5d1ed2-0x18e;let _0x3bca17=_0x544f01[_0x5d1ed2];return _0x3bca17;},a538_0xe4e5(_0x1fe81d,_0x4d2884);}a538_0x5d1ed2();'use strict';var __createBinding=this&&this[a538_0x3550b8(0x19d)]||(Object['create']?function(_0x2441a2,_0x59bfb0,_0x4d4ebc,_0x490eba){const _0x40c1c8=a538_0x3550b8;if(_0x490eba===undefined)_0x490eba=_0x4d4ebc;var _0x1024a8=Object['getOwnPropertyDescriptor'](_0x59bfb0,_0x4d4ebc);(!_0x1024a8||(_0x40c1c8(0x190)in _0x1024a8?!_0x59bfb0[_0x40c1c8(0x19b)]:_0x1024a8[_0x40c1c8(0x1bc)]||_0x1024a8[_0x40c1c8(0x1ba)]))&&(_0x1024a8={'enumerable':!![],'get':function(){return _0x59bfb0[_0x4d4ebc];}}),Object[_0x40c1c8(0x1ad)](_0x2441a2,_0x490eba,_0x1024a8);}:function(_0x1cfdfd,_0x31c738,_0x3e8be5,_0x18c07e){if(_0x18c07e===undefined)_0x18c07e=_0x3e8be5;_0x1cfdfd[_0x18c07e]=_0x31c738[_0x3e8be5];}),__setModuleDefault=this&&this[a538_0x3550b8(0x193)]||(Object[a538_0x3550b8(0x1a4)]?function(_0x2006bb,_0x255983){const _0x412736=a538_0x3550b8;Object[_0x412736(0x1ad)](_0x2006bb,_0x412736(0x1a1),{'enumerable':!![],'value':_0x255983});}:function(_0x347a0c,_0xed3176){const _0x248e7d=a538_0x3550b8;_0x347a0c[_0x248e7d(0x1a1)]=_0xed3176;}),__importStar=this&&this[a538_0x3550b8(0x1b5)]||function(_0x12c1e1){const _0x40f5fd=a538_0x3550b8;if(_0x12c1e1&&_0x12c1e1[_0x40f5fd(0x19b)])return _0x12c1e1;var _0x5e1b71={};if(_0x12c1e1!=null){for(var _0x49b53d in _0x12c1e1)if(_0x49b53d!=='default'&&Object['prototype'][_0x40f5fd(0x1a0)]['call'](_0x12c1e1,_0x49b53d))__createBinding(_0x5e1b71,_0x12c1e1,_0x49b53d);}return __setModuleDefault(_0x5e1b71,_0x12c1e1),_0x5e1b71;},__importDefault=this&&this['__importDefault']||function(_0x197544){const _0x131559=a538_0x3550b8;return _0x197544&&_0x197544[_0x131559(0x19b)]?_0x197544:{'default':_0x197544};};Object[a538_0x3550b8(0x1ad)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(a538_0x3550b8(0x194))),AppError_1=__importDefault(require(a538_0x3550b8(0x1b2))),ShowUserService_1=__importDefault(require('./ShowUserService')),Company_1=__importDefault(require(a538_0x3550b8(0x1b1))),User_1=__importDefault(require(a538_0x3550b8(0x191))),UpdateUserService=async({userData:_0x39a16c,userId:_0xb0878a,requestUserId:_0x37d8dc})=>{const _0x15112f=a538_0x3550b8,_0x5d6cb9=await(0x0,ShowUserService_1['default'])(_0xb0878a,_0x37d8dc),_0x28d324=await User_1['default'][_0x15112f(0x1ae)](_0x37d8dc);if(_0x28d324[_0x15112f(0x1bb)]===![]&&_0x39a16c[_0x15112f(0x19c)]!==_0x28d324['companyId']||_0x28d324[_0x15112f(0x195)]!==_0x15112f(0x1b0)&&+_0xb0878a!==_0x28d324['id'])throw new AppError_1[(_0x15112f(0x1a1))]('ERR_FORBIDDEN',0x193);const _0x248e69=Yup[_0x15112f(0x198)]()['shape']({'name':Yup[_0x15112f(0x199)]()[_0x15112f(0x1a8)](0x2),'email':Yup['string']()[_0x15112f(0x1b3)](),'profile':Yup['string'](),'password':Yup[_0x15112f(0x199)](),'super':Yup[_0x15112f(0x1b7)]()}),{email:_0x3064fe,password:_0x1f01d7,profile:_0x29f794,name:_0x4864c2,queueIds:queueIds=[],allTicket:_0x41632c,whatsappId:_0x420806,startWork:_0x4d29c0,endWork:_0x3232be,spy:_0x4582cc,isTricked:_0x598ffc,super:_0x586601,defaultMenu:_0x48584b}=_0x39a16c;try{await _0x248e69[_0x15112f(0x18f)]({'email':_0x3064fe,'password':_0x1f01d7,'profile':_0x29f794,'name':_0x4864c2,'super':_0x586601});}catch(_0x361bc9){throw new AppError_1[(_0x15112f(0x1a1))](_0x361bc9[_0x15112f(0x1ab)]);}await _0x5d6cb9[_0x15112f(0x1b8)]({'email':_0x3064fe,'password':_0x1f01d7,'profile':_0x29f794,'name':_0x4864c2,'allTicket':_0x41632c,'whatsappId':_0x420806||null,'startWork':_0x4d29c0,'endWork':_0x3232be,'spy':_0x4582cc,'isTricked':_0x598ffc,'super':_0x586601,'defaultMenu':_0x48584b}),await _0x5d6cb9['$set'](_0x15112f(0x1b6),queueIds),await _0x5d6cb9[_0x15112f(0x19f)](),await _0x5d6cb9[_0x15112f(0x1b9)](),await _0x5d6cb9[_0x15112f(0x1a7)]();const _0x1aba1e=await Company_1[_0x15112f(0x1a1)]['findByPk'](_0x5d6cb9[_0x15112f(0x19c)]),_0x364065={'id':_0x5d6cb9['id'],'name':_0x5d6cb9['name'],'email':_0x5d6cb9[_0x15112f(0x1b3)],'profile':_0x5d6cb9['profile'],'companyId':_0x5d6cb9[_0x15112f(0x19c)],'company':_0x1aba1e,'queues':_0x5d6cb9['queues']};return _0x364065;};exports[a538_0x3550b8(0x1a1)]=UpdateUserService;