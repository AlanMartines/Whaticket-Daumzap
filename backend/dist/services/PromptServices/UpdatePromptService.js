var a463_0x2584f7=a463_0x13ab;(function(_0x44689b,_0x17f76b){var _0x191ef7=a463_0x13ab,_0x49e85f=_0x44689b();while(!![]){try{var _0x194163=-parseInt(_0x191ef7(0x112))/0x1+-parseInt(_0x191ef7(0x128))/0x2*(parseInt(_0x191ef7(0x127))/0x3)+-parseInt(_0x191ef7(0x121))/0x4+parseInt(_0x191ef7(0x122))/0x5*(parseInt(_0x191ef7(0x118))/0x6)+-parseInt(_0x191ef7(0x11d))/0x7+-parseInt(_0x191ef7(0x130))/0x8*(parseInt(_0x191ef7(0x120))/0x9)+parseInt(_0x191ef7(0x114))/0xa*(parseInt(_0x191ef7(0x111))/0xb);if(_0x194163===_0x17f76b)break;else _0x49e85f['push'](_0x49e85f['shift']());}catch(_0x4f10dd){_0x49e85f['push'](_0x49e85f['shift']());}}}(a463_0x47b5,0x8181c));var a463_0x3e72d7=(function(){var _0x3ff156=!![];return function(_0x46090f,_0x36f5ac){var _0x22b4a8=_0x3ff156?function(){var _0x18bab0=a463_0x13ab;if(_0x36f5ac){var _0xfab747=_0x36f5ac[_0x18bab0(0x12f)](_0x46090f,arguments);return _0x36f5ac=null,_0xfab747;}}:function(){};return _0x3ff156=![],_0x22b4a8;};}()),a463_0x42d532=a463_0x3e72d7(this,function(){var _0x161476=a463_0x13ab;return a463_0x42d532[_0x161476(0x123)]()['search']('(((.+)+)+)+$')[_0x161476(0x123)]()[_0x161476(0x113)](a463_0x42d532)['search'](_0x161476(0x11a));});function a463_0x13ab(_0x5ce57b,_0x1e5ed4){var _0xdf657b=a463_0x47b5();return a463_0x13ab=function(_0x42d532,_0x3e72d7){_0x42d532=_0x42d532-0x110;var _0x47b511=_0xdf657b[_0x42d532];return _0x47b511;},a463_0x13ab(_0x5ce57b,_0x1e5ed4);}a463_0x42d532();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x335e4d,_0xcd58eb,_0x3cc5d2,_0x3e5b8f){var _0x239039=a463_0x13ab;if(_0x3e5b8f===undefined)_0x3e5b8f=_0x3cc5d2;var _0x24b355=Object['getOwnPropertyDescriptor'](_0xcd58eb,_0x3cc5d2);(!_0x24b355||(_0x239039(0x119)in _0x24b355?!_0xcd58eb[_0x239039(0x131)]:_0x24b355['writable']||_0x24b355['configurable']))&&(_0x24b355={'enumerable':!![],'get':function(){return _0xcd58eb[_0x3cc5d2];}}),Object[_0x239039(0x129)](_0x335e4d,_0x3e5b8f,_0x24b355);}:function(_0x3977b9,_0x20182e,_0x494f45,_0x1042e0){if(_0x1042e0===undefined)_0x1042e0=_0x494f45;_0x3977b9[_0x1042e0]=_0x20182e[_0x494f45];}),__setModuleDefault=this&&this[a463_0x2584f7(0x124)]||(Object[a463_0x2584f7(0x11e)]?function(_0x4457dd,_0x315939){var _0x1eced7=a463_0x2584f7;Object[_0x1eced7(0x129)](_0x4457dd,_0x1eced7(0x12e),{'enumerable':!![],'value':_0x315939});}:function(_0x3f7392,_0xc19f6f){var _0x37dad1=a463_0x2584f7;_0x3f7392[_0x37dad1(0x12e)]=_0xc19f6f;}),__importStar=this&&this[a463_0x2584f7(0x12b)]||function(_0xe64e6f){var _0x1cfc40=a463_0x2584f7;if(_0xe64e6f&&_0xe64e6f[_0x1cfc40(0x131)])return _0xe64e6f;var _0x35b91a={};if(_0xe64e6f!=null){for(var _0x3a6a52 in _0xe64e6f)if(_0x3a6a52!==_0x1cfc40(0x12e)&&Object['prototype']['hasOwnProperty'][_0x1cfc40(0x11c)](_0xe64e6f,_0x3a6a52))__createBinding(_0x35b91a,_0xe64e6f,_0x3a6a52);}return __setModuleDefault(_0x35b91a,_0xe64e6f),_0x35b91a;},__importDefault=this&&this['__importDefault']||function(_0x468008){var _0x2942d6=a463_0x2584f7;return _0x468008&&_0x468008[_0x2942d6(0x131)]?_0x468008:{'default':_0x468008};};Object['defineProperty'](exports,a463_0x2584f7(0x131),{'value':!![]});function a463_0x47b5(){var _0x3ab190=['ERR_PROMPT_APIKEY_INVALID','__importStar','reload','stringify','default','apply','212152EIzCbR','__esModule','object','string','11bZCWkK','393507gehZgs','constructor','20070350veerqJ','ERR_PROMPT_PROMPT_INVALID','update','shape','11346skHLrt','get','(((.+)+)+)+$','ERR_PROMPT_MAX_MESSAGES_INVALID','call','2247259bulZVo','create','ERR_PROMPT_QUEUEID_INVALID','18arNwPy','1303616hoyvoe','160Alkcyx','toString','__setModuleDefault','number','required','621oHdWkb','4286qoDfrQ','defineProperty'];a463_0x47b5=function(){return _0x3ab190;};return a463_0x47b5();}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),ShowPromptService_1=__importDefault(require('./ShowPromptService')),UpdatePromptService=async({promptId:_0x5b2a65,promptData:_0x534b23,companyId:_0x1e4679})=>{var _0x4811ce=a463_0x2584f7;const _0x3f85df=await(0x0,ShowPromptService_1[_0x4811ce(0x12e)])({'promptId':_0x5b2a65,'companyId':_0x1e4679}),_0xeae76d=Yup[_0x4811ce(0x132)]()[_0x4811ce(0x117)]({'name':Yup['string']()[_0x4811ce(0x126)]('ERR_PROMPT_NAME_INVALID'),'prompt':Yup[_0x4811ce(0x110)]()[_0x4811ce(0x126)](_0x4811ce(0x115)),'apiKey':Yup[_0x4811ce(0x110)]()[_0x4811ce(0x126)](_0x4811ce(0x12a)),'queueId':Yup[_0x4811ce(0x125)]()[_0x4811ce(0x126)](_0x4811ce(0x11f)),'maxMessages':Yup[_0x4811ce(0x125)]()[_0x4811ce(0x126)](_0x4811ce(0x11b))}),{name:_0x7926ba,apiKey:_0x558aa5,prompt:_0x368968,maxTokens:_0x9e1996,temperature:_0x2aab24,promptTokens:_0x2daf73,completionTokens:_0x1d3910,totalTokens:_0x3c1248,queueId:_0x15ed33,maxMessages:_0x518dae,voice:_0x235c20,voiceKey:_0x5bf19a,voiceRegion:_0x2c175b}=_0x534b23;try{await _0xeae76d['validate']({'name':_0x7926ba,'apiKey':_0x558aa5,'prompt':_0x368968,'maxTokens':_0x9e1996,'temperature':_0x2aab24,'promptTokens':_0x2daf73,'completionTokens':_0x1d3910,'totalTokens':_0x3c1248,'queueId':_0x15ed33,'maxMessages':_0x518dae});}catch(_0x5ae061){throw new AppError_1[(_0x4811ce(0x12e))](''+JSON[_0x4811ce(0x12d)](_0x5ae061,undefined,0x2));}return await _0x3f85df[_0x4811ce(0x116)]({'name':_0x7926ba,'apiKey':_0x558aa5,'prompt':_0x368968,'maxTokens':_0x9e1996,'temperature':_0x2aab24,'promptTokens':_0x2daf73,'completionTokens':_0x1d3910,'totalTokens':_0x3c1248,'queueId':_0x15ed33,'maxMessages':_0x518dae,'voice':_0x235c20,'voiceKey':_0x5bf19a,'voiceRegion':_0x2c175b}),await _0x3f85df[_0x4811ce(0x12c)](),_0x3f85df;};exports[a463_0x2584f7(0x12e)]=UpdatePromptService;