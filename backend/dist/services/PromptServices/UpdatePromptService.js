var a463_0x1b099b=a463_0xc9e4;function a463_0x2930(){var _0xb51d73=['148932yDFqpU','getOwnPropertyDescriptor','(((.+)+)+)+$','6975513mKBqYx','required','yup','reload','ERR_PROMPT_QUEUEID_INVALID','validate','ERR_PROMPT_MAX_MESSAGES_INVALID','__esModule','defineProperty','constructor','stringify','__createBinding','ERR_PROMPT_APIKEY_INVALID','object','21MvZZcL','ERR_PROMPT_NAME_INVALID','create','apply','get','update','2619695feBMOq','hasOwnProperty','112732wBvWDD','ERR_PROMPT_PROMPT_INVALID','16EloWMC','default','580358xMGYhM','901626poNaWr','3255861nDmDLe','./ShowPromptService','search','string','configurable','__importDefault','number'];a463_0x2930=function(){return _0xb51d73;};return a463_0x2930();}(function(_0x2a8c17,_0x5d4427){var _0x28a85a=a463_0xc9e4,_0x41adcf=_0x2a8c17();while(!![]){try{var _0x809679=parseInt(_0x28a85a(0x14a))/0x1+parseInt(_0x28a85a(0x14b))/0x2+parseInt(_0x28a85a(0x13e))/0x3*(-parseInt(_0x28a85a(0x146))/0x4)+parseInt(_0x28a85a(0x144))/0x5+parseInt(_0x28a85a(0x153))/0x6+parseInt(_0x28a85a(0x14c))/0x7+parseInt(_0x28a85a(0x148))/0x8*(-parseInt(_0x28a85a(0x130))/0x9);if(_0x809679===_0x5d4427)break;else _0x41adcf['push'](_0x41adcf['shift']());}catch(_0x2d22a3){_0x41adcf['push'](_0x41adcf['shift']());}}}(a463_0x2930,0x48abc));var a463_0x3ad67c=(function(){var _0x1564f4=!![];return function(_0xa03eb2,_0x41a58e){var _0x3aeed7=_0x1564f4?function(){var _0x337179=a463_0xc9e4;if(_0x41a58e){var _0x24d833=_0x41a58e[_0x337179(0x141)](_0xa03eb2,arguments);return _0x41a58e=null,_0x24d833;}}:function(){};return _0x1564f4=![],_0x3aeed7;};}()),a463_0x362dba=a463_0x3ad67c(this,function(){var _0x40e8d2=a463_0xc9e4;return a463_0x362dba['toString']()[_0x40e8d2(0x14e)]('(((.+)+)+)+$')['toString']()[_0x40e8d2(0x139)](a463_0x362dba)[_0x40e8d2(0x14e)](_0x40e8d2(0x155));});a463_0x362dba();'use strict';var __createBinding=this&&this[a463_0x1b099b(0x13b)]||(Object['create']?function(_0x480289,_0x46109e,_0x234c74,_0x6c3561){var _0xd19963=a463_0x1b099b;if(_0x6c3561===undefined)_0x6c3561=_0x234c74;var _0x1d7297=Object[_0xd19963(0x154)](_0x46109e,_0x234c74);(!_0x1d7297||(_0xd19963(0x142)in _0x1d7297?!_0x46109e[_0xd19963(0x137)]:_0x1d7297['writable']||_0x1d7297[_0xd19963(0x150)]))&&(_0x1d7297={'enumerable':!![],'get':function(){return _0x46109e[_0x234c74];}}),Object['defineProperty'](_0x480289,_0x6c3561,_0x1d7297);}:function(_0x2f4462,_0xb914cd,_0x5a6b8d,_0xc8e2be){if(_0xc8e2be===undefined)_0xc8e2be=_0x5a6b8d;_0x2f4462[_0xc8e2be]=_0xb914cd[_0x5a6b8d];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a463_0x1b099b(0x140)]?function(_0x4aaa3b,_0xb6b20b){var _0x3115de=a463_0x1b099b;Object[_0x3115de(0x138)](_0x4aaa3b,_0x3115de(0x149),{'enumerable':!![],'value':_0xb6b20b});}:function(_0x3eefaa,_0x3d279a){var _0x5837d2=a463_0x1b099b;_0x3eefaa[_0x5837d2(0x149)]=_0x3d279a;}),__importStar=this&&this['__importStar']||function(_0x86b630){var _0x240654=a463_0x1b099b;if(_0x86b630&&_0x86b630[_0x240654(0x137)])return _0x86b630;var _0x1921bc={};if(_0x86b630!=null){for(var _0x45a75e in _0x86b630)if(_0x45a75e!=='default'&&Object['prototype'][_0x240654(0x145)]['call'](_0x86b630,_0x45a75e))__createBinding(_0x1921bc,_0x86b630,_0x45a75e);}return __setModuleDefault(_0x1921bc,_0x86b630),_0x1921bc;},__importDefault=this&&this[a463_0x1b099b(0x151)]||function(_0x3ddc10){var _0x32cd30=a463_0x1b099b;return _0x3ddc10&&_0x3ddc10[_0x32cd30(0x137)]?_0x3ddc10:{'default':_0x3ddc10};};Object[a463_0x1b099b(0x138)](exports,a463_0x1b099b(0x137),{'value':!![]});function a463_0xc9e4(_0xb8f69d,_0x125371){var _0x3bad73=a463_0x2930();return a463_0xc9e4=function(_0x362dba,_0x3ad67c){_0x362dba=_0x362dba-0x130;var _0x2930a5=_0x3bad73[_0x362dba];return _0x2930a5;},a463_0xc9e4(_0xb8f69d,_0x125371);}const Yup=__importStar(require(a463_0x1b099b(0x132))),AppError_1=__importDefault(require('../../errors/AppError')),ShowPromptService_1=__importDefault(require(a463_0x1b099b(0x14d))),UpdatePromptService=async({promptId:_0x4bd771,promptData:_0x5d4cbe,companyId:_0x50b8ef})=>{var _0x29d38d=a463_0x1b099b;const _0x19ff4f=await(0x0,ShowPromptService_1[_0x29d38d(0x149)])({'promptId':_0x4bd771,'companyId':_0x50b8ef}),_0x5b881b=Yup[_0x29d38d(0x13d)]()['shape']({'name':Yup['string']()[_0x29d38d(0x131)](_0x29d38d(0x13f)),'prompt':Yup[_0x29d38d(0x14f)]()['required'](_0x29d38d(0x147)),'apiKey':Yup[_0x29d38d(0x14f)]()['required'](_0x29d38d(0x13c)),'queueId':Yup[_0x29d38d(0x152)]()[_0x29d38d(0x131)](_0x29d38d(0x134)),'maxMessages':Yup[_0x29d38d(0x152)]()[_0x29d38d(0x131)](_0x29d38d(0x136))}),{name:_0x5b5c45,apiKey:_0x33246a,prompt:_0x51cde0,maxTokens:_0x4a309d,temperature:_0x1bc6c5,promptTokens:_0x363cba,completionTokens:_0x332262,totalTokens:_0x35c398,queueId:_0x3911ff,maxMessages:_0x5effb2,voice:_0x476b73,voiceKey:_0x2080d7,voiceRegion:_0x2f63e0}=_0x5d4cbe;try{await _0x5b881b[_0x29d38d(0x135)]({'name':_0x5b5c45,'apiKey':_0x33246a,'prompt':_0x51cde0,'maxTokens':_0x4a309d,'temperature':_0x1bc6c5,'promptTokens':_0x363cba,'completionTokens':_0x332262,'totalTokens':_0x35c398,'queueId':_0x3911ff,'maxMessages':_0x5effb2});}catch(_0x17f9bb){throw new AppError_1['default'](''+JSON[_0x29d38d(0x13a)](_0x17f9bb,undefined,0x2));}return await _0x19ff4f[_0x29d38d(0x143)]({'name':_0x5b5c45,'apiKey':_0x33246a,'prompt':_0x51cde0,'maxTokens':_0x4a309d,'temperature':_0x1bc6c5,'promptTokens':_0x363cba,'completionTokens':_0x332262,'totalTokens':_0x35c398,'queueId':_0x3911ff,'maxMessages':_0x5effb2,'voice':_0x476b73,'voiceKey':_0x2080d7,'voiceRegion':_0x2f63e0}),await _0x19ff4f[_0x29d38d(0x133)](),_0x19ff4f;};exports[a463_0x1b099b(0x149)]=UpdatePromptService;