var a459_0x299bda=a459_0xfa6a;function a459_0x1dd0(){var _0x2a90da=['ERR_PROMPT_INTELLIGENCE_INVALID','ERR_PROMPT_MAX_MESSAGES_INVALID','__setModuleDefault','12bYMEkV','default','__importStar','shape','__importDefault','7408089PKPVut','configurable','266YJAEek','defineProperty','5560kMGHif','validate','number','(((.+)+)+)+$','10kmOYiK','185750Veusoo','constructor','44571NDeQBL','3591269jxtOcf','2223342rimPgY','1437276Fmuvxz','search','ERR_PROMPT_QUEUEID_INVALID','88ZIvDlk','toString','string','prototype','get','required','create','object','5ARQzpO','__esModule','call','../../errors/AppError','hasOwnProperty'];a459_0x1dd0=function(){return _0x2a90da;};return a459_0x1dd0();}(function(_0x407217,_0x338ae6){var _0x19ebc1=a459_0xfa6a,_0x51f685=_0x407217();while(!![]){try{var _0xada73=-parseInt(_0x19ebc1(0x139))/0x1+-parseInt(_0x19ebc1(0x11b))/0x2*(parseInt(_0x19ebc1(0x13b))/0x3)+-parseInt(_0x19ebc1(0x118))/0x4*(-parseInt(_0x19ebc1(0x123))/0x5)+parseInt(_0x19ebc1(0x13d))/0x6+-parseInt(_0x19ebc1(0x132))/0x7*(-parseInt(_0x19ebc1(0x134))/0x8)+parseInt(_0x19ebc1(0x130))/0x9*(parseInt(_0x19ebc1(0x138))/0xa)+-parseInt(_0x19ebc1(0x13c))/0xb*(parseInt(_0x19ebc1(0x12b))/0xc);if(_0xada73===_0x338ae6)break;else _0x51f685['push'](_0x51f685['shift']());}catch(_0x16f8f7){_0x51f685['push'](_0x51f685['shift']());}}}(a459_0x1dd0,0x64f1e));var a459_0x207e99=(function(){var _0x5afeb9=!![];return function(_0x1db136,_0x1655c2){var _0x11aad5=_0x5afeb9?function(){if(_0x1655c2){var _0xf35c6=_0x1655c2['apply'](_0x1db136,arguments);return _0x1655c2=null,_0xf35c6;}}:function(){};return _0x5afeb9=![],_0x11aad5;};}()),a459_0x315728=a459_0x207e99(this,function(){var _0x38dc3d=a459_0xfa6a;return a459_0x315728[_0x38dc3d(0x11c)]()[_0x38dc3d(0x119)](_0x38dc3d(0x137))[_0x38dc3d(0x11c)]()[_0x38dc3d(0x13a)](a459_0x315728)[_0x38dc3d(0x119)](_0x38dc3d(0x137));});a459_0x315728();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a459_0x299bda(0x121)]?function(_0x361a23,_0x2b8c78,_0x26da68,_0x34d315){var _0x542631=a459_0x299bda;if(_0x34d315===undefined)_0x34d315=_0x26da68;var _0x1aabf8=Object['getOwnPropertyDescriptor'](_0x2b8c78,_0x26da68);(!_0x1aabf8||(_0x542631(0x11f)in _0x1aabf8?!_0x2b8c78['__esModule']:_0x1aabf8['writable']||_0x1aabf8[_0x542631(0x131)]))&&(_0x1aabf8={'enumerable':!![],'get':function(){return _0x2b8c78[_0x26da68];}}),Object[_0x542631(0x133)](_0x361a23,_0x34d315,_0x1aabf8);}:function(_0x145a6a,_0x15bf90,_0x141902,_0x5bd03b){if(_0x5bd03b===undefined)_0x5bd03b=_0x141902;_0x145a6a[_0x5bd03b]=_0x15bf90[_0x141902];}),__setModuleDefault=this&&this[a459_0x299bda(0x12a)]||(Object[a459_0x299bda(0x121)]?function(_0x29a7c8,_0x370a4b){var _0x2c4806=a459_0x299bda;Object[_0x2c4806(0x133)](_0x29a7c8,_0x2c4806(0x12c),{'enumerable':!![],'value':_0x370a4b});}:function(_0x2c234c,_0x4f1e55){var _0x12bcfc=a459_0x299bda;_0x2c234c[_0x12bcfc(0x12c)]=_0x4f1e55;}),__importStar=this&&this[a459_0x299bda(0x12d)]||function(_0x52579a){var _0x3a80fe=a459_0x299bda;if(_0x52579a&&_0x52579a[_0x3a80fe(0x124)])return _0x52579a;var _0x1e3d39={};if(_0x52579a!=null){for(var _0x17d1b5 in _0x52579a)if(_0x17d1b5!=='default'&&Object[_0x3a80fe(0x11e)][_0x3a80fe(0x127)][_0x3a80fe(0x125)](_0x52579a,_0x17d1b5))__createBinding(_0x1e3d39,_0x52579a,_0x17d1b5);}return __setModuleDefault(_0x1e3d39,_0x52579a),_0x1e3d39;},__importDefault=this&&this[a459_0x299bda(0x12f)]||function(_0x4b61dd){var _0x51723a=a459_0x299bda;return _0x4b61dd&&_0x4b61dd[_0x51723a(0x124)]?_0x4b61dd:{'default':_0x4b61dd};};function a459_0xfa6a(_0x5164de,_0x1521f9){var _0x4998eb=a459_0x1dd0();return a459_0xfa6a=function(_0x315728,_0x207e99){_0x315728=_0x315728-0x118;var _0x1dd0b7=_0x4998eb[_0x315728];return _0x1dd0b7;},a459_0xfa6a(_0x5164de,_0x1521f9);}Object[a459_0x299bda(0x133)](exports,a459_0x299bda(0x124),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a459_0x299bda(0x126))),Prompt_1=__importDefault(require('../../models/Prompt')),ShowPromptService_1=__importDefault(require('./ShowPromptService')),CreatePromptService=async _0x18ecf5=>{var _0x10be26=a459_0x299bda;const {name:_0x57441e,apiKey:_0x3139b7,prompt:_0x5262b7,queueId:_0x4208fa,maxMessages:_0x593585,companyId:_0x47ea93}=_0x18ecf5,_0x27081b=Yup[_0x10be26(0x122)]()[_0x10be26(0x12e)]({'name':Yup['string']()[_0x10be26(0x120)]('ERR_PROMPT_NAME_INVALID'),'prompt':Yup['string']()['required'](_0x10be26(0x128)),'apiKey':Yup[_0x10be26(0x11d)]()[_0x10be26(0x120)]('ERR_PROMPT_APIKEY_INVALID'),'queueId':Yup[_0x10be26(0x136)]()[_0x10be26(0x120)](_0x10be26(0x11a)),'maxMessages':Yup[_0x10be26(0x136)]()[_0x10be26(0x120)](_0x10be26(0x129)),'companyId':Yup[_0x10be26(0x136)]()[_0x10be26(0x120)]('ERR_PROMPT_companyId_INVALID')});try{await _0x27081b[_0x10be26(0x135)]({'name':_0x57441e,'apiKey':_0x3139b7,'prompt':_0x5262b7,'queueId':_0x4208fa,'maxMessages':_0x593585,'companyId':_0x47ea93});}catch(_0x132a35){throw new AppError_1[(_0x10be26(0x12c))](''+JSON['stringify'](_0x132a35,undefined,0x2));}let _0x34f022=await Prompt_1['default'][_0x10be26(0x121)](_0x18ecf5);return _0x34f022=await(0x0,ShowPromptService_1['default'])({'promptId':_0x34f022['id'],'companyId':_0x47ea93}),_0x34f022;};exports[a459_0x299bda(0x12c)]=CreatePromptService;