const a490_0x15c2f0=a490_0x5788;(function(_0x21e1d2,_0x3537b7){const _0x2556f7=a490_0x5788,_0x248603=_0x21e1d2();while(!![]){try{const _0x5e7f1f=-parseInt(_0x2556f7(0xd4))/0x1*(parseInt(_0x2556f7(0xf1))/0x2)+parseInt(_0x2556f7(0xfa))/0x3*(parseInt(_0x2556f7(0xdb))/0x4)+-parseInt(_0x2556f7(0xd6))/0x5+-parseInt(_0x2556f7(0xef))/0x6+-parseInt(_0x2556f7(0xd7))/0x7+parseInt(_0x2556f7(0xf0))/0x8*(parseInt(_0x2556f7(0xf6))/0x9)+-parseInt(_0x2556f7(0xeb))/0xa*(-parseInt(_0x2556f7(0xd0))/0xb);if(_0x5e7f1f===_0x3537b7)break;else _0x248603['push'](_0x248603['shift']());}catch(_0x2d12ba){_0x248603['push'](_0x248603['shift']());}}}(a490_0x3b3f,0xd8599));const a490_0x26824c=(function(){let _0x395f1c=!![];return function(_0x3d679e,_0x5c0943){const _0x373a3f=_0x395f1c?function(){const _0x1a4eee=a490_0x5788;if(_0x5c0943){const _0x1fd23b=_0x5c0943[_0x1a4eee(0xe1)](_0x3d679e,arguments);return _0x5c0943=null,_0x1fd23b;}}:function(){};return _0x395f1c=![],_0x373a3f;};}()),a490_0x3e2f39=a490_0x26824c(this,function(){const _0x15fca7=a490_0x5788;return a490_0x3e2f39[_0x15fca7(0xe7)]()[_0x15fca7(0xd5)](_0x15fca7(0xec))[_0x15fca7(0xe7)]()[_0x15fca7(0xe0)](a490_0x3e2f39)[_0x15fca7(0xd5)](_0x15fca7(0xec));});a490_0x3e2f39();function a490_0x5788(_0x305030,_0x3cffe8){const _0x3bf68a=a490_0x3b3f();return a490_0x5788=function(_0x3e2f39,_0x26824c){_0x3e2f39=_0x3e2f39-0xce;let _0x3b3f9e=_0x3bf68a[_0x3e2f39];return _0x3b3f9e;},a490_0x5788(_0x305030,_0x3cffe8);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3d16c5){const _0x45cd89=a490_0x5788;return _0x3d16c5&&_0x3d16c5[_0x45cd89(0xe8)]?_0x3d16c5:{'default':_0x3d16c5};};function a490_0x3b3f(){const _0x517563=['col','24SpQtwm','day','endOf','map','DESC','constructor','apply','toDate','companyId','../../models/Queue','defineProperty','contactId','toString','__esModule','sequelize-typescript','findAll','3620YfLjey','(((.+)+)+)+$','queueId','max','1139928TyIyoG','8vnWWLo','1106498JQQefN','reduce','whatsappId','updatedAt','user','7744788wiBxVR','startOf','filter','push','521379nAEgro','includes','default','22121VBIIRV','moment','profile','between','1cTKxUQ','search','1471030rhljLL','4953620yeBPcm','Sequelize','../../models/User'];a490_0x3b3f=function(){return _0x517563;};return a490_0x3b3f();}Object[a490_0x15c2f0(0xe5)](exports,a490_0x15c2f0(0xe8),{'value':!![]});const sequelize_1=require('sequelize'),moment_1=__importDefault(require(a490_0x15c2f0(0xd1))),Ticket_1=__importDefault(require('../../models/Ticket')),Queue_1=__importDefault(require(a490_0x15c2f0(0xe4))),User_1=__importDefault(require(a490_0x15c2f0(0xd9))),sequelize_typescript_1=require(a490_0x15c2f0(0xe9)),TicketsQueueService=async({dateStart:_0x266575,dateEnd:_0x1a8b9d,status:_0x2870d6,userId:_0xedd382,companyId:_0xd20e8d,profile:_0x1af0ed})=>{const _0x1ac82f=a490_0x15c2f0;let _0xae6c21={};const _0x26c1d0=[{'model':User_1[_0x1ac82f(0xcf)],'as':'user','attributes':['id','name',_0x1ac82f(0xd2)]},{'model':Queue_1[_0x1ac82f(0xcf)],'as':'queue'}];if(_0x2870d6){const _0x4fff86=[],_0x18c676=await Ticket_1['default'][_0x1ac82f(0xea)]({'where':{'status':'open'},'group':[_0x1ac82f(0xe3),_0x1ac82f(0xe6),_0x1ac82f(0xed),_0x1ac82f(0xf3)],'attributes':[_0x1ac82f(0xe3),'contactId','queueId',_0x1ac82f(0xf3),[sequelize_typescript_1[_0x1ac82f(0xd8)]['fn'](_0x1ac82f(0xee),sequelize_typescript_1[_0x1ac82f(0xd8)][_0x1ac82f(0xda)]('id')),'id']]});_0x18c676&&_0x4fff86[_0x1ac82f(0xf9)](_0x18c676[_0x1ac82f(0xde)](_0x569e98=>_0x569e98['id']));const _0x39d577=_0x4fff86[_0x1ac82f(0xf2)]((_0xec7913,_0x112198)=>_0xec7913[_0x1ac82f(0xf8)](_0x3ae28b=>_0x112198[_0x1ac82f(0xce)](_0x3ae28b)));_0xae6c21={..._0xae6c21,'id':{[sequelize_1['Op']['in']]:_0x39d577}};}_0x1af0ed===_0x1ac82f(0xf5)&&(_0xae6c21={..._0xae6c21,'userId':_0xedd382});_0x266575&&_0x1a8b9d&&(_0xae6c21={..._0xae6c21,'createdAt':{[sequelize_1['Op'][_0x1ac82f(0xd3)]]:[(0x0,moment_1[_0x1ac82f(0xcf)])(_0x266575)[_0x1ac82f(0xf7)](_0x1ac82f(0xdc))[_0x1ac82f(0xe2)](),(0x0,moment_1[_0x1ac82f(0xcf)])(_0x1a8b9d)[_0x1ac82f(0xdd)](_0x1ac82f(0xdc))[_0x1ac82f(0xe2)]()]}});const _0xdb15=await Ticket_1[_0x1ac82f(0xcf)][_0x1ac82f(0xea)]({'where':{..._0xae6c21,'companyId':_0xd20e8d},'include':_0x26c1d0,'order':[[_0x1ac82f(0xf4),_0x1ac82f(0xdf)]]});return{'data':_0xdb15};};exports['default']=TicketsQueueService;