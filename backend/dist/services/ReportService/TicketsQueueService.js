const a490_0x5c8b14=a490_0x5467;(function(_0x1ffcb8,_0x36f36b){const _0x341d37=a490_0x5467,_0x2bb1d5=_0x1ffcb8();while(!![]){try{const _0x7d4037=-parseInt(_0x341d37(0x147))/0x1+parseInt(_0x341d37(0x154))/0x2*(-parseInt(_0x341d37(0x15c))/0x3)+-parseInt(_0x341d37(0x141))/0x4+parseInt(_0x341d37(0x137))/0x5+parseInt(_0x341d37(0x13c))/0x6+parseInt(_0x341d37(0x146))/0x7*(-parseInt(_0x341d37(0x149))/0x8)+-parseInt(_0x341d37(0x133))/0x9*(-parseInt(_0x341d37(0x158))/0xa);if(_0x7d4037===_0x36f36b)break;else _0x2bb1d5['push'](_0x2bb1d5['shift']());}catch(_0x11a902){_0x2bb1d5['push'](_0x2bb1d5['shift']());}}}(a490_0x23cc,0x1bde5));const a490_0x35489e=(function(){let _0x1d671d=!![];return function(_0x3442e2,_0x4f9edf){const _0x128d09=_0x1d671d?function(){const _0x33e2f1=a490_0x5467;if(_0x4f9edf){const _0x34093d=_0x4f9edf[_0x33e2f1(0x13d)](_0x3442e2,arguments);return _0x4f9edf=null,_0x34093d;}}:function(){};return _0x1d671d=![],_0x128d09;};}()),a490_0x2c8d62=a490_0x35489e(this,function(){const _0x282cd7=a490_0x5467;return a490_0x2c8d62['toString']()[_0x282cd7(0x153)](_0x282cd7(0x13a))[_0x282cd7(0x132)]()[_0x282cd7(0x150)](a490_0x2c8d62)[_0x282cd7(0x153)](_0x282cd7(0x13a));});function a490_0x5467(_0x3e17ce,_0x41dad1){const _0x3882b5=a490_0x23cc();return a490_0x5467=function(_0x2c8d62,_0x35489e){_0x2c8d62=_0x2c8d62-0x132;let _0x23cc3c=_0x3882b5[_0x2c8d62];return _0x23cc3c;},a490_0x5467(_0x3e17ce,_0x41dad1);}a490_0x2c8d62();'use strict';function a490_0x23cc(){const _0x5a7844=['open','default','460892MOXOMy','findAll','whatsappId','map','col','1876lDCCrS','225060KVtcfW','sequelize-typescript','5168WsXvTZ','Sequelize','user','filter','endOf','name','companyId','constructor','../../models/User','defineProperty','search','9746SqDBmf','push','queueId','sequelize','4852090BOUJfP','day','../../models/Ticket','contactId','33AGInEt','reduce','toDate','toString','9AticME','between','profile','../../models/Queue','199515gAskcs','max','__importDefault','(((.+)+)+)+$','moment','936306WBdbLd','apply','__esModule'];a490_0x23cc=function(){return _0x5a7844;};return a490_0x23cc();}var __importDefault=this&&this[a490_0x5c8b14(0x139)]||function(_0x9e4cd4){const _0x46c6d1=a490_0x5c8b14;return _0x9e4cd4&&_0x9e4cd4[_0x46c6d1(0x13e)]?_0x9e4cd4:{'default':_0x9e4cd4};};Object[a490_0x5c8b14(0x152)](exports,a490_0x5c8b14(0x13e),{'value':!![]});const sequelize_1=require(a490_0x5c8b14(0x157)),moment_1=__importDefault(require(a490_0x5c8b14(0x13b))),Ticket_1=__importDefault(require(a490_0x5c8b14(0x15a))),Queue_1=__importDefault(require(a490_0x5c8b14(0x136))),User_1=__importDefault(require(a490_0x5c8b14(0x151))),sequelize_typescript_1=require(a490_0x5c8b14(0x148)),TicketsQueueService=async({dateStart:_0x295c7b,dateEnd:_0x412b8e,status:_0x489fe6,userId:_0x31a995,companyId:_0x212546,profile:_0x1c7717})=>{const _0x561a09=a490_0x5c8b14;let _0x4e801e={};const _0x14e290=[{'model':User_1['default'],'as':'user','attributes':['id',_0x561a09(0x14e),_0x561a09(0x135)]},{'model':Queue_1[_0x561a09(0x140)],'as':'queue'}];if(_0x489fe6){const _0x211c7b=[],_0x3c1719=await Ticket_1['default'][_0x561a09(0x142)]({'where':{'status':_0x561a09(0x13f)},'group':[_0x561a09(0x14f),_0x561a09(0x15b),'queueId',_0x561a09(0x143)],'attributes':['companyId',_0x561a09(0x15b),_0x561a09(0x156),_0x561a09(0x143),[sequelize_typescript_1[_0x561a09(0x14a)]['fn'](_0x561a09(0x138),sequelize_typescript_1[_0x561a09(0x14a)][_0x561a09(0x145)]('id')),'id']]});_0x3c1719&&_0x211c7b[_0x561a09(0x155)](_0x3c1719[_0x561a09(0x144)](_0x5205fc=>_0x5205fc['id']));const _0x276cd2=_0x211c7b[_0x561a09(0x15d)]((_0x148169,_0x4a59a7)=>_0x148169[_0x561a09(0x14c)](_0x539e09=>_0x4a59a7['includes'](_0x539e09)));_0x4e801e={..._0x4e801e,'id':{[sequelize_1['Op']['in']]:_0x276cd2}};}_0x1c7717===_0x561a09(0x14b)&&(_0x4e801e={..._0x4e801e,'userId':_0x31a995});_0x295c7b&&_0x412b8e&&(_0x4e801e={..._0x4e801e,'createdAt':{[sequelize_1['Op'][_0x561a09(0x134)]]:[(0x0,moment_1['default'])(_0x295c7b)['startOf'](_0x561a09(0x159))[_0x561a09(0x15e)](),(0x0,moment_1[_0x561a09(0x140)])(_0x412b8e)[_0x561a09(0x14d)](_0x561a09(0x159))[_0x561a09(0x15e)]()]}});const _0x440836=await Ticket_1[_0x561a09(0x140)][_0x561a09(0x142)]({'where':{..._0x4e801e,'companyId':_0x212546},'include':_0x14e290,'order':[['updatedAt','DESC']]});return{'data':_0x440836};};exports[a490_0x5c8b14(0x140)]=TicketsQueueService;