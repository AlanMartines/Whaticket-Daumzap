const a490_0x18e254=a490_0x38f8;function a490_0x3b96(){const _0x349fe1=['moment','sequelize','between','11875780Wtfetr','__esModule','push','27XpwkNm','toString','map','1356UikmNQ','115006OMyenP','includes','744NnYIoL','../../models/Queue','toDate','../../models/Ticket','whatsappId','name','updatedAt','constructor','companyId','user','day','7060JMuVfb','2559789sSMuss','col','endOf','profile','filter','contactId','1282830bNfqYW','default','Sequelize','(((.+)+)+)+$','__importDefault','findAll','../../models/User','sequelize-typescript','apply','max','19369MHLKgw','212020nFWlqi','reduce','startOf','queueId','DESC'];a490_0x3b96=function(){return _0x349fe1;};return a490_0x3b96();}(function(_0xde942d,_0x36f081){const _0x1d8302=a490_0x38f8,_0x4317ed=_0xde942d();while(!![]){try{const _0x4a213d=-parseInt(_0x1d8302(0x13b))/0x1+-parseInt(_0x1d8302(0x11c))/0x2*(parseInt(_0x1d8302(0x118))/0x3)+parseInt(_0x1d8302(0x11b))/0x4*(-parseInt(_0x1d8302(0x129))/0x5)+-parseInt(_0x1d8302(0x130))/0x6+-parseInt(_0x1d8302(0x13a))/0x7*(-parseInt(_0x1d8302(0x11e))/0x8)+parseInt(_0x1d8302(0x12a))/0x9+parseInt(_0x1d8302(0x115))/0xa;if(_0x4a213d===_0x36f081)break;else _0x4317ed['push'](_0x4317ed['shift']());}catch(_0x22835d){_0x4317ed['push'](_0x4317ed['shift']());}}}(a490_0x3b96,0x4b06e));const a490_0x1731fe=(function(){let _0x5ec81e=!![];return function(_0x36b371,_0x1120c9){const _0x52643a=_0x5ec81e?function(){const _0x2c7349=a490_0x38f8;if(_0x1120c9){const _0x169fb2=_0x1120c9[_0x2c7349(0x138)](_0x36b371,arguments);return _0x1120c9=null,_0x169fb2;}}:function(){};return _0x5ec81e=![],_0x52643a;};}()),a490_0x534c25=a490_0x1731fe(this,function(){const _0x514c3d=a490_0x38f8;return a490_0x534c25[_0x514c3d(0x119)]()['search'](_0x514c3d(0x133))['toString']()[_0x514c3d(0x125)](a490_0x534c25)['search'](_0x514c3d(0x133));});function a490_0x38f8(_0x5f468a,_0x7bd4e1){const _0x945d7f=a490_0x3b96();return a490_0x38f8=function(_0x534c25,_0x1731fe){_0x534c25=_0x534c25-0x10f;let _0x3b969d=_0x945d7f[_0x534c25];return _0x3b969d;},a490_0x38f8(_0x5f468a,_0x7bd4e1);}a490_0x534c25();'use strict';var __importDefault=this&&this[a490_0x18e254(0x134)]||function(_0x3ba3cc){const _0x1a0135=a490_0x18e254;return _0x3ba3cc&&_0x3ba3cc[_0x1a0135(0x116)]?_0x3ba3cc:{'default':_0x3ba3cc};};Object['defineProperty'](exports,a490_0x18e254(0x116),{'value':!![]});const sequelize_1=require(a490_0x18e254(0x113)),moment_1=__importDefault(require(a490_0x18e254(0x112))),Ticket_1=__importDefault(require(a490_0x18e254(0x121))),Queue_1=__importDefault(require(a490_0x18e254(0x11f))),User_1=__importDefault(require(a490_0x18e254(0x136))),sequelize_typescript_1=require(a490_0x18e254(0x137)),TicketsQueueService=async({dateStart:_0x3f7813,dateEnd:_0x433f12,status:_0x55390a,userId:_0x614a34,companyId:_0x3c3b4f,profile:_0x556abf})=>{const _0x4762bd=a490_0x18e254;let _0x565257={};const _0x387be8=[{'model':User_1[_0x4762bd(0x131)],'as':_0x4762bd(0x127),'attributes':['id',_0x4762bd(0x123),_0x4762bd(0x12d)]},{'model':Queue_1[_0x4762bd(0x131)],'as':'queue'}];if(_0x55390a){const _0x2fdc34=[],_0x373e69=await Ticket_1[_0x4762bd(0x131)][_0x4762bd(0x135)]({'where':{'status':'open'},'group':[_0x4762bd(0x126),_0x4762bd(0x12f),_0x4762bd(0x110),_0x4762bd(0x122)],'attributes':[_0x4762bd(0x126),_0x4762bd(0x12f),_0x4762bd(0x110),_0x4762bd(0x122),[sequelize_typescript_1[_0x4762bd(0x132)]['fn'](_0x4762bd(0x139),sequelize_typescript_1[_0x4762bd(0x132)][_0x4762bd(0x12b)]('id')),'id']]});_0x373e69&&_0x2fdc34[_0x4762bd(0x117)](_0x373e69[_0x4762bd(0x11a)](_0x1f12a6=>_0x1f12a6['id']));const _0x1c0d8d=_0x2fdc34[_0x4762bd(0x13c)]((_0x340760,_0x242786)=>_0x340760[_0x4762bd(0x12e)](_0x326360=>_0x242786[_0x4762bd(0x11d)](_0x326360)));_0x565257={..._0x565257,'id':{[sequelize_1['Op']['in']]:_0x1c0d8d}};}_0x556abf===_0x4762bd(0x127)&&(_0x565257={..._0x565257,'userId':_0x614a34});_0x3f7813&&_0x433f12&&(_0x565257={..._0x565257,'createdAt':{[sequelize_1['Op'][_0x4762bd(0x114)]]:[(0x0,moment_1['default'])(_0x3f7813)[_0x4762bd(0x10f)](_0x4762bd(0x128))[_0x4762bd(0x120)](),(0x0,moment_1['default'])(_0x433f12)[_0x4762bd(0x12c)](_0x4762bd(0x128))[_0x4762bd(0x120)]()]}});const _0x5d9e9f=await Ticket_1[_0x4762bd(0x131)][_0x4762bd(0x135)]({'where':{..._0x565257,'companyId':_0x3c3b4f},'include':_0x387be8,'order':[[_0x4762bd(0x124),_0x4762bd(0x111)]]});return{'data':_0x5d9e9f};};exports[a490_0x18e254(0x131)]=TicketsQueueService;