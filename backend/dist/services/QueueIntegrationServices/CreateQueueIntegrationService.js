function a464_0x1500(_0x283db1,_0x418a67){var _0x140061=a464_0x10ef();return a464_0x1500=function(_0x47355a,_0x17ec83){_0x47355a=_0x47355a-0x12f;var _0x10efc8=_0x140061[_0x47355a];return _0x10efc8;},a464_0x1500(_0x283db1,_0x418a67);}function a464_0x10ef(){var _0x34d4e3=['897491jqNbJE','required','4561956HTDlUf','7204MWsvRw','8uqzWfV','544FowKRd','__importStar','__createBinding','1076835glxWIF','prototype','findOne','get','(((.+)+)+)+$','8389830peDmXJ','create','configurable','defineProperty','36ilybEJ','__esModule','hasOwnProperty','getOwnPropertyDescriptor','5318487UqLMiM','__setModuleDefault','shape','search','943XdjMOr','call','default','min'];a464_0x10ef=function(){return _0x34d4e3;};return a464_0x10ef();}var a464_0x1efce3=a464_0x1500;(function(_0x479583,_0xd1e371){var _0x45fe9f=a464_0x1500,_0x5a3144=_0x479583();while(!![]){try{var _0x447804=-parseInt(_0x45fe9f(0x139))/0x1*(parseInt(_0x45fe9f(0x142))/0x2)+-parseInt(_0x45fe9f(0x131))/0x3*(-parseInt(_0x45fe9f(0x140))/0x4)+parseInt(_0x45fe9f(0x145))/0x5+-parseInt(_0x45fe9f(0x13f))/0x6+-parseInt(_0x45fe9f(0x13d))/0x7+parseInt(_0x45fe9f(0x141))/0x8*(parseInt(_0x45fe9f(0x135))/0x9)+parseInt(_0x45fe9f(0x14a))/0xa;if(_0x447804===_0xd1e371)break;else _0x5a3144['push'](_0x5a3144['shift']());}catch(_0x10b737){_0x5a3144['push'](_0x5a3144['shift']());}}}(a464_0x10ef,0x7f68e));var a464_0x17ec83=(function(){var _0x2f6795=!![];return function(_0x4d1d59,_0x308509){var _0xf422c5=_0x2f6795?function(){if(_0x308509){var _0xe0aa91=_0x308509['apply'](_0x4d1d59,arguments);return _0x308509=null,_0xe0aa91;}}:function(){};return _0x2f6795=![],_0xf422c5;};}()),a464_0x47355a=a464_0x17ec83(this,function(){var _0x4e2224=a464_0x1500;return a464_0x47355a['toString']()['search'](_0x4e2224(0x149))['toString']()['constructor'](a464_0x47355a)[_0x4e2224(0x138)](_0x4e2224(0x149));});a464_0x47355a();'use strict';var __createBinding=this&&this[a464_0x1efce3(0x144)]||(Object[a464_0x1efce3(0x14b)]?function(_0x3ffd2e,_0x54567a,_0x4683c9,_0x330e9f){var _0xe9ec3e=a464_0x1efce3;if(_0x330e9f===undefined)_0x330e9f=_0x4683c9;var _0x1ea89e=Object[_0xe9ec3e(0x134)](_0x54567a,_0x4683c9);(!_0x1ea89e||(_0xe9ec3e(0x148)in _0x1ea89e?!_0x54567a[_0xe9ec3e(0x132)]:_0x1ea89e['writable']||_0x1ea89e[_0xe9ec3e(0x12f)]))&&(_0x1ea89e={'enumerable':!![],'get':function(){return _0x54567a[_0x4683c9];}}),Object[_0xe9ec3e(0x130)](_0x3ffd2e,_0x330e9f,_0x1ea89e);}:function(_0x5cca0c,_0x338be3,_0x40697b,_0x11d202){if(_0x11d202===undefined)_0x11d202=_0x40697b;_0x5cca0c[_0x11d202]=_0x338be3[_0x40697b];}),__setModuleDefault=this&&this[a464_0x1efce3(0x136)]||(Object['create']?function(_0x5ebf70,_0x430c25){var _0x58d302=a464_0x1efce3;Object[_0x58d302(0x130)](_0x5ebf70,_0x58d302(0x13b),{'enumerable':!![],'value':_0x430c25});}:function(_0x558c3f,_0x59b1ab){_0x558c3f['default']=_0x59b1ab;}),__importStar=this&&this[a464_0x1efce3(0x143)]||function(_0x5d7cd1){var _0x27d382=a464_0x1efce3;if(_0x5d7cd1&&_0x5d7cd1[_0x27d382(0x132)])return _0x5d7cd1;var _0x179a99={};if(_0x5d7cd1!=null){for(var _0x5ad88a in _0x5d7cd1)if(_0x5ad88a!==_0x27d382(0x13b)&&Object[_0x27d382(0x146)][_0x27d382(0x133)][_0x27d382(0x13a)](_0x5d7cd1,_0x5ad88a))__createBinding(_0x179a99,_0x5d7cd1,_0x5ad88a);}return __setModuleDefault(_0x179a99,_0x5d7cd1),_0x179a99;},__importDefault=this&&this['__importDefault']||function(_0x5ce7c1){var _0x53f3d9=a464_0x1efce3;return _0x5ce7c1&&_0x5ce7c1[_0x53f3d9(0x132)]?_0x5ce7c1:{'default':_0x5ce7c1};};Object['defineProperty'](exports,a464_0x1efce3(0x132),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),QueueIntegrations_1=__importDefault(require('../../models/QueueIntegrations')),CreateQueueIntegrationService=async({type:_0x436f5c,name:_0x219963,projectName:_0x30a3ba,jsonContent:_0x31e2a4,language:_0x224aa2,urlN8N:_0xe9f1cd,companyId:_0x569699,typebotExpires:_0x5940ae,typebotKeywordFinish:_0x7b5fcb,typebotSlug:_0x2ee4f2,typebotUnknownMessage:_0x1307f9,typebotDelayMessage:_0x1c8b65,typebotKeywordRestart:_0xfdff8e,typebotRestartMessage:_0x30b3e6})=>{var _0x361b53=a464_0x1efce3;const _0x4f3a76=Yup['object']()[_0x361b53(0x137)]({'name':Yup['string']()[_0x361b53(0x13e)]()[_0x361b53(0x13c)](0x2)['test']('Check-name','This\x20integration\x20name\x20is\x20already\x20used.',async _0x1253e7=>{var _0x537708=_0x361b53;if(!_0x1253e7)return![];const _0x1ff7c9=await QueueIntegrations_1[_0x537708(0x13b)][_0x537708(0x147)]({'where':{'name':_0x1253e7,'companyId':_0x569699}});return!_0x1ff7c9;})});try{await _0x4f3a76['validate']({'type':_0x436f5c,'name':_0x219963,'projectName':_0x30a3ba,'jsonContent':_0x31e2a4,'language':_0x224aa2,'urlN8N':_0xe9f1cd,'companyId':_0x569699});}catch(_0x194f03){throw new AppError_1[(_0x361b53(0x13b))](_0x194f03['message']);}const _0x2fb893=await QueueIntegrations_1['default']['create']({'type':_0x436f5c,'name':_0x219963,'projectName':_0x30a3ba,'jsonContent':_0x31e2a4,'language':_0x224aa2,'urlN8N':_0xe9f1cd,'companyId':_0x569699,'typebotExpires':_0x5940ae,'typebotKeywordFinish':_0x7b5fcb,'typebotSlug':_0x2ee4f2,'typebotUnknownMessage':_0x1307f9,'typebotDelayMessage':_0x1c8b65,'typebotKeywordRestart':_0xfdff8e,'typebotRestartMessage':_0x30b3e6});return _0x2fb893;};exports[a464_0x1efce3(0x13b)]=CreateQueueIntegrationService;