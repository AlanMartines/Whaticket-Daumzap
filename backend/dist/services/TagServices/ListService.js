const a507_0x59df5a=a507_0x5686;function a507_0x5c1e(){const _0x39b1c4=['1047650cgKvaG','5979WqPHit','default','ASC','name','ticketsCount','length','__importDefault','6225912CcPqtX','(((.+)+)+)+$','ticketTags.tagId','../../models/TicketTag','search','38DxjJwB','defineProperty','col','count','3692415tCDCWF','apply','ticketTags','8561682oRByrq','2157144QTxxUS','8nifKkw','like','__esModule','findAndCountAll','5344912DJcXdP','../../models/Tag'];a507_0x5c1e=function(){return _0x39b1c4;};return a507_0x5c1e();}(function(_0x52a799,_0x35f38f){const _0x1d43af=a507_0x5686,_0xbb055e=_0x52a799();while(!![]){try{const _0x222ffa=-parseInt(_0x1d43af(0xfe))/0x1+parseInt(_0x1d43af(0xef))/0x2*(-parseInt(_0x1d43af(0xff))/0x3)+parseInt(_0x1d43af(0xfc))/0x4+parseInt(_0x1d43af(0xf3))/0x5+-parseInt(_0x1d43af(0xf7))/0x6+-parseInt(_0x1d43af(0xea))/0x7+-parseInt(_0x1d43af(0xf8))/0x8*(-parseInt(_0x1d43af(0xf6))/0x9);if(_0x222ffa===_0x35f38f)break;else _0xbb055e['push'](_0xbb055e['shift']());}catch(_0x21b9a4){_0xbb055e['push'](_0xbb055e['shift']());}}}(a507_0x5c1e,0xa8d60));function a507_0x5686(_0x25d0c3,_0x2a45fb){const _0x1f0a08=a507_0x5c1e();return a507_0x5686=function(_0x125ea8,_0x24b035){_0x125ea8=_0x125ea8-0xe5;let _0x5c1e7b=_0x1f0a08[_0x125ea8];return _0x5c1e7b;},a507_0x5686(_0x25d0c3,_0x2a45fb);}const a507_0x24b035=(function(){let _0x4e14f0=!![];return function(_0x256d7c,_0x57e525){const _0x283b53=_0x4e14f0?function(){const _0x2fd3c5=a507_0x5686;if(_0x57e525){const _0x1e7a9d=_0x57e525[_0x2fd3c5(0xf4)](_0x256d7c,arguments);return _0x57e525=null,_0x1e7a9d;}}:function(){};return _0x4e14f0=![],_0x283b53;};}()),a507_0x125ea8=a507_0x24b035(this,function(){const _0x1fca57=a507_0x5686;return a507_0x125ea8['toString']()[_0x1fca57(0xee)](_0x1fca57(0xeb))['toString']()['constructor'](a507_0x125ea8)[_0x1fca57(0xee)](_0x1fca57(0xeb));});a507_0x125ea8();'use strict';var __importDefault=this&&this[a507_0x59df5a(0xe9)]||function(_0x428f56){const _0x49d2a2=a507_0x59df5a;return _0x428f56&&_0x428f56[_0x49d2a2(0xfa)]?_0x428f56:{'default':_0x428f56};};Object[a507_0x59df5a(0xf0)](exports,a507_0x59df5a(0xfa),{'value':!![]});const sequelize_1=require('sequelize'),Tag_1=__importDefault(require(a507_0x59df5a(0xfd))),TicketTag_1=__importDefault(require(a507_0x59df5a(0xed))),ListService=async({companyId:_0x442b15,searchParam:_0x1e4d54,pageNumber:pageNumber='1'})=>{const _0x3f2ddb=a507_0x59df5a;let _0x3f070e={};const _0x598132=0x14,_0x6cad9a=_0x598132*(+pageNumber-0x1);_0x1e4d54&&(_0x3f070e={[sequelize_1['Op']['or']]:[{'name':{[sequelize_1['Op'][_0x3f2ddb(0xf9)]]:'%'+_0x1e4d54+'%'}},{'color':{[sequelize_1['Op'][_0x3f2ddb(0xf9)]]:'%'+_0x1e4d54+'%'}}]});const {count:_0x34c46d,rows:_0x3d6e33}=await Tag_1[_0x3f2ddb(0x100)][_0x3f2ddb(0xfb)]({'where':{..._0x3f070e,'companyId':_0x442b15},'limit':_0x598132,'offset':_0x6cad9a,'order':[[_0x3f2ddb(0xe6),_0x3f2ddb(0xe5)]],'subQuery':![],'include':[{'model':TicketTag_1[_0x3f2ddb(0x100)],'as':_0x3f2ddb(0xf5),'attributes':[],'required':![]}],'attributes':['id','name','color',[(0x0,sequelize_1['fn'])(_0x3f2ddb(0xf2),(0x0,sequelize_1[_0x3f2ddb(0xf1)])(_0x3f2ddb(0xec))),_0x3f2ddb(0xe7)]],'group':['Tag.id']}),_0x14d8ef=_0x34c46d>_0x6cad9a+_0x3d6e33[_0x3f2ddb(0xe8)];return{'tags':_0x3d6e33,'count':_0x34c46d,'hasMore':_0x14d8ef};};exports[a507_0x59df5a(0x100)]=ListService;