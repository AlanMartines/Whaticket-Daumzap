const a510_0x345879=a510_0x227e;(function(_0x30a45a,_0x934413){const _0x26071c=a510_0x227e,_0x470a06=_0x30a45a();while(!![]){try{const _0x1776d6=-parseInt(_0x26071c(0xac))/0x1+-parseInt(_0x26071c(0xaf))/0x2+-parseInt(_0x26071c(0xae))/0x3*(-parseInt(_0x26071c(0xb5))/0x4)+parseInt(_0x26071c(0xab))/0x5+-parseInt(_0x26071c(0xa0))/0x6+parseInt(_0x26071c(0xa4))/0x7+parseInt(_0x26071c(0xb4))/0x8*(parseInt(_0x26071c(0xaa))/0x9);if(_0x1776d6===_0x934413)break;else _0x470a06['push'](_0x470a06['shift']());}catch(_0x5db873){_0x470a06['push'](_0x470a06['shift']());}}}(a510_0x43f9,0xa5a5d));const a510_0x3b2b29=(function(){let _0x4a177e=!![];return function(_0x471744,_0x2bf426){const _0x126584=_0x4a177e?function(){const _0x474d48=a510_0x227e;if(_0x2bf426){const _0x3c3187=_0x2bf426[_0x474d48(0xad)](_0x471744,arguments);return _0x2bf426=null,_0x3c3187;}}:function(){};return _0x4a177e=![],_0x126584;};}()),a510_0xa11019=a510_0x3b2b29(this,function(){const _0x3709f0=a510_0x227e;return a510_0xa11019[_0x3709f0(0xb0)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a510_0xa11019)[_0x3709f0(0x9f)](_0x3709f0(0xa1));});function a510_0x227e(_0x43c04b,_0x5973f6){const _0x50b95c=a510_0x43f9();return a510_0x227e=function(_0xa11019,_0x3b2b29){_0xa11019=_0xa11019-0x9a;let _0x43f99f=_0x50b95c[_0xa11019];return _0x43f99f;},a510_0x227e(_0x43c04b,_0x5973f6);}a510_0xa11019();function a510_0x43f9(){const _0x15d20a=['__esModule','../../models/Ticket','map','tagUpdate','getIO','search','4681734RbupAL','(((.+)+)+)+$','__importDefault','findByPk','3528875epieOg','../../models/TicketTag','../../models/Contact','../../libs/socket','../../models/Tag','defineProperty','38511cvTKex','6207345TkTeVm','404277yxtOil','apply','6MtTcoB','764292yBVbOn','toString','notification','companyId','-ticket','520tpUUoc','442952aHMAlj','company-','default','destroy'];a510_0x43f9=function(){return _0x15d20a;};return a510_0x43f9();}'use strict';var __importDefault=this&&this[a510_0x345879(0xa2)]||function(_0x5c6099){const _0x3d65ec=a510_0x345879;return _0x5c6099&&_0x5c6099[_0x3d65ec(0x9a)]?_0x5c6099:{'default':_0x5c6099};};Object[a510_0x345879(0xa9)](exports,a510_0x345879(0x9a),{'value':!![]});const socket_1=require(a510_0x345879(0xa7)),Contact_1=__importDefault(require(a510_0x345879(0xa6))),Tag_1=__importDefault(require(a510_0x345879(0xa8))),Ticket_1=__importDefault(require(a510_0x345879(0x9b))),TicketTag_1=__importDefault(require(a510_0x345879(0xa5))),SyncTags=async({tags:_0x37a700,ticketId:_0x36f5c7})=>{const _0x58bc09=a510_0x345879,_0x4d64d1=(0x0,socket_1[_0x58bc09(0x9e)])(),_0x1d49d0=await Ticket_1['default'][_0x58bc09(0xa3)](_0x36f5c7,{'include':[Tag_1[_0x58bc09(0xb7)]]}),_0x2cd40c=_0x1d49d0?.[_0x58bc09(0xb2)],_0x287db2=_0x37a700[_0x58bc09(0x9c)](_0x58670a=>({'tagId':_0x58670a['id'],'ticketId':_0x36f5c7}));await TicketTag_1[_0x58bc09(0xb7)][_0x58bc09(0xb8)]({'where':{'ticketId':_0x36f5c7}}),await TicketTag_1[_0x58bc09(0xb7)]['bulkCreate'](_0x287db2);const _0x2db1d9=await Ticket_1['default'][_0x58bc09(0xa3)](_0x36f5c7,{'include':[Tag_1[_0x58bc09(0xb7)],Contact_1[_0x58bc09(0xb7)]]});return _0x1d49d0?.['reload'](),_0x4d64d1['to'](_0x1d49d0['status'])['to'](_0x58bc09(0xb1))['to'](_0x36f5c7[_0x58bc09(0xb0)]())['emit'](_0x58bc09(0xb6)+_0x2cd40c+_0x58bc09(0xb3),{'action':_0x58bc09(0x9d),'ticket':_0x2db1d9}),_0x1d49d0;};exports[a510_0x345879(0xb7)]=SyncTags;