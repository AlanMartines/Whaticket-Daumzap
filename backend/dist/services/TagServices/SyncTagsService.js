const a510_0x88f080=a510_0x6571;(function(_0x32374b,_0x299cf3){const _0x197133=a510_0x6571,_0x18b101=_0x32374b();while(!![]){try{const _0x4e8645=-parseInt(_0x197133(0x1af))/0x1+parseInt(_0x197133(0x1a5))/0x2*(parseInt(_0x197133(0x1b8))/0x3)+parseInt(_0x197133(0x1be))/0x4*(parseInt(_0x197133(0x1a7))/0x5)+-parseInt(_0x197133(0x1bd))/0x6+parseInt(_0x197133(0x1a0))/0x7*(parseInt(_0x197133(0x1ba))/0x8)+parseInt(_0x197133(0x1a9))/0x9*(-parseInt(_0x197133(0x1b1))/0xa)+-parseInt(_0x197133(0x1b6))/0xb*(parseInt(_0x197133(0x1c0))/0xc);if(_0x4e8645===_0x299cf3)break;else _0x18b101['push'](_0x18b101['shift']());}catch(_0x59693d){_0x18b101['push'](_0x18b101['shift']());}}}(a510_0x5b1c,0xbcbe2));const a510_0x2cb81d=(function(){let _0x2b1139=!![];return function(_0x5560dc,_0x1a194f){const _0x1ee7f4=_0x2b1139?function(){const _0x506f27=a510_0x6571;if(_0x1a194f){const _0x8a4522=_0x1a194f[_0x506f27(0x1a4)](_0x5560dc,arguments);return _0x1a194f=null,_0x8a4522;}}:function(){};return _0x2b1139=![],_0x1ee7f4;};}()),a510_0x29ec0e=a510_0x2cb81d(this,function(){const _0x8b039b=a510_0x6571;return a510_0x29ec0e['toString']()['search'](_0x8b039b(0x1b2))['toString']()[_0x8b039b(0x1ae)](a510_0x29ec0e)['search'](_0x8b039b(0x1b2));});function a510_0x6571(_0x5b2bd6,_0x4c69a7){const _0x5e75dc=a510_0x5b1c();return a510_0x6571=function(_0x29ec0e,_0x2cb81d){_0x29ec0e=_0x29ec0e-0x1a0;let _0x5b1cca=_0x5e75dc[_0x29ec0e];return _0x5b1cca;},a510_0x6571(_0x5b2bd6,_0x4c69a7);}a510_0x29ec0e();function a510_0x5b1c(){const _0x1da8ca=['762624WBiBEV','toString','347650EcUIVs','(((.+)+)+)+$','status','tagUpdate','companyId','17761172tjxtRx','../../models/TicketTag','2195106oPEcow','../../models/Contact','664TKzBin','-ticket','map','4575366iDOHCb','2409448bYjxlv','notification','12kNFQgQ','116711fUShmF','__esModule','bulkCreate','company-','apply','4szGDkW','__importDefault','10zzULzr','emit','36WwNyxJ','../../models/Tag','destroy','default','defineProperty','constructor'];a510_0x5b1c=function(){return _0x1da8ca;};return a510_0x5b1c();}'use strict';var __importDefault=this&&this[a510_0x88f080(0x1a6)]||function(_0x43a39f){return _0x43a39f&&_0x43a39f['__esModule']?_0x43a39f:{'default':_0x43a39f};};Object[a510_0x88f080(0x1ad)](exports,a510_0x88f080(0x1a1),{'value':!![]});const socket_1=require('../../libs/socket'),Contact_1=__importDefault(require(a510_0x88f080(0x1b9))),Tag_1=__importDefault(require(a510_0x88f080(0x1aa))),Ticket_1=__importDefault(require('../../models/Ticket')),TicketTag_1=__importDefault(require(a510_0x88f080(0x1b7))),SyncTags=async({tags:_0x2ff385,ticketId:_0x49e449})=>{const _0x1a2191=a510_0x88f080,_0x533776=(0x0,socket_1['getIO'])(),_0x15b424=await Ticket_1[_0x1a2191(0x1ac)]['findByPk'](_0x49e449,{'include':[Tag_1[_0x1a2191(0x1ac)]]}),_0x2849ac=_0x15b424?.[_0x1a2191(0x1b5)],_0x20015a=_0x2ff385[_0x1a2191(0x1bc)](_0x5ac465=>({'tagId':_0x5ac465['id'],'ticketId':_0x49e449}));await TicketTag_1['default'][_0x1a2191(0x1ab)]({'where':{'ticketId':_0x49e449}}),await TicketTag_1[_0x1a2191(0x1ac)][_0x1a2191(0x1a2)](_0x20015a);const _0x214f76=await Ticket_1[_0x1a2191(0x1ac)]['findByPk'](_0x49e449,{'include':[Tag_1[_0x1a2191(0x1ac)],Contact_1['default']]});return _0x15b424?.['reload'](),_0x533776['to'](_0x15b424[_0x1a2191(0x1b3)])['to'](_0x1a2191(0x1bf))['to'](_0x49e449[_0x1a2191(0x1b0)]())[_0x1a2191(0x1a8)](_0x1a2191(0x1a3)+_0x2849ac+_0x1a2191(0x1bb),{'action':_0x1a2191(0x1b4),'ticket':_0x214f76}),_0x15b424;};exports['default']=SyncTags;