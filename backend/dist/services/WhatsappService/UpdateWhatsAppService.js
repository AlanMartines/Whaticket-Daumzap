function a567_0x38d4(_0xbde431,_0x1a1cfb){const _0x12c946=a567_0x5462();return a567_0x38d4=function(_0x29cdaf,_0x34d688){_0x29cdaf=_0x29cdaf-0x69;let _0x5462ad=_0x12c946[_0x29cdaf];return _0x5462ad;},a567_0x38d4(_0xbde431,_0x1a1cfb);}function a567_0x5462(){const _0x188d91=['2343364KkIvXo','6281694jVwfMK','194166svFOxo','toString','create','5916030NoCOLR','../../errors/AppError','constructor','object','default','string','11111256BwMmaI','3TTayAz','boolean','length','not','49XqHkJz','defineProperty','hasOwnProperty','get','__createBinding','writable','sequelize','call','validate','findOne','__setModuleDefault','1285190ScfzyW','__esModule','prototype','__importDefault','./ShowWhatsAppService','(((.+)+)+)+$','ERR_WAPP_GREETING_REQUIRED','configurable','min','4WOOiMU','search','__importStar','update','140748GOzwcV'];a567_0x5462=function(){return _0x188d91;};return a567_0x5462();}const a567_0x1c10bf=a567_0x38d4;(function(_0x28f1d3,_0x501181){const _0x2238ae=a567_0x38d4,_0x1f0428=_0x28f1d3();while(!![]){try{const _0x4e8718=parseInt(_0x2238ae(0x8b))/0x1*(-parseInt(_0x2238ae(0x8f))/0x2)+parseInt(_0x2238ae(0x73))/0x3*(parseInt(_0x2238ae(0x90))/0x4)+-parseInt(_0x2238ae(0x6c))/0x5+-parseInt(_0x2238ae(0x69))/0x6*(parseInt(_0x2238ae(0x77))/0x7)+parseInt(_0x2238ae(0x72))/0x8+parseInt(_0x2238ae(0x91))/0x9+-parseInt(_0x2238ae(0x82))/0xa;if(_0x4e8718===_0x501181)break;else _0x1f0428['push'](_0x1f0428['shift']());}catch(_0x1454af){_0x1f0428['push'](_0x1f0428['shift']());}}}(a567_0x5462,0xd03e6));const a567_0x34d688=(function(){let _0xb6fa5d=!![];return function(_0x3218b2,_0x4bbfcc){const _0xc1e1de=_0xb6fa5d?function(){if(_0x4bbfcc){const _0x1e3fd5=_0x4bbfcc['apply'](_0x3218b2,arguments);return _0x4bbfcc=null,_0x1e3fd5;}}:function(){};return _0xb6fa5d=![],_0xc1e1de;};}()),a567_0x29cdaf=a567_0x34d688(this,function(){const _0x4659d6=a567_0x38d4;return a567_0x29cdaf[_0x4659d6(0x6a)]()[_0x4659d6(0x8c)](_0x4659d6(0x87))['toString']()[_0x4659d6(0x6e)](a567_0x29cdaf)[_0x4659d6(0x8c)](_0x4659d6(0x87));});a567_0x29cdaf();'use strict';var __createBinding=this&&this[a567_0x1c10bf(0x7b)]||(Object['create']?function(_0x371f4d,_0x3f23eb,_0x43ee98,_0x3e1ad2){const _0x512edb=a567_0x1c10bf;if(_0x3e1ad2===undefined)_0x3e1ad2=_0x43ee98;var _0x1ac33b=Object['getOwnPropertyDescriptor'](_0x3f23eb,_0x43ee98);(!_0x1ac33b||(_0x512edb(0x7a)in _0x1ac33b?!_0x3f23eb[_0x512edb(0x83)]:_0x1ac33b[_0x512edb(0x7c)]||_0x1ac33b[_0x512edb(0x89)]))&&(_0x1ac33b={'enumerable':!![],'get':function(){return _0x3f23eb[_0x43ee98];}}),Object['defineProperty'](_0x371f4d,_0x3e1ad2,_0x1ac33b);}:function(_0x477cec,_0x3044c3,_0x2dfe26,_0x41f2e7){if(_0x41f2e7===undefined)_0x41f2e7=_0x2dfe26;_0x477cec[_0x41f2e7]=_0x3044c3[_0x2dfe26];}),__setModuleDefault=this&&this[a567_0x1c10bf(0x81)]||(Object[a567_0x1c10bf(0x6b)]?function(_0x5a5deb,_0x5d2de2){const _0x5cd4fd=a567_0x1c10bf;Object['defineProperty'](_0x5a5deb,_0x5cd4fd(0x70),{'enumerable':!![],'value':_0x5d2de2});}:function(_0x1dce9e,_0x38433a){_0x1dce9e['default']=_0x38433a;}),__importStar=this&&this[a567_0x1c10bf(0x8d)]||function(_0x1c7b8c){const _0x3847a4=a567_0x1c10bf;if(_0x1c7b8c&&_0x1c7b8c[_0x3847a4(0x83)])return _0x1c7b8c;var _0x2aa391={};if(_0x1c7b8c!=null){for(var _0x1d0672 in _0x1c7b8c)if(_0x1d0672!==_0x3847a4(0x70)&&Object[_0x3847a4(0x84)][_0x3847a4(0x79)][_0x3847a4(0x7e)](_0x1c7b8c,_0x1d0672))__createBinding(_0x2aa391,_0x1c7b8c,_0x1d0672);}return __setModuleDefault(_0x2aa391,_0x1c7b8c),_0x2aa391;},__importDefault=this&&this[a567_0x1c10bf(0x85)]||function(_0x2a8102){const _0x45eef9=a567_0x1c10bf;return _0x2a8102&&_0x2a8102[_0x45eef9(0x83)]?_0x2a8102:{'default':_0x2a8102};};Object[a567_0x1c10bf(0x78)](exports,a567_0x1c10bf(0x83),{'value':!![]});const Yup=__importStar(require('yup')),sequelize_1=require(a567_0x1c10bf(0x7d)),AppError_1=__importDefault(require(a567_0x1c10bf(0x6d))),Whatsapp_1=__importDefault(require('../../models/Whatsapp')),ShowWhatsAppService_1=__importDefault(require(a567_0x1c10bf(0x86))),AssociateWhatsappQueue_1=__importDefault(require('./AssociateWhatsappQueue')),UpdateWhatsAppService=async({whatsappData:_0x3d4833,whatsappId:_0x4940cf,companyId:_0x5710dc})=>{const _0x82bcb=a567_0x1c10bf,_0x36b870=Yup[_0x82bcb(0x6f)]()['shape']({'name':Yup[_0x82bcb(0x71)]()[_0x82bcb(0x8a)](0x2),'status':Yup[_0x82bcb(0x71)](),'isDefault':Yup[_0x82bcb(0x74)]()}),{name:_0x57798d,status:_0x806ddd,isDefault:_0x135ea6,session:_0x587aa6,greetingMessage:_0x4577bb,complationMessage:_0x4c066a,outOfHoursMessage:_0x2ad48f,ratingMessage:_0x11b1bf,queueIds:queueIds=[],token:_0x5902ea,timeSendQueue:_0x128fe4,sendIdQueue:sendIdQueue=null,promptId:_0x31e768,integrationId:_0x5aeff8,maxUseBotQueues:_0x45e6bf,timeUseBotQueues:_0x123430,expiresTicket:_0x7e1d20,expiresInactiveMessage:_0x45b7fd,allowGroup:_0x293156,importOldMessages:_0x3f10f9,importRecentMessages:_0xe065af,closedTicketsPostImported:_0xbd133f,importOldMessagesGroups:_0x332a8a}=_0x3d4833;try{await _0x36b870[_0x82bcb(0x7f)]({'name':_0x57798d,'status':_0x806ddd,'isDefault':_0x135ea6});}catch(_0x599b5b){throw new AppError_1[(_0x82bcb(0x70))](_0x599b5b['message']);}if(queueIds[_0x82bcb(0x75)]>0x1&&!_0x4577bb)throw new AppError_1[(_0x82bcb(0x70))](_0x82bcb(0x88));let _0x4b5ec2=null;_0x135ea6&&(_0x4b5ec2=await Whatsapp_1['default'][_0x82bcb(0x80)]({'where':{'isDefault':!![],'id':{[sequelize_1['Op'][_0x82bcb(0x76)]]:_0x4940cf},'companyId':_0x5710dc}}),_0x4b5ec2&&await _0x4b5ec2[_0x82bcb(0x8e)]({'isDefault':![]}));const _0x3763af=await(0x0,ShowWhatsAppService_1['default'])(_0x4940cf,_0x5710dc);return await _0x3763af[_0x82bcb(0x8e)]({'name':_0x57798d,'status':_0x806ddd,'session':_0x587aa6,'greetingMessage':_0x4577bb,'complationMessage':_0x4c066a,'outOfHoursMessage':_0x2ad48f,'ratingMessage':_0x11b1bf,'isDefault':_0x135ea6,'companyId':_0x5710dc,'token':_0x5902ea,'timeSendQueue':_0x128fe4,'sendIdQueue':sendIdQueue,'promptId':_0x31e768?_0x31e768:null,'integrationId':_0x5aeff8?_0x5aeff8:null,'maxUseBotQueues':_0x45e6bf,'timeUseBotQueues':_0x123430,'expiresTicket':_0x7e1d20,'expiresInactiveMessage':_0x45b7fd,'allowGroup':_0x293156,'importOldMessages':_0x3f10f9,'importRecentMessages':_0xe065af,'closedTicketsPostImported':_0xbd133f,'importOldMessagesGroups':_0x332a8a}),await(0x0,AssociateWhatsappQueue_1[_0x82bcb(0x70)])(_0x3763af,queueIds),{'whatsapp':_0x3763af,'oldDefaultWhatsapp':_0x4b5ec2};};exports[a567_0x1c10bf(0x70)]=UpdateWhatsAppService;