const a430_0x5533c3=a430_0x1e5c;function a430_0x5eed(){const _0x406468=['(((.+)+)+)+$','yup','722743RWxgbP','389575JhiIMI','toString','42RXLGJv','getOwnPropertyDescriptor','default','defineProperty','options','../../models/FilesOptions','shape','3758949kVXyOp','250402hOwXwK','./ShowService','findIndex','create','prototype','__createBinding','104877uAOkFG','writable','__setModuleDefault','update','message','__esModule','min','12bfdFJc','20wnVpqf','9024180cUvwHZ','1555712gxqICS','1dIsycd','validate','__importStar','constructor','all','get','search','map','__importDefault','hasOwnProperty','../../errors/AppError','reload'];a430_0x5eed=function(){return _0x406468;};return a430_0x5eed();}(function(_0x24a931,_0x9f1f6e){const _0x370e71=a430_0x1e5c,_0x4f8f46=_0x24a931();while(!![]){try{const _0x43cca7=-parseInt(_0x370e71(0x1d4))/0x1*(-parseInt(_0x370e71(0x1c3))/0x2)+parseInt(_0x370e71(0x1c9))/0x3+-parseInt(_0x370e71(0x1d0))/0x4*(parseInt(_0x370e71(0x1e3))/0x5)+-parseInt(_0x370e71(0x1e5))/0x6*(-parseInt(_0x370e71(0x1e2))/0x7)+-parseInt(_0x370e71(0x1d3))/0x8+-parseInt(_0x370e71(0x1c2))/0x9*(parseInt(_0x370e71(0x1d1))/0xa)+parseInt(_0x370e71(0x1d2))/0xb;if(_0x43cca7===_0x9f1f6e)break;else _0x4f8f46['push'](_0x4f8f46['shift']());}catch(_0x32392d){_0x4f8f46['push'](_0x4f8f46['shift']());}}}(a430_0x5eed,0x6b5c8));const a430_0x22232f=(function(){let _0x13df4c=!![];return function(_0x2ca22e,_0x6a8219){const _0x12028b=_0x13df4c?function(){if(_0x6a8219){const _0x2d8c3f=_0x6a8219['apply'](_0x2ca22e,arguments);return _0x6a8219=null,_0x2d8c3f;}}:function(){};return _0x13df4c=![],_0x12028b;};}()),a430_0x28e963=a430_0x22232f(this,function(){const _0x1189f8=a430_0x1e5c;return a430_0x28e963[_0x1189f8(0x1e4)]()[_0x1189f8(0x1da)](_0x1189f8(0x1e0))[_0x1189f8(0x1e4)]()[_0x1189f8(0x1d7)](a430_0x28e963)[_0x1189f8(0x1da)](_0x1189f8(0x1e0));});a430_0x28e963();'use strict';var __createBinding=this&&this[a430_0x5533c3(0x1c8)]||(Object[a430_0x5533c3(0x1c6)]?function(_0x54421a,_0x31ab49,_0x359068,_0x106bd7){const _0xa4fc27=a430_0x5533c3;if(_0x106bd7===undefined)_0x106bd7=_0x359068;var _0x312a37=Object[_0xa4fc27(0x1e6)](_0x31ab49,_0x359068);(!_0x312a37||(_0xa4fc27(0x1d9)in _0x312a37?!_0x31ab49[_0xa4fc27(0x1ce)]:_0x312a37[_0xa4fc27(0x1ca)]||_0x312a37['configurable']))&&(_0x312a37={'enumerable':!![],'get':function(){return _0x31ab49[_0x359068];}}),Object[_0xa4fc27(0x1e8)](_0x54421a,_0x106bd7,_0x312a37);}:function(_0x5c2b7d,_0x4e099e,_0xd5185c,_0x395870){if(_0x395870===undefined)_0x395870=_0xd5185c;_0x5c2b7d[_0x395870]=_0x4e099e[_0xd5185c];}),__setModuleDefault=this&&this[a430_0x5533c3(0x1cb)]||(Object[a430_0x5533c3(0x1c6)]?function(_0x354571,_0x5e3117){const _0x3fa7d6=a430_0x5533c3;Object[_0x3fa7d6(0x1e8)](_0x354571,_0x3fa7d6(0x1e7),{'enumerable':!![],'value':_0x5e3117});}:function(_0x441573,_0x4f7c20){const _0x346465=a430_0x5533c3;_0x441573[_0x346465(0x1e7)]=_0x4f7c20;}),__importStar=this&&this[a430_0x5533c3(0x1d6)]||function(_0x5f48a7){const _0x153b20=a430_0x5533c3;if(_0x5f48a7&&_0x5f48a7[_0x153b20(0x1ce)])return _0x5f48a7;var _0xc44e6e={};if(_0x5f48a7!=null){for(var _0x33075e in _0x5f48a7)if(_0x33075e!=='default'&&Object[_0x153b20(0x1c7)][_0x153b20(0x1dd)]['call'](_0x5f48a7,_0x33075e))__createBinding(_0xc44e6e,_0x5f48a7,_0x33075e);}return __setModuleDefault(_0xc44e6e,_0x5f48a7),_0xc44e6e;},__importDefault=this&&this[a430_0x5533c3(0x1dc)]||function(_0x10d014){const _0x68da2b=a430_0x5533c3;return _0x10d014&&_0x10d014[_0x68da2b(0x1ce)]?_0x10d014:{'default':_0x10d014};};function a430_0x1e5c(_0x36385c,_0x27e067){const _0x11aa74=a430_0x5eed();return a430_0x1e5c=function(_0x28e963,_0x22232f){_0x28e963=_0x28e963-0x1c2;let _0x5eed40=_0x11aa74[_0x28e963];return _0x5eed40;},a430_0x1e5c(_0x36385c,_0x27e067);}Object[a430_0x5533c3(0x1e8)](exports,a430_0x5533c3(0x1ce),{'value':!![]});const Yup=__importStar(require(a430_0x5533c3(0x1e1))),AppError_1=__importDefault(require(a430_0x5533c3(0x1de))),FilesOptions_1=__importDefault(require(a430_0x5533c3(0x1ea))),ShowService_1=__importDefault(require(a430_0x5533c3(0x1c4))),UpdateService=async({fileData:_0x3f60e9,id:_0x50a98e,companyId:_0x2893e6})=>{const _0x9cb3e3=a430_0x5533c3,_0x267563=await(0x0,ShowService_1['default'])(_0x50a98e,_0x2893e6),_0x36b7df=Yup['object']()[_0x9cb3e3(0x1eb)]({'name':Yup['string']()[_0x9cb3e3(0x1cf)](0x3)}),{name:_0x1e6874,message:_0xe60f6c,options:_0x25a33c}=_0x3f60e9;try{await _0x36b7df[_0x9cb3e3(0x1d5)]({'name':_0x1e6874});}catch(_0xdd899f){throw new AppError_1['default'](_0xdd899f[_0x9cb3e3(0x1cd)]);}return _0x25a33c&&(await Promise['all'](_0x25a33c['map'](async _0x1545ba=>{const _0x268cbd=_0x9cb3e3;await FilesOptions_1[_0x268cbd(0x1e7)]['upsert']({..._0x1545ba,'fileId':_0x267563['id']});})),await Promise[_0x9cb3e3(0x1d8)](_0x267563[_0x9cb3e3(0x1e9)][_0x9cb3e3(0x1db)](async _0x10ed42=>{const _0x54735f=_0x9cb3e3,_0x475618=_0x25a33c[_0x54735f(0x1c5)](_0x12d72a=>_0x12d72a['id']===_0x10ed42['id']);_0x475618===-0x1&&await FilesOptions_1[_0x54735f(0x1e7)]['destroy']({'where':{'id':_0x10ed42['id']}});}))),await _0x267563[_0x9cb3e3(0x1cc)]({'name':_0x1e6874,'message':_0xe60f6c}),await _0x267563[_0x9cb3e3(0x1df)]({'attributes':['id','name',_0x9cb3e3(0x1cd),'companyId'],'include':[_0x9cb3e3(0x1e9)]}),_0x267563;};exports[a430_0x5533c3(0x1e7)]=UpdateService;