const a430_0xb3e201=a430_0x2968;(function(_0x4bd237,_0x41e252){const _0x8e84b8=a430_0x2968,_0x2ff0c6=_0x4bd237();while(!![]){try{const _0x5ae432=-parseInt(_0x8e84b8(0x164))/0x1+-parseInt(_0x8e84b8(0x185))/0x2+parseInt(_0x8e84b8(0x180))/0x3*(parseInt(_0x8e84b8(0x182))/0x4)+parseInt(_0x8e84b8(0x184))/0x5*(parseInt(_0x8e84b8(0x189))/0x6)+parseInt(_0x8e84b8(0x18c))/0x7*(-parseInt(_0x8e84b8(0x18e))/0x8)+-parseInt(_0x8e84b8(0x17f))/0x9+parseInt(_0x8e84b8(0x169))/0xa*(parseInt(_0x8e84b8(0x18a))/0xb);if(_0x5ae432===_0x41e252)break;else _0x2ff0c6['push'](_0x2ff0c6['shift']());}catch(_0x3d8164){_0x2ff0c6['push'](_0x2ff0c6['shift']());}}}(a430_0x3a44,0x94467));const a430_0x380875=(function(){let _0x578ec3=!![];return function(_0x224e61,_0x5a5a34){const _0x4081dc=_0x578ec3?function(){const _0x2496d9=a430_0x2968;if(_0x5a5a34){const _0x1c9b77=_0x5a5a34[_0x2496d9(0x16d)](_0x224e61,arguments);return _0x5a5a34=null,_0x1c9b77;}}:function(){};return _0x578ec3=![],_0x4081dc;};}()),a430_0x4a1dc8=a430_0x380875(this,function(){const _0x47682d=a430_0x2968;return a430_0x4a1dc8[_0x47682d(0x16b)]()[_0x47682d(0x163)](_0x47682d(0x175))['toString']()[_0x47682d(0x16a)](a430_0x4a1dc8)[_0x47682d(0x163)](_0x47682d(0x175));});a430_0x4a1dc8();'use strict';function a430_0x3a44(){const _0x4ef1ce=['2020728cMEgzb','min','message','options','6072WbzSJh','2486qXOZok','findIndex','55559HUKMmI','default','1000olBGPQ','__setModuleDefault','yup','../../errors/AppError','writable','shape','search','16896mYUoOf','prototype','reload','__importStar','get','91330goBgSi','constructor','toString','configurable','apply','update','call','map','__esModule','getOwnPropertyDescriptor','destroy','object','(((.+)+)+)+$','companyId','defineProperty','./ShowService','../../models/FilesOptions','name','create','validate','upsert','hasOwnProperty','1264824dKBKuE','111414VdWGvZ','__importDefault','68MOvghX','all','355ycsRyC'];a430_0x3a44=function(){return _0x4ef1ce;};return a430_0x3a44();}var __createBinding=this&&this['__createBinding']||(Object[a430_0xb3e201(0x17b)]?function(_0x5b088b,_0x4a793c,_0xc360e1,_0x206444){const _0x4871f4=a430_0xb3e201;if(_0x206444===undefined)_0x206444=_0xc360e1;var _0x40687b=Object[_0x4871f4(0x172)](_0x4a793c,_0xc360e1);(!_0x40687b||(_0x4871f4(0x168)in _0x40687b?!_0x4a793c['__esModule']:_0x40687b[_0x4871f4(0x161)]||_0x40687b[_0x4871f4(0x16c)]))&&(_0x40687b={'enumerable':!![],'get':function(){return _0x4a793c[_0xc360e1];}}),Object[_0x4871f4(0x177)](_0x5b088b,_0x206444,_0x40687b);}:function(_0x4df165,_0x2a9c25,_0x9f346c,_0x4447a4){if(_0x4447a4===undefined)_0x4447a4=_0x9f346c;_0x4df165[_0x4447a4]=_0x2a9c25[_0x9f346c];}),__setModuleDefault=this&&this[a430_0xb3e201(0x18f)]||(Object[a430_0xb3e201(0x17b)]?function(_0x56780c,_0x57096c){const _0x6d2fb1=a430_0xb3e201;Object[_0x6d2fb1(0x177)](_0x56780c,_0x6d2fb1(0x18d),{'enumerable':!![],'value':_0x57096c});}:function(_0x5c313c,_0x36fe31){const _0x4a9acf=a430_0xb3e201;_0x5c313c[_0x4a9acf(0x18d)]=_0x36fe31;}),__importStar=this&&this[a430_0xb3e201(0x167)]||function(_0x25131a){const _0x4522cc=a430_0xb3e201;if(_0x25131a&&_0x25131a[_0x4522cc(0x171)])return _0x25131a;var _0x4f6c5a={};if(_0x25131a!=null){for(var _0x59bd89 in _0x25131a)if(_0x59bd89!=='default'&&Object[_0x4522cc(0x165)][_0x4522cc(0x17e)][_0x4522cc(0x16f)](_0x25131a,_0x59bd89))__createBinding(_0x4f6c5a,_0x25131a,_0x59bd89);}return __setModuleDefault(_0x4f6c5a,_0x25131a),_0x4f6c5a;},__importDefault=this&&this[a430_0xb3e201(0x181)]||function(_0x113221){const _0x41ee4c=a430_0xb3e201;return _0x113221&&_0x113221[_0x41ee4c(0x171)]?_0x113221:{'default':_0x113221};};Object[a430_0xb3e201(0x177)](exports,a430_0xb3e201(0x171),{'value':!![]});function a430_0x2968(_0x232a6f,_0x28b276){const _0x4aed84=a430_0x3a44();return a430_0x2968=function(_0x4a1dc8,_0x380875){_0x4a1dc8=_0x4a1dc8-0x160;let _0x3a4447=_0x4aed84[_0x4a1dc8];return _0x3a4447;},a430_0x2968(_0x232a6f,_0x28b276);}const Yup=__importStar(require(a430_0xb3e201(0x190))),AppError_1=__importDefault(require(a430_0xb3e201(0x160))),FilesOptions_1=__importDefault(require(a430_0xb3e201(0x179))),ShowService_1=__importDefault(require(a430_0xb3e201(0x178))),UpdateService=async({fileData:_0x22582c,id:_0x361c72,companyId:_0xf108f0})=>{const _0x5dd145=a430_0xb3e201,_0xf3f727=await(0x0,ShowService_1[_0x5dd145(0x18d)])(_0x361c72,_0xf108f0),_0x6559ce=Yup[_0x5dd145(0x174)]()[_0x5dd145(0x162)]({'name':Yup['string']()[_0x5dd145(0x186)](0x3)}),{name:_0x64f59f,message:_0x284fce,options:_0xa82b34}=_0x22582c;try{await _0x6559ce[_0x5dd145(0x17c)]({'name':_0x64f59f});}catch(_0x28da11){throw new AppError_1['default'](_0x28da11[_0x5dd145(0x187)]);}return _0xa82b34&&(await Promise[_0x5dd145(0x183)](_0xa82b34['map'](async _0x1447b4=>{const _0x2549c7=_0x5dd145;await FilesOptions_1[_0x2549c7(0x18d)][_0x2549c7(0x17d)]({..._0x1447b4,'fileId':_0xf3f727['id']});})),await Promise[_0x5dd145(0x183)](_0xf3f727[_0x5dd145(0x188)][_0x5dd145(0x170)](async _0x31e1c6=>{const _0x815156=_0x5dd145,_0x32e9a7=_0xa82b34[_0x815156(0x18b)](_0x3f277b=>_0x3f277b['id']===_0x31e1c6['id']);_0x32e9a7===-0x1&&await FilesOptions_1[_0x815156(0x18d)][_0x815156(0x173)]({'where':{'id':_0x31e1c6['id']}});}))),await _0xf3f727[_0x5dd145(0x16e)]({'name':_0x64f59f,'message':_0x284fce}),await _0xf3f727[_0x5dd145(0x166)]({'attributes':['id',_0x5dd145(0x17a),_0x5dd145(0x187),_0x5dd145(0x176)],'include':[_0x5dd145(0x188)]}),_0xf3f727;};exports[a430_0xb3e201(0x18d)]=UpdateService;