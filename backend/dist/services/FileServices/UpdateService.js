const a430_0x543be3=a430_0x4221;(function(_0x30692d,_0x8031bd){const _0x5f477d=a430_0x4221,_0x23d5c0=_0x30692d();while(!![]){try{const _0x209f5b=-parseInt(_0x5f477d(0xce))/0x1+parseInt(_0x5f477d(0xd2))/0x2+parseInt(_0x5f477d(0xd5))/0x3+-parseInt(_0x5f477d(0xe2))/0x4*(parseInt(_0x5f477d(0xbf))/0x5)+-parseInt(_0x5f477d(0xc7))/0x6+parseInt(_0x5f477d(0xbd))/0x7+parseInt(_0x5f477d(0xd4))/0x8*(parseInt(_0x5f477d(0xda))/0x9);if(_0x209f5b===_0x8031bd)break;else _0x23d5c0['push'](_0x23d5c0['shift']());}catch(_0x3db1b4){_0x23d5c0['push'](_0x23d5c0['shift']());}}}(a430_0x5922,0xd9c89));const a430_0x94086e=(function(){let _0x2e8422=!![];return function(_0x2819da,_0x1469ae){const _0x11c77d=_0x2e8422?function(){const _0x639bb2=a430_0x4221;if(_0x1469ae){const _0x737e35=_0x1469ae[_0x639bb2(0xe5)](_0x2819da,arguments);return _0x1469ae=null,_0x737e35;}}:function(){};return _0x2e8422=![],_0x11c77d;};}()),a430_0x4ed783=a430_0x94086e(this,function(){const _0x47dff5=a430_0x4221;return a430_0x4ed783[_0x47dff5(0xe4)]()[_0x47dff5(0xd3)](_0x47dff5(0xca))[_0x47dff5(0xe4)]()[_0x47dff5(0xcd)](a430_0x4ed783)[_0x47dff5(0xd3)](_0x47dff5(0xca));});a430_0x4ed783();function a430_0x5922(){const _0x548f88=['(((.+)+)+)+$','get','prototype','constructor','1253744uuVZrA','map','object','call','992902mfqmpT','search','24MmUsTn','1288806vNCKSg','__createBinding','options','default','findIndex','9041805xuSlnf','name','getOwnPropertyDescriptor','./ShowService','update','hasOwnProperty','upsert','reload','4kmqHrU','__esModule','toString','apply','writable','2524480DQyAJd','message','8119135Qywqug','yup','defineProperty','__importDefault','shape','all','companyId','min','3186096kdjZRk','destroy','../../errors/AppError'];a430_0x5922=function(){return _0x548f88;};return a430_0x5922();}function a430_0x4221(_0x3db310,_0xceb3f9){const _0x4b2112=a430_0x5922();return a430_0x4221=function(_0x4ed783,_0x94086e){_0x4ed783=_0x4ed783-0xbc;let _0x5922ab=_0x4b2112[_0x4ed783];return _0x5922ab;},a430_0x4221(_0x3db310,_0xceb3f9);}'use strict';var __createBinding=this&&this[a430_0x543be3(0xd6)]||(Object['create']?function(_0x408c07,_0x3edaa0,_0x28a186,_0x565dca){const _0x2324ff=a430_0x543be3;if(_0x565dca===undefined)_0x565dca=_0x28a186;var _0x429fec=Object[_0x2324ff(0xdc)](_0x3edaa0,_0x28a186);(!_0x429fec||(_0x2324ff(0xcb)in _0x429fec?!_0x3edaa0[_0x2324ff(0xe3)]:_0x429fec[_0x2324ff(0xbc)]||_0x429fec['configurable']))&&(_0x429fec={'enumerable':!![],'get':function(){return _0x3edaa0[_0x28a186];}}),Object[_0x2324ff(0xc1)](_0x408c07,_0x565dca,_0x429fec);}:function(_0xf6f074,_0x389ba1,_0x4b7466,_0x2dd1cf){if(_0x2dd1cf===undefined)_0x2dd1cf=_0x4b7466;_0xf6f074[_0x2dd1cf]=_0x389ba1[_0x4b7466];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x2f8a47,_0x71039c){const _0x4e5345=a430_0x543be3;Object[_0x4e5345(0xc1)](_0x2f8a47,_0x4e5345(0xd8),{'enumerable':!![],'value':_0x71039c});}:function(_0x4dccfb,_0xeea911){const _0x16c531=a430_0x543be3;_0x4dccfb[_0x16c531(0xd8)]=_0xeea911;}),__importStar=this&&this['__importStar']||function(_0x4cc0b6){const _0x4e4c70=a430_0x543be3;if(_0x4cc0b6&&_0x4cc0b6[_0x4e4c70(0xe3)])return _0x4cc0b6;var _0x22a139={};if(_0x4cc0b6!=null){for(var _0x444772 in _0x4cc0b6)if(_0x444772!==_0x4e4c70(0xd8)&&Object[_0x4e4c70(0xcc)][_0x4e4c70(0xdf)][_0x4e4c70(0xd1)](_0x4cc0b6,_0x444772))__createBinding(_0x22a139,_0x4cc0b6,_0x444772);}return __setModuleDefault(_0x22a139,_0x4cc0b6),_0x22a139;},__importDefault=this&&this[a430_0x543be3(0xc2)]||function(_0x1da97e){const _0x435dd8=a430_0x543be3;return _0x1da97e&&_0x1da97e[_0x435dd8(0xe3)]?_0x1da97e:{'default':_0x1da97e};};Object[a430_0x543be3(0xc1)](exports,a430_0x543be3(0xe3),{'value':!![]});const Yup=__importStar(require(a430_0x543be3(0xc0))),AppError_1=__importDefault(require(a430_0x543be3(0xc9))),FilesOptions_1=__importDefault(require('../../models/FilesOptions')),ShowService_1=__importDefault(require(a430_0x543be3(0xdd))),UpdateService=async({fileData:_0x5aa7c3,id:_0xd53dbd,companyId:_0x3b0358})=>{const _0x4064bd=a430_0x543be3,_0x44f0c7=await(0x0,ShowService_1[_0x4064bd(0xd8)])(_0xd53dbd,_0x3b0358),_0x3f7c33=Yup[_0x4064bd(0xd0)]()[_0x4064bd(0xc3)]({'name':Yup['string']()[_0x4064bd(0xc6)](0x3)}),{name:_0xfca094,message:_0x300e52,options:_0xc28fde}=_0x5aa7c3;try{await _0x3f7c33['validate']({'name':_0xfca094});}catch(_0x3e4311){throw new AppError_1[(_0x4064bd(0xd8))](_0x3e4311[_0x4064bd(0xbe)]);}return _0xc28fde&&(await Promise['all'](_0xc28fde[_0x4064bd(0xcf)](async _0x2d7f37=>{const _0x4ba643=_0x4064bd;await FilesOptions_1[_0x4ba643(0xd8)][_0x4ba643(0xe0)]({..._0x2d7f37,'fileId':_0x44f0c7['id']});})),await Promise[_0x4064bd(0xc4)](_0x44f0c7['options'][_0x4064bd(0xcf)](async _0x54eae5=>{const _0x14dc34=_0x4064bd,_0x1ade64=_0xc28fde[_0x14dc34(0xd9)](_0x888e65=>_0x888e65['id']===_0x54eae5['id']);_0x1ade64===-0x1&&await FilesOptions_1['default'][_0x14dc34(0xc8)]({'where':{'id':_0x54eae5['id']}});}))),await _0x44f0c7[_0x4064bd(0xde)]({'name':_0xfca094,'message':_0x300e52}),await _0x44f0c7[_0x4064bd(0xe1)]({'attributes':['id',_0x4064bd(0xdb),_0x4064bd(0xbe),_0x4064bd(0xc5)],'include':[_0x4064bd(0xd7)]}),_0x44f0c7;};exports['default']=UpdateService;