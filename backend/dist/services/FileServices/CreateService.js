const a424_0x2deefe=a424_0xdd7e;(function(_0xe8b7c2,_0x4534d9){const _0x5a028d=a424_0xdd7e,_0x1886da=_0xe8b7c2();while(!![]){try{const _0x28ff75=-parseInt(_0x5a028d(0x1a4))/0x1*(-parseInt(_0x5a028d(0x1bd))/0x2)+-parseInt(_0x5a028d(0x1a8))/0x3*(parseInt(_0x5a028d(0x1c7))/0x4)+parseInt(_0x5a028d(0x1ac))/0x5*(parseInt(_0x5a028d(0x1c8))/0x6)+parseInt(_0x5a028d(0x1c4))/0x7+-parseInt(_0x5a028d(0x1b8))/0x8*(parseInt(_0x5a028d(0x19c))/0x9)+-parseInt(_0x5a028d(0x1b6))/0xa*(parseInt(_0x5a028d(0x1b0))/0xb)+parseInt(_0x5a028d(0x1c5))/0xc*(parseInt(_0x5a028d(0x19f))/0xd);if(_0x28ff75===_0x4534d9)break;else _0x1886da['push'](_0x1886da['shift']());}catch(_0xa44fd5){_0x1886da['push'](_0x1886da['shift']());}}}(a424_0x48b4,0x4ddf6));function a424_0x48b4(){const _0x9d73d8=['hasOwnProperty','90CCCbnM','__setModuleDefault','2112YbuDxg','Check-unique-name','configurable','length','create','2VXTkhf','__esModule','ERR_RATING_NAME_ALREADY_EXISTS','default','prototype','string','object','4350346rIOxAZ','154788VkGpSl','(((.+)+)+)+$','4BYjuzt','4542rNnPFb','8478nXkzIV','defineProperty','getOwnPropertyDescriptor','494fEHExk','message','__importDefault','constructor','./ShowService','250087mdyWTX','__importStar','findOne','search','1905174AWdekq','toString','upsert','shape','255zgVCAn','all','validate','min','241538RSKotX','../../models/FilesOptions','get','apply','writable'];a424_0x48b4=function(){return _0x9d73d8;};return a424_0x48b4();}const a424_0x2abec4=(function(){let _0x3e5a65=!![];return function(_0x1de3b6,_0x21ae0b){const _0x2c16dc=_0x3e5a65?function(){const _0x5cbfd9=a424_0xdd7e;if(_0x21ae0b){const _0x4752b3=_0x21ae0b[_0x5cbfd9(0x1b3)](_0x1de3b6,arguments);return _0x21ae0b=null,_0x4752b3;}}:function(){};return _0x3e5a65=![],_0x2c16dc;};}()),a424_0x54a773=a424_0x2abec4(this,function(){const _0x2d3498=a424_0xdd7e;return a424_0x54a773[_0x2d3498(0x1a9)]()[_0x2d3498(0x1a7)](_0x2d3498(0x1c6))['toString']()[_0x2d3498(0x1a2)](a424_0x54a773)[_0x2d3498(0x1a7)]('(((.+)+)+)+$');});a424_0x54a773();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a424_0x2deefe(0x1bc)]?function(_0x3f33f7,_0x1cdfe1,_0xdbfbf2,_0x5de1c2){const _0x34acf7=a424_0x2deefe;if(_0x5de1c2===undefined)_0x5de1c2=_0xdbfbf2;var _0x51f073=Object[_0x34acf7(0x19e)](_0x1cdfe1,_0xdbfbf2);(!_0x51f073||(_0x34acf7(0x1b2)in _0x51f073?!_0x1cdfe1[_0x34acf7(0x1be)]:_0x51f073[_0x34acf7(0x1b4)]||_0x51f073[_0x34acf7(0x1ba)]))&&(_0x51f073={'enumerable':!![],'get':function(){return _0x1cdfe1[_0xdbfbf2];}}),Object[_0x34acf7(0x19d)](_0x3f33f7,_0x5de1c2,_0x51f073);}:function(_0x4c23c4,_0x193a9d,_0x3d42df,_0x1e7554){if(_0x1e7554===undefined)_0x1e7554=_0x3d42df;_0x4c23c4[_0x1e7554]=_0x193a9d[_0x3d42df];}),__setModuleDefault=this&&this[a424_0x2deefe(0x1b7)]||(Object[a424_0x2deefe(0x1bc)]?function(_0x2de46e,_0x32c691){const _0x272041=a424_0x2deefe;Object['defineProperty'](_0x2de46e,_0x272041(0x1c0),{'enumerable':!![],'value':_0x32c691});}:function(_0x12a96e,_0x2648f7){const _0x2d2ae4=a424_0x2deefe;_0x12a96e[_0x2d2ae4(0x1c0)]=_0x2648f7;}),__importStar=this&&this[a424_0x2deefe(0x1a5)]||function(_0x434411){const _0x59322b=a424_0x2deefe;if(_0x434411&&_0x434411['__esModule'])return _0x434411;var _0x3fa7e4={};if(_0x434411!=null){for(var _0x1a701c in _0x434411)if(_0x1a701c!=='default'&&Object[_0x59322b(0x1c1)][_0x59322b(0x1b5)]['call'](_0x434411,_0x1a701c))__createBinding(_0x3fa7e4,_0x434411,_0x1a701c);}return __setModuleDefault(_0x3fa7e4,_0x434411),_0x3fa7e4;},__importDefault=this&&this[a424_0x2deefe(0x1a1)]||function(_0x3de60a){const _0x59caa6=a424_0x2deefe;return _0x3de60a&&_0x3de60a[_0x59caa6(0x1be)]?_0x3de60a:{'default':_0x3de60a};};Object[a424_0x2deefe(0x19d)](exports,'__esModule',{'value':!![]});function a424_0xdd7e(_0x39e546,_0x21ee67){const _0x2ea8dd=a424_0x48b4();return a424_0xdd7e=function(_0x54a773,_0x2abec4){_0x54a773=_0x54a773-0x19c;let _0x48b4e1=_0x2ea8dd[_0x54a773];return _0x48b4e1;},a424_0xdd7e(_0x39e546,_0x21ee67);}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),Files_1=__importDefault(require('../../models/Files')),FilesOptions_1=__importDefault(require(a424_0x2deefe(0x1b1))),ShowService_1=__importDefault(require(a424_0x2deefe(0x1a3))),CreateService=async({name:_0x25ddfe,message:_0x1942f9,companyId:_0x1b969f,options:_0x25be22})=>{const _0x2ebd79=a424_0x2deefe,_0x483d27=Yup[_0x2ebd79(0x1c3)]()[_0x2ebd79(0x1ab)]({'name':Yup[_0x2ebd79(0x1c2)]()['required']()[_0x2ebd79(0x1af)](0x3)['test'](_0x2ebd79(0x1b9),_0x2ebd79(0x1bf),async _0x13f7ca=>{const _0x1a321e=_0x2ebd79;if(_0x13f7ca){const _0x437e52=await Files_1[_0x1a321e(0x1c0)][_0x1a321e(0x1a6)]({'where':{'name':_0x13f7ca,'companyId':_0x1b969f}});return!_0x437e52;}return![];})});try{await _0x483d27[_0x2ebd79(0x1ae)]({'name':_0x25ddfe});}catch(_0x340e8d){throw new AppError_1[(_0x2ebd79(0x1c0))](_0x340e8d[_0x2ebd79(0x1a0)]);}let _0x3cf7d9=await Files_1[_0x2ebd79(0x1c0)][_0x2ebd79(0x1bc)]({'name':_0x25ddfe,'message':_0x1942f9,'companyId':_0x1b969f});return _0x25be22&&_0x25be22[_0x2ebd79(0x1bb)]>0x0&&await Promise[_0x2ebd79(0x1ad)](_0x25be22['map'](async _0x51a329=>{const _0x2aa642=_0x2ebd79;await FilesOptions_1[_0x2aa642(0x1c0)][_0x2aa642(0x1aa)]({..._0x51a329,'fileId':_0x3cf7d9['id']});})),_0x3cf7d9=await(0x0,ShowService_1[_0x2ebd79(0x1c0)])(_0x3cf7d9['id'],_0x1b969f),_0x3cf7d9;};exports[a424_0x2deefe(0x1c0)]=CreateService;