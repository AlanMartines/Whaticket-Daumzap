const a408_0x41e978=a408_0x261f;(function(_0x5b4c11,_0x40ad7c){const _0x18af58=a408_0x261f,_0xd5cbc8=_0x5b4c11();while(!![]){try{const _0x5e651a=-parseInt(_0x18af58(0x20d))/0x1+parseInt(_0x18af58(0x1f7))/0x2+-parseInt(_0x18af58(0x200))/0x3+parseInt(_0x18af58(0x20e))/0x4*(parseInt(_0x18af58(0x1f4))/0x5)+-parseInt(_0x18af58(0x20f))/0x6*(-parseInt(_0x18af58(0x1ef))/0x7)+-parseInt(_0x18af58(0x1fe))/0x8*(parseInt(_0x18af58(0x1f6))/0x9)+-parseInt(_0x18af58(0x204))/0xa;if(_0x5e651a===_0x40ad7c)break;else _0xd5cbc8['push'](_0xd5cbc8['shift']());}catch(_0x1e2b7c){_0xd5cbc8['push'](_0xd5cbc8['shift']());}}}(a408_0x41b6,0xb7fdc));function a408_0x41b6(){const _0x956166=['(((.+)+)+)+$','replace','save','Nome','values','number','Numero','xlsx','Número','jid','exists','336112wgVmvV','toString','nome','isWhatsappValid','has','5MXuClT','defineProperty','9nfZdtd','1979472gkrCfw','numero','ImportContacts','logger','Número\x20de\x20contato\x20inválido:\x20','lodash','findOrCreate','1517392pUGNsm','Sheets','1368753hprnSO','map','search','email','1382190yKEssK','E-mail','Email','número','sheet_to_json','../../utils/logger','__importDefault','__esModule','contactListId','1078597ePNBQv','936676DjqScL','174UYmlne','head','../WbotServices/CheckNumber','e-mail','utils','companyId','default','constructor'];a408_0x41b6=function(){return _0x956166;};return a408_0x41b6();}const a408_0x5af0e1=(function(){let _0x48bc80=!![];return function(_0x28d015,_0x5ad436){const _0x40a008=_0x48bc80?function(){if(_0x5ad436){const _0x386962=_0x5ad436['apply'](_0x28d015,arguments);return _0x5ad436=null,_0x386962;}}:function(){};return _0x48bc80=![],_0x40a008;};}()),a408_0x298262=a408_0x5af0e1(this,function(){const _0x4902da=a408_0x261f;return a408_0x298262[_0x4902da(0x1f0)]()[_0x4902da(0x202)](_0x4902da(0x1e4))['toString']()[_0x4902da(0x216)](a408_0x298262)[_0x4902da(0x202)](_0x4902da(0x1e4));});a408_0x298262();'use strict';var __importDefault=this&&this[a408_0x41e978(0x20a)]||function(_0x540ef9){const _0xbc84f6=a408_0x41e978;return _0x540ef9&&_0x540ef9[_0xbc84f6(0x20b)]?_0x540ef9:{'default':_0x540ef9};};Object[a408_0x41e978(0x1f5)](exports,a408_0x41e978(0x20b),{'value':!![]}),exports[a408_0x41e978(0x1f9)]=void 0x0;const lodash_1=require(a408_0x41e978(0x1fc)),xlsx_1=__importDefault(require(a408_0x41e978(0x1eb))),lodash_2=require(a408_0x41e978(0x1fc)),ContactListItem_1=__importDefault(require('../../models/ContactListItem')),CheckNumber_1=__importDefault(require(a408_0x41e978(0x211))),logger_1=require(a408_0x41e978(0x209));function a408_0x261f(_0x33b6f2,_0x1860a9){const _0xeda0b4=a408_0x41b6();return a408_0x261f=function(_0x298262,_0x5af0e1){_0x298262=_0x298262-0x1e4;let _0x41b6e0=_0xeda0b4[_0x298262];return _0x41b6e0;},a408_0x261f(_0x33b6f2,_0x1860a9);}async function ImportContacts(_0x23a4e8,_0x13c08b,_0x32a2ae){const _0x242af4=a408_0x41e978,_0x35767f=xlsx_1[_0x242af4(0x215)]['readFile'](_0x32a2ae?.['path']),_0x10f7b6=(0x0,lodash_1[_0x242af4(0x210)])(Object[_0x242af4(0x1e8)](_0x35767f[_0x242af4(0x1ff)])),_0x354ee5=xlsx_1[_0x242af4(0x215)][_0x242af4(0x213)][_0x242af4(0x208)](_0x10f7b6,{'header':0x0}),_0x569caa=_0x354ee5[_0x242af4(0x201)](_0x5956ea=>{const _0x5639a2=_0x242af4;let _0x404193='',_0x1ff872='',_0x18e4ff='';return((0x0,lodash_2['has'])(_0x5956ea,_0x5639a2(0x1f1))||(0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,_0x5639a2(0x1e7)))&&(_0x404193=_0x5956ea[_0x5639a2(0x1f1)]||_0x5956ea[_0x5639a2(0x1e7)]),((0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,_0x5639a2(0x1f8))||(0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,'número')||(0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,_0x5639a2(0x1ea))||(0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,_0x5639a2(0x1ec)))&&(_0x1ff872=_0x5956ea[_0x5639a2(0x1f8)]||_0x5956ea[_0x5639a2(0x207)]||_0x5956ea[_0x5639a2(0x1ea)]||_0x5956ea[_0x5639a2(0x1ec)],_0x1ff872=(''+_0x1ff872)[_0x5639a2(0x1e5)](/\D/g,'')),((0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,_0x5639a2(0x203))||(0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,_0x5639a2(0x212))||(0x0,lodash_2['has'])(_0x5956ea,_0x5639a2(0x206))||(0x0,lodash_2[_0x5639a2(0x1f3)])(_0x5956ea,_0x5639a2(0x205)))&&(_0x18e4ff=_0x5956ea['email']||_0x5956ea[_0x5639a2(0x212)]||_0x5956ea['Email']||_0x5956ea[_0x5639a2(0x205)]),{'name':_0x404193,'number':_0x1ff872,'email':_0x18e4ff,'contactListId':_0x23a4e8,'companyId':_0x13c08b};}),_0x28d56a=[];for(const _0x39f303 of _0x569caa){const [_0x5c8a65,_0x403aaf]=await ContactListItem_1[_0x242af4(0x215)][_0x242af4(0x1fd)]({'where':{'number':''+_0x39f303['number'],'contactListId':_0x39f303[_0x242af4(0x20c)],'companyId':_0x39f303[_0x242af4(0x214)]},'defaults':_0x39f303});_0x403aaf&&_0x28d56a['push'](_0x5c8a65);}if(_0x28d56a)for(let _0x15bc2e of _0x28d56a){try{const _0x326f64=await(0x0,CheckNumber_1['default'])(_0x15bc2e[_0x242af4(0x1e9)],_0x13c08b);_0x15bc2e[_0x242af4(0x1f2)]=_0x326f64[_0x242af4(0x1ee)];const _0x9837b1=_0x326f64[_0x242af4(0x1ed)][_0x242af4(0x1e5)](/\D/g,'');_0x15bc2e[_0x242af4(0x1e9)]=_0x9837b1,await _0x15bc2e[_0x242af4(0x1e6)]();}catch(_0x46f3df){logger_1[_0x242af4(0x1fa)]['error'](_0x242af4(0x1fb)+_0x15bc2e[_0x242af4(0x1e9)]);}}return _0x28d56a;}exports['ImportContacts']=ImportContacts;