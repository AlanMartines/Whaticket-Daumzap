const a408_0x459f32=a408_0x1a98;(function(_0x4d756,_0x2b83fd){const _0x2b2afb=a408_0x1a98,_0x2e2a2c=_0x4d756();while(!![]){try{const _0x39a2dd=parseInt(_0x2b2afb(0xfe))/0x1*(parseInt(_0x2b2afb(0xdf))/0x2)+-parseInt(_0x2b2afb(0xdd))/0x3*(parseInt(_0x2b2afb(0xcf))/0x4)+parseInt(_0x2b2afb(0xf2))/0x5*(parseInt(_0x2b2afb(0xe6))/0x6)+parseInt(_0x2b2afb(0xdc))/0x7*(-parseInt(_0x2b2afb(0xf6))/0x8)+-parseInt(_0x2b2afb(0xd8))/0x9+-parseInt(_0x2b2afb(0xe9))/0xa*(-parseInt(_0x2b2afb(0xf8))/0xb)+-parseInt(_0x2b2afb(0xe2))/0xc*(-parseInt(_0x2b2afb(0xfb))/0xd);if(_0x39a2dd===_0x2b83fd)break;else _0x2e2a2c['push'](_0x2e2a2c['shift']());}catch(_0x379808){_0x2e2a2c['push'](_0x2e2a2c['shift']());}}}(a408_0x1bce,0xdac14));const a408_0x261f9e=(function(){let _0x3220b5=!![];return function(_0x523b27,_0x622df2){const _0xfcef0d=_0x3220b5?function(){const _0x464881=a408_0x1a98;if(_0x622df2){const _0x12345f=_0x622df2[_0x464881(0xe5)](_0x523b27,arguments);return _0x622df2=null,_0x12345f;}}:function(){};return _0x3220b5=![],_0xfcef0d;};}()),a408_0x57ae30=a408_0x261f9e(this,function(){const _0x304380=a408_0x1a98;return a408_0x57ae30[_0x304380(0xd7)]()[_0x304380(0xfd)](_0x304380(0xfa))['toString']()[_0x304380(0xce)](a408_0x57ae30)[_0x304380(0xfd)]('(((.+)+)+)+$');});a408_0x57ae30();'use strict';var __importDefault=this&&this[a408_0x459f32(0x102)]||function(_0x4fc09b){return _0x4fc09b&&_0x4fc09b['__esModule']?_0x4fc09b:{'default':_0x4fc09b};};function a408_0x1a98(_0x53256f,_0x43b41d){const _0x31cccf=a408_0x1bce();return a408_0x1a98=function(_0x57ae30,_0x261f9e){_0x57ae30=_0x57ae30-0xcd;let _0x1bce14=_0x31cccf[_0x57ae30];return _0x1bce14;},a408_0x1a98(_0x53256f,_0x43b41d);}Object[a408_0x459f32(0xea)](exports,a408_0x459f32(0xd2),{'value':!![]}),exports[a408_0x459f32(0xcd)]=void 0x0;const lodash_1=require('lodash'),xlsx_1=__importDefault(require(a408_0x459f32(0xf1))),lodash_2=require(a408_0x459f32(0xf7)),ContactListItem_1=__importDefault(require(a408_0x459f32(0xd3))),CheckNumber_1=__importDefault(require(a408_0x459f32(0xf0))),logger_1=require(a408_0x459f32(0xf4));function a408_0x1bce(){const _0xae6030=['map','exists','E-mail','Número','../WbotServices/CheckNumber','xlsx','5QdGzoN','replace','../../utils/logger','Email','1552trsWCS','lodash','1742917RqJEKs','número','(((.+)+)+)+$','514033sVPUts','e-mail','search','555lryhpZ','default','isWhatsappValid','save','__importDefault','ImportContacts','constructor','30260YmahEI','error','contactListId','__esModule','../../models/ContactListItem','has','email','Número\x20de\x20contato\x20inválido:\x20','toString','8517636TSmHlM','jid','numero','push','18634cKrnIf','24uxQugV','findOrCreate','2454WbgINN','head','path','240JqUhOb','number','companyId','apply','3784038FwIiTC','nome','sheet_to_json','20vurwsq','defineProperty','Numero'];a408_0x1bce=function(){return _0xae6030;};return a408_0x1bce();}async function ImportContacts(_0x37f0d7,_0x5ad47c,_0x1bf8bd){const _0x10b88b=a408_0x459f32,_0x6960a2=xlsx_1[_0x10b88b(0xff)]['readFile'](_0x1bf8bd?.[_0x10b88b(0xe1)]),_0x1e7783=(0x0,lodash_1[_0x10b88b(0xe0)])(Object['values'](_0x6960a2['Sheets'])),_0xdbe6b2=xlsx_1[_0x10b88b(0xff)]['utils'][_0x10b88b(0xe8)](_0x1e7783,{'header':0x0}),_0x45bba5=_0xdbe6b2[_0x10b88b(0xec)](_0x5f15aa=>{const _0x3f80ad=_0x10b88b;let _0x4ba9df='',_0x5b8848='',_0x266c0a='';return((0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,_0x3f80ad(0xe7))||(0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,'Nome'))&&(_0x4ba9df=_0x5f15aa[_0x3f80ad(0xe7)]||_0x5f15aa['Nome']),((0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,'numero')||(0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,_0x3f80ad(0xf9))||(0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,_0x3f80ad(0xeb))||(0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,_0x3f80ad(0xef)))&&(_0x5b8848=_0x5f15aa[_0x3f80ad(0xda)]||_0x5f15aa[_0x3f80ad(0xf9)]||_0x5f15aa['Numero']||_0x5f15aa[_0x3f80ad(0xef)],_0x5b8848=(''+_0x5b8848)[_0x3f80ad(0xf3)](/\D/g,'')),((0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,'email')||(0x0,lodash_2['has'])(_0x5f15aa,_0x3f80ad(0xfc))||(0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,'Email')||(0x0,lodash_2[_0x3f80ad(0xd4)])(_0x5f15aa,_0x3f80ad(0xee)))&&(_0x266c0a=_0x5f15aa[_0x3f80ad(0xd5)]||_0x5f15aa[_0x3f80ad(0xfc)]||_0x5f15aa[_0x3f80ad(0xf5)]||_0x5f15aa[_0x3f80ad(0xee)]),{'name':_0x4ba9df,'number':_0x5b8848,'email':_0x266c0a,'contactListId':_0x37f0d7,'companyId':_0x5ad47c};}),_0x20f53d=[];for(const _0x1d831a of _0x45bba5){const [_0x5956e4,_0x178aba]=await ContactListItem_1[_0x10b88b(0xff)][_0x10b88b(0xde)]({'where':{'number':''+_0x1d831a['number'],'contactListId':_0x1d831a[_0x10b88b(0xd1)],'companyId':_0x1d831a[_0x10b88b(0xe4)]},'defaults':_0x1d831a});_0x178aba&&_0x20f53d[_0x10b88b(0xdb)](_0x5956e4);}if(_0x20f53d)for(let _0xc7c54e of _0x20f53d){try{const _0x549cd9=await(0x0,CheckNumber_1[_0x10b88b(0xff)])(_0xc7c54e[_0x10b88b(0xe3)],_0x5ad47c);_0xc7c54e[_0x10b88b(0x100)]=_0x549cd9[_0x10b88b(0xed)];const _0x4b1ae0=_0x549cd9[_0x10b88b(0xd9)]['replace'](/\D/g,'');_0xc7c54e[_0x10b88b(0xe3)]=_0x4b1ae0,await _0xc7c54e[_0x10b88b(0x101)]();}catch(_0x5b9582){logger_1['logger'][_0x10b88b(0xd0)](_0x10b88b(0xd6)+_0xc7c54e[_0x10b88b(0xe3)]);}}return _0x20f53d;}exports[a408_0x459f32(0xcd)]=ImportContacts;