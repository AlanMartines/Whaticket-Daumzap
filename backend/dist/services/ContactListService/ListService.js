const a409_0x3cabe6=a409_0x4e0d;(function(_0x2fd127,_0x145d54){const _0x4e77ce=a409_0x4e0d,_0x70ebc3=_0x2fd127();while(!![]){try{const _0x313264=-parseInt(_0x4e77ce(0x16c))/0x1*(parseInt(_0x4e77ce(0x160))/0x2)+parseInt(_0x4e77ce(0x173))/0x3+parseInt(_0x4e77ce(0x177))/0x4+parseInt(_0x4e77ce(0x157))/0x5+-parseInt(_0x4e77ce(0x16a))/0x6+-parseInt(_0x4e77ce(0x168))/0x7+parseInt(_0x4e77ce(0x15b))/0x8;if(_0x313264===_0x145d54)break;else _0x70ebc3['push'](_0x70ebc3['shift']());}catch(_0x467747){_0x70ebc3['push'](_0x70ebc3['shift']());}}}(a409_0xee0f,0xeb527));const a409_0x17b108=(function(){let _0x5a621e=!![];return function(_0x275b20,_0x4209ec){const _0x3ca4df=_0x5a621e?function(){const _0x3a5867=a409_0x4e0d;if(_0x4209ec){const _0x3216a5=_0x4209ec[_0x3a5867(0x15d)](_0x275b20,arguments);return _0x4209ec=null,_0x3216a5;}}:function(){};return _0x5a621e=![],_0x3ca4df;};}()),a409_0x1f55f2=a409_0x17b108(this,function(){const _0x3ce4f4=a409_0x4e0d;return a409_0x1f55f2[_0x3ce4f4(0x15f)]()[_0x3ce4f4(0x159)](_0x3ce4f4(0x15e))['toString']()['constructor'](a409_0x1f55f2)['search'](_0x3ce4f4(0x15e));});a409_0x1f55f2();'use strict';var __importDefault=this&&this[a409_0x3cabe6(0x169)]||function(_0x239684){const _0x2d7c61=a409_0x3cabe6;return _0x239684&&_0x239684[_0x2d7c61(0x16d)]?_0x239684:{'default':_0x239684};};function a409_0xee0f(){const _0x1729f0=['(((.+)+)+)+$','toString','663206NHhNBK','isEmpty','sequelize','ContactList.id','where','contacts.id','ASC','toLowerCase','4577622mbABaW','__importDefault','8771238CIoyyG','findAndCountAll','1rYVtCn','__esModule','name','col','../../models/ContactListItem','length','LIKE','2716062qDLPru','defineProperty','LOWER','lodash','6724248STQfQR','1019850hlphuz','../../models/ContactList','search','default','4967320mGslQC','contactsCount','apply'];a409_0xee0f=function(){return _0x1729f0;};return a409_0xee0f();}Object[a409_0x3cabe6(0x174)](exports,a409_0x3cabe6(0x16d),{'value':!![]});function a409_0x4e0d(_0x11a0de,_0x3de689){const _0x1ffc61=a409_0xee0f();return a409_0x4e0d=function(_0x1f55f2,_0x17b108){_0x1f55f2=_0x1f55f2-0x157;let _0xee0fa=_0x1ffc61[_0x1f55f2];return _0xee0fa;},a409_0x4e0d(_0x11a0de,_0x3de689);}const sequelize_1=require(a409_0x3cabe6(0x162)),ContactList_1=__importDefault(require(a409_0x3cabe6(0x158))),ContactListItem_1=__importDefault(require(a409_0x3cabe6(0x170))),lodash_1=require(a409_0x3cabe6(0x176)),ListService=async({searchParam:searchParam='',pageNumber:pageNumber='1',companyId:_0x4848f2})=>{const _0x26c1a2=a409_0x3cabe6;let _0x9e0435={'companyId':_0x4848f2};!(0x0,lodash_1[_0x26c1a2(0x161)])(searchParam)&&(_0x9e0435={..._0x9e0435,[sequelize_1['Op']['or']]:[{'name':(0x0,sequelize_1[_0x26c1a2(0x164)])((0x0,sequelize_1['fn'])(_0x26c1a2(0x175),(0x0,sequelize_1[_0x26c1a2(0x16f)])('ContactList.name')),_0x26c1a2(0x172),'%'+searchParam[_0x26c1a2(0x167)]()['trim']()+'%')}]});const _0x334d31=0x14,_0x3b897d=_0x334d31*(+pageNumber-0x1),{count:_0x4f5e13,rows:_0x44f976}=await ContactList_1[_0x26c1a2(0x15a)][_0x26c1a2(0x16b)]({'where':_0x9e0435,'limit':_0x334d31,'offset':_0x3b897d,'order':[[_0x26c1a2(0x16e),_0x26c1a2(0x166)]],'subQuery':![],'include':[{'model':ContactListItem_1['default'],'as':'contacts','attributes':[],'required':![]}],'attributes':['id',_0x26c1a2(0x16e),[(0x0,sequelize_1['fn'])('count',(0x0,sequelize_1[_0x26c1a2(0x16f)])(_0x26c1a2(0x165))),_0x26c1a2(0x15c)]],'group':[_0x26c1a2(0x163)]}),_0x2d8246=_0x4f5e13>_0x3b897d+_0x44f976[_0x26c1a2(0x171)];return{'records':_0x44f976,'count':_0x4f5e13,'hasMore':_0x2d8246};};exports['default']=ListService;