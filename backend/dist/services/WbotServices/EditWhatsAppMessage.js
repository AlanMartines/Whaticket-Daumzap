function a542_0x236e(){const _0x21869c=['../../models/Ticket','__esModule','defineProperty','4528656fGzVwN','(((.+)+)+)+$','3340900UrVZdl','../../helpers/GetTicketWbot','parse','783558hpKXzo','427940wiEMmH','contact','20089uFpHKd','constructor','toString','3lPOjJI','body','7AZpUMC','28nvNycS','default','../../models/OldMessage','ticketId','dataJson','18mtyJcO','No\x20message\x20found\x20with\x20this\x20ID.','search','ERR_EDITING_WAPP_MSG','3874565wNaCao','findByPk','sendMessage','apply','update','14069715eUUNAC','ticket'];a542_0x236e=function(){return _0x21869c;};return a542_0x236e();}const a542_0x76c91a=a542_0x1254;(function(_0x3e7619,_0x435db4){const _0x2c86b9=a542_0x1254,_0x4ee4a7=_0x3e7619();while(!![]){try{const _0x2ef537=-parseInt(_0x2c86b9(0xa7))/0x1*(parseInt(_0x2c86b9(0xad))/0x2)+-parseInt(_0x2c86b9(0xaa))/0x3*(-parseInt(_0x2c86b9(0xa1))/0x4)+-parseInt(_0x2c86b9(0xb6))/0x5+parseInt(_0x2c86b9(0xa4))/0x6*(-parseInt(_0x2c86b9(0xac))/0x7)+-parseInt(_0x2c86b9(0x9f))/0x8+-parseInt(_0x2c86b9(0xb2))/0x9*(-parseInt(_0x2c86b9(0xa5))/0xa)+parseInt(_0x2c86b9(0x9a))/0xb;if(_0x2ef537===_0x435db4)break;else _0x4ee4a7['push'](_0x4ee4a7['shift']());}catch(_0x215a35){_0x4ee4a7['push'](_0x4ee4a7['shift']());}}}(a542_0x236e,0x6d244));const a542_0xe3db22=(function(){let _0x137712=!![];return function(_0x4d6f64,_0x17ac7c){const _0x5c1161=_0x137712?function(){const _0x577cd2=a542_0x1254;if(_0x17ac7c){const _0x2aa442=_0x17ac7c[_0x577cd2(0xb9)](_0x4d6f64,arguments);return _0x17ac7c=null,_0x2aa442;}}:function(){};return _0x137712=![],_0x5c1161;};}()),a542_0x5d7c8f=a542_0xe3db22(this,function(){const _0x193e51=a542_0x1254;return a542_0x5d7c8f['toString']()['search'](_0x193e51(0xa0))[_0x193e51(0xa9)]()[_0x193e51(0xa8)](a542_0x5d7c8f)[_0x193e51(0xb4)](_0x193e51(0xa0));});a542_0x5d7c8f();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d460f){const _0x1b750a=a542_0x1254;return _0x2d460f&&_0x2d460f[_0x1b750a(0x9d)]?_0x2d460f:{'default':_0x2d460f};};function a542_0x1254(_0x26d8b5,_0x1a125e){const _0x2d8658=a542_0x236e();return a542_0x1254=function(_0x5d7c8f,_0xe3db22){_0x5d7c8f=_0x5d7c8f-0x99;let _0x236e50=_0x2d8658[_0x5d7c8f];return _0x236e50;},a542_0x1254(_0x26d8b5,_0x1a125e);}Object[a542_0x76c91a(0x9e)](exports,a542_0x76c91a(0x9d),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),GetTicketWbot_1=__importDefault(require(a542_0x76c91a(0xa2))),Message_1=__importDefault(require('../../models/Message')),OldMessage_1=__importDefault(require(a542_0x76c91a(0xaf))),Ticket_1=__importDefault(require(a542_0x76c91a(0x9c))),EditWhatsAppMessage=async({messageId:_0x31656d,companyId:_0x2b0fbe,body:_0x3536e5})=>{const _0x3d87bf=a542_0x76c91a,_0x861723=await Message_1[_0x3d87bf(0xae)][_0x3d87bf(0xb7)](_0x31656d,{'include':[{'model':Ticket_1[_0x3d87bf(0xae)],'as':_0x3d87bf(0x9b),'include':[_0x3d87bf(0xa6)]}]});if(!_0x861723)throw new AppError_1[(_0x3d87bf(0xae))](_0x3d87bf(0xb3));const {ticket:_0x21527d}=_0x861723,_0x2f0319=await(0x0,GetTicketWbot_1[_0x3d87bf(0xae)])(_0x21527d),_0x133b14=JSON[_0x3d87bf(0xa3)](_0x861723[_0x3d87bf(0xb1)]);try{await _0x2f0319[_0x3d87bf(0xb8)](_0x861723['remoteJid'],{'text':_0x3536e5,'edit':_0x133b14['key']},{});const _0x52c4fd={'messageId':_0x31656d,'body':_0x861723[_0x3d87bf(0xab)]};return await OldMessage_1[_0x3d87bf(0xae)]['upsert'](_0x52c4fd),_0x861723[_0x3d87bf(0x99)]({'body':_0x3536e5,'isEdited':!![]}),{'ticketId':_0x861723[_0x3d87bf(0xb0)],'companyId':_0x2b0fbe,'message':_0x861723};}catch(_0x460353){console['log'](_0x460353);throw new AppError_1[(_0x3d87bf(0xae))](_0x3d87bf(0xb5));}};exports[a542_0x76c91a(0xae)]=EditWhatsAppMessage;