const a542_0x11ea66=a542_0x1a96;(function(_0x47a50e,_0x5eb136){const _0x2b1c8f=a542_0x1a96,_0x22a191=_0x47a50e();while(!![]){try{const _0x40621e=parseInt(_0x2b1c8f(0xc3))/0x1+parseInt(_0x2b1c8f(0xbb))/0x2*(parseInt(_0x2b1c8f(0xd2))/0x3)+-parseInt(_0x2b1c8f(0xbe))/0x4+-parseInt(_0x2b1c8f(0xd4))/0x5*(parseInt(_0x2b1c8f(0xb8))/0x6)+parseInt(_0x2b1c8f(0xd1))/0x7+-parseInt(_0x2b1c8f(0xba))/0x8*(parseInt(_0x2b1c8f(0xbc))/0x9)+-parseInt(_0x2b1c8f(0xcf))/0xa*(-parseInt(_0x2b1c8f(0xc4))/0xb);if(_0x40621e===_0x5eb136)break;else _0x22a191['push'](_0x22a191['shift']());}catch(_0x290959){_0x22a191['push'](_0x22a191['shift']());}}}(a542_0x6c9b,0x478fe));function a542_0x1a96(_0x329f43,_0x4220b6){const _0xf8fe2c=a542_0x6c9b();return a542_0x1a96=function(_0x5e2507,_0x14c027){_0x5e2507=_0x5e2507-0xb7;let _0x6c9bfa=_0xf8fe2c[_0x5e2507];return _0x6c9bfa;},a542_0x1a96(_0x329f43,_0x4220b6);}const a542_0x14c027=(function(){let _0x280b7c=!![];return function(_0x15c7af,_0x369556){const _0x403cef=_0x280b7c?function(){const _0x5c7cb1=a542_0x1a96;if(_0x369556){const _0x430237=_0x369556[_0x5c7cb1(0xc6)](_0x15c7af,arguments);return _0x369556=null,_0x430237;}}:function(){};return _0x280b7c=![],_0x403cef;};}()),a542_0x5e2507=a542_0x14c027(this,function(){const _0x211e8c=a542_0x1a96;return a542_0x5e2507[_0x211e8c(0xc1)]()[_0x211e8c(0xd5)](_0x211e8c(0xcb))[_0x211e8c(0xc1)]()['constructor'](a542_0x5e2507)[_0x211e8c(0xd5)](_0x211e8c(0xcb));});a542_0x5e2507();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2c3336){return _0x2c3336&&_0x2c3336['__esModule']?_0x2c3336:{'default':_0x2c3336};};Object['defineProperty'](exports,a542_0x11ea66(0xb7),{'value':!![]});function a542_0x6c9b(){const _0x5cff66=['toString','No\x20message\x20found\x20with\x20this\x20ID.','140917fxXjQx','1639oBxksb','log','apply','dataJson','parse','sendMessage','../../errors/AppError','(((.+)+)+)+$','contact','key','body','57380vohowq','default','99498KmrDpu','456009lgXUBt','../../models/Message','43590gGaBPC','search','__esModule','138KzrrPI','remoteJid','376DudAvT','2PpQQjN','15948CfYYGL','../../models/Ticket','2340720KzMwPQ','findByPk','ticket'];a542_0x6c9b=function(){return _0x5cff66;};return a542_0x6c9b();}const AppError_1=__importDefault(require(a542_0x11ea66(0xca))),GetTicketWbot_1=__importDefault(require('../../helpers/GetTicketWbot')),Message_1=__importDefault(require(a542_0x11ea66(0xd3))),OldMessage_1=__importDefault(require('../../models/OldMessage')),Ticket_1=__importDefault(require(a542_0x11ea66(0xbd))),EditWhatsAppMessage=async({messageId:_0x17720e,companyId:_0x2ff6f8,body:_0x105c0d})=>{const _0x64750d=a542_0x11ea66,_0x54b6b8=await Message_1['default'][_0x64750d(0xbf)](_0x17720e,{'include':[{'model':Ticket_1[_0x64750d(0xd0)],'as':_0x64750d(0xc0),'include':[_0x64750d(0xcc)]}]});if(!_0x54b6b8)throw new AppError_1[(_0x64750d(0xd0))](_0x64750d(0xc2));const {ticket:_0x432f5b}=_0x54b6b8,_0x28e8a9=await(0x0,GetTicketWbot_1[_0x64750d(0xd0)])(_0x432f5b),_0x309a91=JSON[_0x64750d(0xc8)](_0x54b6b8[_0x64750d(0xc7)]);try{await _0x28e8a9[_0x64750d(0xc9)](_0x54b6b8[_0x64750d(0xb9)],{'text':_0x105c0d,'edit':_0x309a91[_0x64750d(0xcd)]},{});const _0x3e8dd3={'messageId':_0x17720e,'body':_0x54b6b8[_0x64750d(0xce)]};return await OldMessage_1[_0x64750d(0xd0)]['upsert'](_0x3e8dd3),_0x54b6b8['update']({'body':_0x105c0d,'isEdited':!![]}),{'ticketId':_0x54b6b8['ticketId'],'companyId':_0x2ff6f8,'message':_0x54b6b8};}catch(_0x55c128){console[_0x64750d(0xc5)](_0x55c128);throw new AppError_1[(_0x64750d(0xd0))]('ERR_EDITING_WAPP_MSG');}};exports[a542_0x11ea66(0xd0)]=EditWhatsAppMessage;