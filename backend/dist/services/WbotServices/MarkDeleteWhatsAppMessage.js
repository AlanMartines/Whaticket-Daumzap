const a545_0x537291=a545_0x34d9;(function(_0x2f70b8,_0x520997){const _0x1217eb=a545_0x34d9,_0xb114b9=_0x2f70b8();while(!![]){try{const _0x2bc2da=parseInt(_0x1217eb(0xba))/0x1*(parseInt(_0x1217eb(0xc0))/0x2)+parseInt(_0x1217eb(0xbe))/0x3+parseInt(_0x1217eb(0xb2))/0x4*(-parseInt(_0x1217eb(0xb4))/0x5)+parseInt(_0x1217eb(0xb0))/0x6+-parseInt(_0x1217eb(0xb8))/0x7+parseInt(_0x1217eb(0xb9))/0x8*(parseInt(_0x1217eb(0xbb))/0x9)+-parseInt(_0x1217eb(0xbc))/0xa*(-parseInt(_0x1217eb(0xbd))/0xb);if(_0x2bc2da===_0x520997)break;else _0xb114b9['push'](_0xb114b9['shift']());}catch(_0x597dc3){_0xb114b9['push'](_0xb114b9['shift']());}}}(a545_0x3236,0x701f6));function a545_0x34d9(_0x26377c,_0x441e5e){const _0x174244=a545_0x3236();return a545_0x34d9=function(_0x45e6e4,_0x58ce68){_0x45e6e4=_0x45e6e4-0xa7;let _0x3236f9=_0x174244[_0x45e6e4];return _0x3236f9;},a545_0x34d9(_0x26377c,_0x441e5e);}const a545_0x58ce68=(function(){let _0x94fc2=!![];return function(_0x1fff62,_0x4860d2){const _0x1b1f1b=_0x94fc2?function(){const _0x3e9db1=a545_0x34d9;if(_0x4860d2){const _0x41f5ba=_0x4860d2[_0x3e9db1(0xc4)](_0x1fff62,arguments);return _0x4860d2=null,_0x41f5ba;}}:function(){};return _0x94fc2=![],_0x1b1f1b;};}()),a545_0x45e6e4=a545_0x58ce68(this,function(){const _0x51aca0=a545_0x34d9;return a545_0x45e6e4[_0x51aca0(0xa9)]()[_0x51aca0(0xb3)](_0x51aca0(0xac))[_0x51aca0(0xa9)]()[_0x51aca0(0xbf)](a545_0x45e6e4)[_0x51aca0(0xb3)]('(((.+)+)+)+$');});a545_0x45e6e4();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x37f50f){const _0x5bd193=a545_0x34d9;return _0x37f50f&&_0x37f50f[_0x5bd193(0xc2)]?_0x37f50f:{'default':_0x37f50f};};Object[a545_0x537291(0xc5)](exports,a545_0x537291(0xc2),{'value':!![]});function a545_0x3236(){const _0x245839=['__esModule','findOne','apply','defineProperty','ticketId','Erro\x20ao\x20tentar\x20marcar\x20a\x20mensagem\x20com\x20excluÃ­da\x20>\x20','toString','replace','update','(((.+)+)+)+$','default','getIO','emit','798156AyBTxx','@s.whatsapp.net','24tGkhbB','search','39610afZRll','log','contact','findByPk','6250216RjENXL','2232OIXtRY','358493CCiOaZ','21204FMhgjJ','10qjSBMM','1869241ACAtoC','242700LYjsmV','constructor','2vkDSje','@c.us'];a545_0x3236=function(){return _0x245839;};return a545_0x3236();}const Message_1=__importDefault(require('../../models/Message')),socket_1=require('../../libs/socket'),MarkDeleteWhatsAppMessage=async(_0x4b9ac0,_0x35b5af,_0x5d4f97,_0x4ab9e4)=>{const _0x593aa0=a545_0x537291;_0x4b9ac0=_0x4b9ac0['replace'](_0x593aa0(0xc1),'')[_0x593aa0(0xaa)](_0x593aa0(0xb1),'');if(_0x5d4f97){const _0x30ade7=await Message_1[_0x593aa0(0xad)][_0x593aa0(0xc3)]({'where':{'id':_0x5d4f97,'companyId':_0x4ab9e4}});if(_0x30ade7==null||!_0x30ade7)return;try{const _0x4234a0=await Message_1[_0x593aa0(0xad)][_0x593aa0(0xb7)](_0x30ade7['id'],{'include':[_0x593aa0(0xb6),{'model':Message_1[_0x593aa0(0xad)],'as':'quotedMsg','include':['contact']}]});if(_0x4234a0){await _0x4234a0[_0x593aa0(0xab)]({'isDeleted':!![]});const _0x54e6ff=(0x0,socket_1[_0x593aa0(0xae)])();_0x54e6ff['to'](_0x4234a0[_0x593aa0(0xa7)]['toString']())[_0x593aa0(0xaf)]('appMessage-'+_0x4234a0,{'action':'update','message':_0x4234a0});}}catch(_0x5998c5){console[_0x593aa0(0xb5)](_0x593aa0(0xa8)+_0x5998c5);}return _0x35b5af;};};exports[a545_0x537291(0xad)]=MarkDeleteWhatsAppMessage;