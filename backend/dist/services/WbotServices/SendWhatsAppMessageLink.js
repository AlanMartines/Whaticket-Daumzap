const a552_0x5d79ed=a552_0x3b0d;(function(_0x47d9c4,_0x3e440a){const _0x1e56b9=a552_0x3b0d,_0x2eb9b3=_0x47d9c4();while(!![]){try{const _0x605d7d=parseInt(_0x1e56b9(0xc8))/0x1*(-parseInt(_0x1e56b9(0xc9))/0x2)+parseInt(_0x1e56b9(0xe2))/0x3+parseInt(_0x1e56b9(0xce))/0x4*(-parseInt(_0x1e56b9(0xc7))/0x5)+-parseInt(_0x1e56b9(0xd2))/0x6*(parseInt(_0x1e56b9(0xdf))/0x7)+-parseInt(_0x1e56b9(0xc1))/0x8*(-parseInt(_0x1e56b9(0xd1))/0x9)+-parseInt(_0x1e56b9(0xe1))/0xa*(-parseInt(_0x1e56b9(0xdd))/0xb)+-parseInt(_0x1e56b9(0xbf))/0xc*(-parseInt(_0x1e56b9(0xc0))/0xd);if(_0x605d7d===_0x3e440a)break;else _0x2eb9b3['push'](_0x2eb9b3['shift']());}catch(_0x3fff3c){_0x2eb9b3['push'](_0x2eb9b3['shift']());}}}(a552_0x4a20,0x62d48));const a552_0x2de831=(function(){let _0x203295=!![];return function(_0x149a69,_0x462293){const _0x4902b5=_0x203295?function(){const _0x5ac549=a552_0x3b0d;if(_0x462293){const _0x13b228=_0x462293[_0x5ac549(0xe4)](_0x149a69,arguments);return _0x462293=null,_0x13b228;}}:function(){};return _0x203295=![],_0x4902b5;};}()),a552_0x121e0a=a552_0x2de831(this,function(){const _0x25f8e8=a552_0x3b0d;return a552_0x121e0a[_0x25f8e8(0xd9)]()[_0x25f8e8(0xc4)](_0x25f8e8(0xdb))[_0x25f8e8(0xd9)]()[_0x25f8e8(0xd0)](a552_0x121e0a)[_0x25f8e8(0xc4)](_0x25f8e8(0xdb));});a552_0x121e0a();function a552_0x4a20(){const _0x9abf1d=['1090ZnSDLK','1604184ODshwl','public','apply','ERR_SENDING_WAPP_MSG','12476796UWzYiG','13NPtOzZ','2664824wOpYCD','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','../../helpers/GetTicketWbot','search','__esModule','charAt','20wdigkS','31037rvZyLX','42WygoTe','.pdf','isGroup','length','floor','532668nTKzKg','SendPresenceStatus','constructor','9uyHGUH','4420572uaEoci','application/pdf','sendMessage','resolve','/company','default','number','toString','contact','(((.+)+)+)+$','../../errors/AppError','42229AQdniu','readFileSync','7WLLaAG','random'];a552_0x4a20=function(){return _0x9abf1d;};return a552_0x4a20();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x35b076){const _0x185c46=a552_0x3b0d;return _0x35b076&&_0x35b076[_0x185c46(0xc5)]?_0x35b076:{'default':_0x35b076};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a552_0x3b0d(_0x3dfb81,_0x1f5344){const _0x268b9b=a552_0x4a20();return a552_0x3b0d=function(_0x121e0a,_0x2de831){_0x121e0a=_0x121e0a-0xbe;let _0x4a205a=_0x268b9b[_0x121e0a];return _0x4a205a;},a552_0x3b0d(_0x3dfb81,_0x1f5344);}const AppError_1=__importDefault(require(a552_0x5d79ed(0xdc))),GetTicketWbot_1=__importDefault(require(a552_0x5d79ed(0xc3))),fs_1=__importDefault(require('fs')),path_1=__importDefault(require('path')),SendPresenceStatus_1=require('../../helpers/SendPresenceStatus');function makeid(_0x33780b){const _0x3f983a=a552_0x5d79ed;var _0x1e21c2='',_0x116c2b=_0x3f983a(0xc2),_0x9047b1=_0x116c2b[_0x3f983a(0xcc)];for(var _0x64a90c=0x0;_0x64a90c<_0x33780b;_0x64a90c++){_0x1e21c2+=_0x116c2b[_0x3f983a(0xc6)](Math[_0x3f983a(0xcd)](Math[_0x3f983a(0xe0)]()*_0x9047b1));}return _0x1e21c2;}const publicFolder=path_1[a552_0x5d79ed(0xd7)][a552_0x5d79ed(0xd5)](__dirname,'..','..','..',a552_0x5d79ed(0xe3)),SendWhatsAppMessageLink=async({ticket:_0x18bd9d,url:_0x125e50,caption:_0x252137,msdelay:_0xace8d7})=>{const _0x325dc9=a552_0x5d79ed,_0x24525b=await(0x0,GetTicketWbot_1[_0x325dc9(0xd7)])(_0x18bd9d),_0x213cae=_0x18bd9d[_0x325dc9(0xda)][_0x325dc9(0xd8)]+'@'+(_0x18bd9d[_0x325dc9(0xcb)]?'g.us':'s.whatsapp.net');try{await(0x0,SendPresenceStatus_1[_0x325dc9(0xcf)])(_0x24525b,_0x213cae,_0xace8d7);const _0x179594=await _0x24525b[_0x325dc9(0xd4)](''+_0x213cae,{'document':_0x125e50?{'url':_0x125e50}:fs_1['default'][_0x325dc9(0xde)](publicFolder+_0x325dc9(0xd6)+_0x18bd9d['companyId']+'/'+_0x252137+'-'+makeid(0x5)+_0x325dc9(0xca)),'fileName':_0x252137,'mimetype':_0x325dc9(0xd3)});return await(0x0,SendPresenceStatus_1['SendPresenceStatus'])(_0x24525b,_0x213cae,_0xace8d7),_0x179594;}catch(_0x15764e){throw new AppError_1[(_0x325dc9(0xd7))](_0x325dc9(0xbe));}};exports['default']=SendWhatsAppMessageLink;