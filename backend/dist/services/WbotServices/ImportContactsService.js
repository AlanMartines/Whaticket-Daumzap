const a544_0x16a198=a544_0x1954;(function(_0x2101e9,_0x15ac69){const _0x2a8594=a544_0x1954,_0x5463bb=_0x2101e9();while(!![]){try{const _0x16ad77=-parseInt(_0x2a8594(0x1d7))/0x1+parseInt(_0x2a8594(0x1db))/0x2+-parseInt(_0x2a8594(0x1ea))/0x3+parseInt(_0x2a8594(0x1f3))/0x4*(parseInt(_0x2a8594(0x1f9))/0x5)+parseInt(_0x2a8594(0x1fa))/0x6*(-parseInt(_0x2a8594(0x1e2))/0x7)+-parseInt(_0x2a8594(0x1e8))/0x8*(-parseInt(_0x2a8594(0x1f7))/0x9)+-parseInt(_0x2a8594(0x1ff))/0xa*(-parseInt(_0x2a8594(0x1d3))/0xb);if(_0x16ad77===_0x15ac69)break;else _0x5463bb['push'](_0x5463bb['shift']());}catch(_0x3ec5e7){_0x5463bb['push'](_0x5463bb['shift']());}}}(a544_0x1318,0x5f907));const a544_0x962d6c=(function(){let _0x325428=!![];return function(_0x53cdcc,_0x40a703){const _0x42576d=_0x325428?function(){const _0x25bbf0=a544_0x1954;if(_0x40a703){const _0x51e1ce=_0x40a703[_0x25bbf0(0x1ed)](_0x53cdcc,arguments);return _0x40a703=null,_0x51e1ce;}}:function(){};return _0x325428=![],_0x42576d;};}()),a544_0x12c9ba=a544_0x962d6c(this,function(){const _0x497b6f=a544_0x1954;return a544_0x12c9ba[_0x497b6f(0x1fc)]()[_0x497b6f(0x1d6)](_0x497b6f(0x1ee))[_0x497b6f(0x1fc)]()[_0x497b6f(0x1e9)](a544_0x12c9ba)[_0x497b6f(0x1d6)](_0x497b6f(0x1ee));});a544_0x12c9ba();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x133b7a,_0x357af4,_0x45e909,_0x361039){const _0x3b61db=a544_0x1954;if(_0x361039===undefined)_0x361039=_0x45e909;var _0x5aadef=Object[_0x3b61db(0x1e6)](_0x357af4,_0x45e909);(!_0x5aadef||('get'in _0x5aadef?!_0x357af4[_0x3b61db(0x1f5)]:_0x5aadef[_0x3b61db(0x1f6)]||_0x5aadef[_0x3b61db(0x1eb)]))&&(_0x5aadef={'enumerable':!![],'get':function(){return _0x357af4[_0x45e909];}}),Object[_0x3b61db(0x1de)](_0x133b7a,_0x361039,_0x5aadef);}:function(_0x46a612,_0x3c3ccf,_0x1caa9f,_0x4a8246){if(_0x4a8246===undefined)_0x4a8246=_0x1caa9f;_0x46a612[_0x4a8246]=_0x3c3ccf[_0x1caa9f];}),__setModuleDefault=this&&this[a544_0x16a198(0x1d8)]||(Object[a544_0x16a198(0x1d9)]?function(_0x3c25f1,_0x51d56d){const _0x4e41b2=a544_0x16a198;Object[_0x4e41b2(0x1de)](_0x3c25f1,_0x4e41b2(0x1f1),{'enumerable':!![],'value':_0x51d56d});}:function(_0x2c9ccf,_0xd3baa6){const _0x218561=a544_0x16a198;_0x2c9ccf[_0x218561(0x1f1)]=_0xd3baa6;}),__importStar=this&&this['__importStar']||function(_0xcce986){const _0x2d8eef=a544_0x16a198;if(_0xcce986&&_0xcce986['__esModule'])return _0xcce986;var _0x161667={};if(_0xcce986!=null){for(var _0x4f3468 in _0xcce986)if(_0x4f3468!==_0x2d8eef(0x1f1)&&Object['prototype'][_0x2d8eef(0x1fe)][_0x2d8eef(0x1f8)](_0xcce986,_0x4f3468))__createBinding(_0x161667,_0xcce986,_0x4f3468);}return __setModuleDefault(_0x161667,_0xcce986),_0x161667;},__importDefault=this&&this[a544_0x16a198(0x1dc)]||function(_0x17b457){const _0x14f6c5=a544_0x16a198;return _0x17b457&&_0x17b457[_0x14f6c5(0x1f5)]?_0x17b457:{'default':_0x17b457};};Object[a544_0x16a198(0x1de)](exports,a544_0x16a198(0x1f5),{'value':!![]});function a544_0x1954(_0x355bda,_0x41c156){const _0x5a7390=a544_0x1318();return a544_0x1954=function(_0x12c9ba,_0x962d6c){_0x12c9ba=_0x12c9ba-0x1ce;let _0x1318ba=_0x5a7390[_0x12c9ba];return _0x1318ba;},a544_0x1954(_0x355bda,_0x41c156);}const Sentry=__importStar(require(a544_0x16a198(0x1fb))),GetDefaultWhatsApp_1=__importDefault(require('../../helpers/GetDefaultWhatsApp')),wbot_1=require(a544_0x16a198(0x1f0)),Contact_1=__importDefault(require(a544_0x16a198(0x203))),logger_1=require(a544_0x16a198(0x1fd)),ShowBaileysService_1=__importDefault(require('../BaileysServices/ShowBaileysService')),CreateContactService_1=__importDefault(require(a544_0x16a198(0x1d0))),lodash_1=require('lodash'),path_1=__importDefault(require(a544_0x16a198(0x1e3))),fs_1=__importDefault(require('fs')),ImportContactsService=async _0x1e58ef=>{const _0x4878fb=a544_0x16a198,_0x4dadfb=await(0x0,GetDefaultWhatsApp_1[_0x4878fb(0x1f1)])(_0x1e58ef),_0x31dd38=(0x0,wbot_1['getWbot'])(_0x4dadfb['id']);let _0x240c3f;try{const _0xa1e114=await(0x0,ShowBaileysService_1['default'])(_0x31dd38['id']);_0x240c3f=JSON['parse'](_0xa1e114[_0x4878fb(0x1e1)]);const _0x129d50=path_1[_0x4878fb(0x1f1)][_0x4878fb(0x1dd)](__dirname,'..','..','..',_0x4878fb(0x202),_0x4878fb(0x1e5)+_0x4dadfb['companyId']),_0xe34154=path_1['default'][_0x4878fb(0x1da)](_0x129d50,_0x4878fb(0x1d5));fs_1[_0x4878fb(0x1f1)]['writeFile'](_0xe34154,JSON['stringify'](_0x240c3f,null,0x2),_0x1c9c95=>{const _0x16c9b4=_0x4878fb;if(_0x1c9c95){logger_1['logger']['error'](_0x16c9b4(0x1f2)+_0x1c9c95);throw _0x1c9c95;}});}catch(_0x2c1035){Sentry['captureException'](_0x2c1035),logger_1[_0x4878fb(0x1cf)][_0x4878fb(0x201)](_0x4878fb(0x1d2)+_0x2c1035);}const _0x228215=path_1[_0x4878fb(0x1f1)][_0x4878fb(0x1dd)](__dirname,'..','..','..','public',_0x4878fb(0x1e5)+_0x4dadfb['companyId']),_0x1e4e69=path_1[_0x4878fb(0x1f1)][_0x4878fb(0x1da)](_0x228215,_0x4878fb(0x1ef));fs_1['default']['writeFile'](_0x1e4e69,JSON[_0x4878fb(0x1ce)](_0x240c3f,null,0x2),_0x1ad5fe=>{const _0x4df23d=_0x4878fb;if(_0x1ad5fe){logger_1[_0x4df23d(0x1cf)][_0x4df23d(0x201)](_0x4df23d(0x1f2)+_0x1ad5fe);throw _0x1ad5fe;}});const _0x254bcf=(0x0,lodash_1['isString'])(_0x240c3f)?JSON[_0x4878fb(0x1e4)](_0x240c3f):_0x240c3f;if((0x0,lodash_1[_0x4878fb(0x200)])(_0x254bcf))for(const {id:_0x1919a1,name:_0x11dbf1,notify:_0x43e9d4}of _0x254bcf){if(_0x1919a1===_0x4878fb(0x1e0)||_0x1919a1[_0x4878fb(0x1ec)](_0x4878fb(0x1d4)))continue;const _0x12b818=_0x1919a1[_0x4878fb(0x1d1)](/\D/g,''),_0x598f0b=await Contact_1[_0x4878fb(0x1f1)][_0x4878fb(0x1f4)]({'where':{'number':_0x12b818,'companyId':_0x1e58ef}});if(_0x598f0b)_0x598f0b['name']=_0x11dbf1||_0x43e9d4,await _0x598f0b[_0x4878fb(0x1e7)]();else try{await(0x0,CreateContactService_1[_0x4878fb(0x1f1)])({'number':_0x12b818,'name':_0x11dbf1||_0x43e9d4,'companyId':_0x1e58ef});}catch(_0x2efd70){Sentry['captureException'](_0x2efd70),logger_1[_0x4878fb(0x1cf)][_0x4878fb(0x1df)](_0x4878fb(0x1d2)+_0x2efd70);}}};function a544_0x1318(){const _0x497f31=['company','getOwnPropertyDescriptor','save','10448DlaerM','constructor','2123487bEUoZW','configurable','includes','apply','(((.+)+)+)+$','contatos_depois.txt','../../libs/wbot','default','Failed\x20to\x20write\x20contacts\x20to\x20file:\x20','116096LNKwym','findOne','__esModule','writable','2817uFbwTg','call','30xQwhXO','6COpXoh','@sentry/node','toString','../../utils/logger','hasOwnProperty','217470RrESrW','isArray','error','public','../../models/Contact','stringify','logger','../ContactServices/CreateContactService','replace','Could\x20not\x20get\x20whatsapp\x20contacts\x20from\x20phone.\x20Err:\x20','517wqeKUp','g.us','contatos_antes.txt','search','696761nJqfAd','__setModuleDefault','create','join','1332640ttqXmC','__importDefault','resolve','defineProperty','warn','status@broadcast','contacts','3327310JAAKqc','path','parse'];a544_0x1318=function(){return _0x497f31;};return a544_0x1318();}exports[a544_0x16a198(0x1f1)]=ImportContactsService;