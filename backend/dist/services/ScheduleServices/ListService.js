const a494_0x2190f8=a494_0x46c1;function a494_0x139e(){const _0x29ef23=['596oXIWnp','13352BnIVqa','length','toLowerCase','(((.+)+)+)+$','contact.name','where','createdAt','812YFZhFH','3177oFrhVd','toString','../../models/Contact','666180kqnXYV','default','LIKE','DESC','constructor','LOWER','11464060uHYLfV','Sequelize','findAndCountAll','Schedule.body','defineProperty','825210JUwaox','35aYjmrD','search','col','contact','name','777552PzQrBy','804295gQjYAc','__esModule','apply'];a494_0x139e=function(){return _0x29ef23;};return a494_0x139e();}(function(_0x2a5d9c,_0x3560da){const _0x560b28=a494_0x46c1,_0x2da2c3=_0x2a5d9c();while(!![]){try{const _0x2b33e1=parseInt(_0x560b28(0x1da))/0x1*(parseInt(_0x560b28(0x1d2))/0x2)+-parseInt(_0x560b28(0x1e9))/0x3+parseInt(_0x560b28(0x1ef))/0x4+parseInt(_0x560b28(0x1f0))/0x5+-parseInt(_0x560b28(0x1de))/0x6*(-parseInt(_0x560b28(0x1ea))/0x7)+-parseInt(_0x560b28(0x1d3))/0x8*(-parseInt(_0x560b28(0x1db))/0x9)+-parseInt(_0x560b28(0x1e4))/0xa;if(_0x2b33e1===_0x3560da)break;else _0x2da2c3['push'](_0x2da2c3['shift']());}catch(_0x38f5fc){_0x2da2c3['push'](_0x2da2c3['shift']());}}}(a494_0x139e,0x4e236));const a494_0x1d5c81=(function(){let _0x5a4956=!![];return function(_0x4a44f4,_0x396031){const _0x973053=_0x5a4956?function(){const _0x4dd8ab=a494_0x46c1;if(_0x396031){const _0x5983eb=_0x396031[_0x4dd8ab(0x1f2)](_0x4a44f4,arguments);return _0x396031=null,_0x5983eb;}}:function(){};return _0x5a4956=![],_0x973053;};}()),a494_0x2b405e=a494_0x1d5c81(this,function(){const _0x4556df=a494_0x46c1;return a494_0x2b405e[_0x4556df(0x1dc)]()[_0x4556df(0x1eb)](_0x4556df(0x1d6))['toString']()[_0x4556df(0x1e2)](a494_0x2b405e)[_0x4556df(0x1eb)](_0x4556df(0x1d6));});a494_0x2b405e();'use strict';function a494_0x46c1(_0x1ada01,_0x336e42){const _0x5be192=a494_0x139e();return a494_0x46c1=function(_0x2b405e,_0x1d5c81){_0x2b405e=_0x2b405e-0x1d2;let _0x139e2d=_0x5be192[_0x2b405e];return _0x139e2d;},a494_0x46c1(_0x1ada01,_0x336e42);}var __importDefault=this&&this['__importDefault']||function(_0x4b49cf){const _0x379e3b=a494_0x46c1;return _0x4b49cf&&_0x4b49cf[_0x379e3b(0x1f1)]?_0x4b49cf:{'default':_0x4b49cf};};Object[a494_0x2190f8(0x1e8)](exports,'__esModule',{'value':!![]});const sequelize_1=require('sequelize'),Contact_1=__importDefault(require(a494_0x2190f8(0x1dd))),Schedule_1=__importDefault(require('../../models/Schedule')),User_1=__importDefault(require('../../models/User')),ListService=async({searchParam:_0x58745f,contactId:contactId='',userId:userId='',pageNumber:pageNumber='1',companyId:_0x9d6588})=>{const _0x1b058c=a494_0x2190f8;let _0x12f816={};const _0x3a7c4c=0x14,_0x5c41c3=_0x3a7c4c*(+pageNumber-0x1);_0x58745f&&(_0x12f816={[sequelize_1['Op']['or']]:[{'$Schedule.body$':sequelize_1[_0x1b058c(0x1e5)][_0x1b058c(0x1d8)](sequelize_1[_0x1b058c(0x1e5)]['fn'](_0x1b058c(0x1e3),sequelize_1[_0x1b058c(0x1e5)][_0x1b058c(0x1ec)](_0x1b058c(0x1e7))),_0x1b058c(0x1e0),'%'+_0x58745f[_0x1b058c(0x1d5)]()+'%')},{'$Contact.name$':sequelize_1[_0x1b058c(0x1e5)][_0x1b058c(0x1d8)](sequelize_1[_0x1b058c(0x1e5)]['fn']('LOWER',sequelize_1[_0x1b058c(0x1e5)][_0x1b058c(0x1ec)](_0x1b058c(0x1d7))),_0x1b058c(0x1e0),'%'+_0x58745f[_0x1b058c(0x1d5)]()+'%')}]});contactId!==''&&(_0x12f816={..._0x12f816,'contactId':contactId});userId!==''&&(_0x12f816={..._0x12f816,'userId':userId});_0x12f816={..._0x12f816,'companyId':{[sequelize_1['Op']['eq']]:_0x9d6588}};const {count:_0x13e716,rows:_0x34dd3a}=await Schedule_1[_0x1b058c(0x1df)][_0x1b058c(0x1e6)]({'where':_0x12f816,'limit':_0x3a7c4c,'offset':_0x5c41c3,'order':[[_0x1b058c(0x1d9),_0x1b058c(0x1e1)]],'include':[{'model':Contact_1[_0x1b058c(0x1df)],'as':_0x1b058c(0x1ed),'attributes':['id',_0x1b058c(0x1ee)]},{'model':User_1[_0x1b058c(0x1df)],'as':'user','attributes':['id',_0x1b058c(0x1ee)]}]}),_0x59ff6a=_0x13e716>_0x5c41c3+_0x34dd3a[_0x1b058c(0x1d4)];return{'schedules':_0x34dd3a,'count':_0x13e716,'hasMore':_0x59ff6a};};exports[a494_0x2190f8(0x1df)]=ListService;