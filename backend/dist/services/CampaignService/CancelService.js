const a365_0x164393=a365_0x4a06;(function(_0x5f2638,_0x2c0680){const _0x103aad=a365_0x4a06,_0x3a3037=_0x5f2638();while(!![]){try{const _0x3ae4ff=parseInt(_0x103aad(0x1e9))/0x1*(parseInt(_0x103aad(0x1f6))/0x2)+parseInt(_0x103aad(0x1e4))/0x3+parseInt(_0x103aad(0x1fa))/0x4*(parseInt(_0x103aad(0x1f7))/0x5)+-parseInt(_0x103aad(0x1e8))/0x6*(-parseInt(_0x103aad(0x1f0))/0x7)+parseInt(_0x103aad(0x1ef))/0x8+-parseInt(_0x103aad(0x1ff))/0x9*(-parseInt(_0x103aad(0x1f2))/0xa)+-parseInt(_0x103aad(0x200))/0xb;if(_0x3ae4ff===_0x2c0680)break;else _0x3a3037['push'](_0x3a3037['shift']());}catch(_0x1b0cdf){_0x3a3037['push'](_0x3a3037['shift']());}}}(a365_0x5dd6,0xb4510));const a365_0x4ab151=(function(){let _0x468684=!![];return function(_0x4fd797,_0x564971){const _0x3e4c56=_0x468684?function(){if(_0x564971){const _0x1d8935=_0x564971['apply'](_0x4fd797,arguments);return _0x564971=null,_0x1d8935;}}:function(){};return _0x468684=![],_0x3e4c56;};}()),a365_0x496dd9=a365_0x4ab151(this,function(){const _0x3ab075=a365_0x4a06;return a365_0x496dd9[_0x3ab075(0x1f5)]()[_0x3ab075(0x1eb)](_0x3ab075(0x1ea))[_0x3ab075(0x1f5)]()[_0x3ab075(0x1ed)](a365_0x496dd9)['search'](_0x3ab075(0x1ea));});function a365_0x5dd6(){const _0x20d87=['66095FIrCcw','not','push','32BYZQcQ','campaignQueue','getJob','CANCELADA','../../queues','2862hDmQRf','36816538rLGFvy','findAll','remove','768150jFUrya','defineProperty','CancelService','all','6WMpzfR','3bDirSm','(((.+)+)+)+$','search','__importDefault','constructor','../../models/Campaign','9733888NAnVzt','8249899xyeVzT','findByPk','5960DHbgPY','__esModule','default','toString','759274bogJsQ'];a365_0x5dd6=function(){return _0x20d87;};return a365_0x5dd6();}a365_0x496dd9();'use strict';var __importDefault=this&&this[a365_0x164393(0x1ec)]||function(_0x7c027e){const _0x4b5199=a365_0x164393;return _0x7c027e&&_0x7c027e[_0x4b5199(0x1f3)]?_0x7c027e:{'default':_0x7c027e};};Object[a365_0x164393(0x1e5)](exports,'__esModule',{'value':!![]}),exports[a365_0x164393(0x1e6)]=void 0x0;const sequelize_1=require('sequelize'),Campaign_1=__importDefault(require(a365_0x164393(0x1ee))),CampaignShipping_1=__importDefault(require('../../models/CampaignShipping')),queues_1=require(a365_0x164393(0x1fe));function a365_0x4a06(_0xae5d53,_0x542a1c){const _0x5e0274=a365_0x5dd6();return a365_0x4a06=function(_0x496dd9,_0x4ab151){_0x496dd9=_0x496dd9-0x1e3;let _0x5dd6ce=_0x5e0274[_0x496dd9];return _0x5dd6ce;},a365_0x4a06(_0xae5d53,_0x542a1c);}async function CancelService(_0x1ae54a){const _0x2b45d0=a365_0x164393,_0x4a8abd=await Campaign_1[_0x2b45d0(0x1f4)][_0x2b45d0(0x1f1)](_0x1ae54a);await _0x4a8abd['update']({'status':_0x2b45d0(0x1fd)});const _0x1e630f=await CampaignShipping_1['default'][_0x2b45d0(0x201)]({'where':{'campaignId':_0x4a8abd['id'],'jobId':{[sequelize_1['Op'][_0x2b45d0(0x1f8)]]:null},'deliveredAt':null}}),_0x162f07=[];for(let _0x555373 of _0x1e630f){const _0x1dcaab=await queues_1[_0x2b45d0(0x1fb)][_0x2b45d0(0x1fc)](_0x555373['jobId']);_0x162f07[_0x2b45d0(0x1f9)](_0x1dcaab?.[_0x2b45d0(0x1e3)]());}await Promise[_0x2b45d0(0x1e7)](_0x162f07);}exports['CancelService']=CancelService;