const a365_0x4cc301=a365_0x1643;function a365_0x1643(_0x32094b,_0x4f1363){const _0x1a77e3=a365_0x41d7();return a365_0x1643=function(_0x20a00a,_0xa7b6a1){_0x20a00a=_0x20a00a-0xf5;let _0x41d7eb=_0x1a77e3[_0x20a00a];return _0x41d7eb;},a365_0x1643(_0x32094b,_0x4f1363);}(function(_0x5d5b9f,_0x1b3021){const _0x5eb5ba=a365_0x1643,_0x1d694c=_0x5d5b9f();while(!![]){try{const _0x3c1006=parseInt(_0x5eb5ba(0x10d))/0x1+-parseInt(_0x5eb5ba(0x100))/0x2*(-parseInt(_0x5eb5ba(0xf5))/0x3)+parseInt(_0x5eb5ba(0x109))/0x4*(parseInt(_0x5eb5ba(0x111))/0x5)+parseInt(_0x5eb5ba(0x10e))/0x6*(parseInt(_0x5eb5ba(0x117))/0x7)+parseInt(_0x5eb5ba(0xff))/0x8*(-parseInt(_0x5eb5ba(0xfb))/0x9)+-parseInt(_0x5eb5ba(0x101))/0xa*(-parseInt(_0x5eb5ba(0x103))/0xb)+-parseInt(_0x5eb5ba(0x107))/0xc*(parseInt(_0x5eb5ba(0xf6))/0xd);if(_0x3c1006===_0x1b3021)break;else _0x1d694c['push'](_0x1d694c['shift']());}catch(_0x4ef930){_0x1d694c['push'](_0x1d694c['shift']());}}}(a365_0x41d7,0x85122));const a365_0xa7b6a1=(function(){let _0x467a8f=!![];return function(_0x4c138c,_0x8298a4){const _0x175b45=_0x467a8f?function(){const _0x5b1876=a365_0x1643;if(_0x8298a4){const _0x466b2d=_0x8298a4[_0x5b1876(0x102)](_0x4c138c,arguments);return _0x8298a4=null,_0x466b2d;}}:function(){};return _0x467a8f=![],_0x175b45;};}()),a365_0x20a00a=a365_0xa7b6a1(this,function(){const _0x330930=a365_0x1643;return a365_0x20a00a[_0x330930(0x10b)]()['search'](_0x330930(0x115))[_0x330930(0x10b)]()[_0x330930(0x110)](a365_0x20a00a)[_0x330930(0xfa)](_0x330930(0x115));});a365_0x20a00a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d6ad6){const _0x11ad3d=a365_0x1643;return _0x2d6ad6&&_0x2d6ad6[_0x11ad3d(0x104)]?_0x2d6ad6:{'default':_0x2d6ad6};};function a365_0x41d7(){const _0x6e5e00=['push','campaignQueue','default','(((.+)+)+)+$','../../models/Campaign','2786iVQGlQ','917301PsmCcj','26eezDnd','CANCELADA','all','../../models/CampaignShipping','search','9uBTHmu','sequelize','../../queues','getJob','7228688gufnTD','2SXRhPs','1370mVRRme','apply','79871WcmzBO','__esModule','remove','not','6381708UoAQtx','findAll','529836uFSNMd','jobId','toString','defineProperty','267509DrUbON','8244OvnIDt','CancelService','constructor','15JowNIv'];a365_0x41d7=function(){return _0x6e5e00;};return a365_0x41d7();}Object[a365_0x4cc301(0x10c)](exports,a365_0x4cc301(0x104),{'value':!![]}),exports[a365_0x4cc301(0x10f)]=void 0x0;const sequelize_1=require(a365_0x4cc301(0xfc)),Campaign_1=__importDefault(require(a365_0x4cc301(0x116))),CampaignShipping_1=__importDefault(require(a365_0x4cc301(0xf9))),queues_1=require(a365_0x4cc301(0xfd));async function CancelService(_0x9ed6ff){const _0x23b774=a365_0x4cc301,_0x31c1c3=await Campaign_1[_0x23b774(0x114)]['findByPk'](_0x9ed6ff);await _0x31c1c3['update']({'status':_0x23b774(0xf7)});const _0x55c227=await CampaignShipping_1[_0x23b774(0x114)][_0x23b774(0x108)]({'where':{'campaignId':_0x31c1c3['id'],'jobId':{[sequelize_1['Op'][_0x23b774(0x106)]]:null},'deliveredAt':null}}),_0x353465=[];for(let _0x314016 of _0x55c227){const _0x28ad4a=await queues_1[_0x23b774(0x113)][_0x23b774(0xfe)](_0x314016[_0x23b774(0x10a)]);_0x353465[_0x23b774(0x112)](_0x28ad4a?.[_0x23b774(0x105)]());}await Promise[_0x23b774(0xf8)](_0x353465);}exports[a365_0x4cc301(0x10f)]=CancelService;