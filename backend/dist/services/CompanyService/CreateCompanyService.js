const a387_0x1c8f1d=a387_0x32d6;(function(_0x4a076c,_0x1e1a58){const _0x1648df=a387_0x32d6,_0x22afad=_0x4a076c();while(!![]){try{const _0x48d2ec=parseInt(_0x1648df(0x1c0))/0x1*(parseInt(_0x1648df(0x1b5))/0x2)+parseInt(_0x1648df(0x1c7))/0x3+parseInt(_0x1648df(0x1cd))/0x4+-parseInt(_0x1648df(0x1e1))/0x5*(parseInt(_0x1648df(0x1dd))/0x6)+-parseInt(_0x1648df(0x1d1))/0x7+parseInt(_0x1648df(0x1e8))/0x8+-parseInt(_0x1648df(0x1e2))/0x9;if(_0x48d2ec===_0x1e1a58)break;else _0x22afad['push'](_0x22afad['shift']());}catch(_0x69bc03){_0x22afad['push'](_0x22afad['shift']());}}}(a387_0x5110,0x58f46));const a387_0x2369ae=(function(){let _0x470839=!![];return function(_0x531a62,_0x316795){const _0x487dc9=_0x470839?function(){const _0x11d17e=a387_0x32d6;if(_0x316795){const _0xa05d91=_0x316795[_0x11d17e(0x1f2)](_0x531a62,arguments);return _0x316795=null,_0xa05d91;}}:function(){};return _0x470839=![],_0x487dc9;};}()),a387_0x2cb0a9=a387_0x2369ae(this,function(){const _0x3a4247=a387_0x32d6;return a387_0x2cb0a9[_0x3a4247(0x1d3)]()[_0x3a4247(0x1c8)](_0x3a4247(0x1d5))['toString']()[_0x3a4247(0x1c4)](a387_0x2cb0a9)['search'](_0x3a4247(0x1d5));});a387_0x2cb0a9();'use strict';function a387_0x5110(){const _0x4b8a0c=['ipmkauth','sendGreetingAccepted','__esModule','findOne','required','__importDefault','52428ESUDPr','ERR_COMPANY_NAME_ALREADY_EXISTS','defineProperty','validate','115xeYcKQ','11982564sDfyZr','call','create','object','../../models/Company','shape','3995072uOjiIi','min','__createBinding','admin','ERR_COMPANY_INVALID_NAME','__importStar','../../models/Setting','chatBotType','name','password','apply','appsgp','clientsecretmkauth','text','message','4xyZvRg','sendMsgTransfTicket','hasOwnProperty','campaignsEnabled','../../errors/AppError','get','default','ipixc','findOrCreate','ipsgp','prototype','186278oPaRMw','test','tokenixc','configurable','constructor','scheduleType','mudar@123','1815702EWzcGs','search','string','enabled','yup','userRating','2231720tgAqLa','email','asaas','update','968632edRJdT','clientidmkauth','toString','../../models/User','(((.+)+)+)+$','disabled'];a387_0x5110=function(){return _0x4b8a0c;};return a387_0x5110();}var __createBinding=this&&this[a387_0x1c8f1d(0x1ea)]||(Object[a387_0x1c8f1d(0x1e4)]?function(_0x5bd7a8,_0x2dfb3c,_0x2fb46b,_0x3b2dd2){const _0x50879e=a387_0x1c8f1d;if(_0x3b2dd2===undefined)_0x3b2dd2=_0x2fb46b;var _0x5dda74=Object['getOwnPropertyDescriptor'](_0x2dfb3c,_0x2fb46b);(!_0x5dda74||(_0x50879e(0x1ba)in _0x5dda74?!_0x2dfb3c[_0x50879e(0x1d9)]:_0x5dda74['writable']||_0x5dda74[_0x50879e(0x1c3)]))&&(_0x5dda74={'enumerable':!![],'get':function(){return _0x2dfb3c[_0x2fb46b];}}),Object[_0x50879e(0x1df)](_0x5bd7a8,_0x3b2dd2,_0x5dda74);}:function(_0x4ed224,_0x26d929,_0x592a1d,_0x3afe38){if(_0x3afe38===undefined)_0x3afe38=_0x592a1d;_0x4ed224[_0x3afe38]=_0x26d929[_0x592a1d];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a387_0x1c8f1d(0x1e4)]?function(_0x28f388,_0x87ff23){const _0x51850d=a387_0x1c8f1d;Object[_0x51850d(0x1df)](_0x28f388,_0x51850d(0x1bb),{'enumerable':!![],'value':_0x87ff23});}:function(_0x3ee79a,_0x183599){const _0x27385e=a387_0x1c8f1d;_0x3ee79a[_0x27385e(0x1bb)]=_0x183599;}),__importStar=this&&this[a387_0x1c8f1d(0x1ed)]||function(_0x564a67){const _0x3a723b=a387_0x1c8f1d;if(_0x564a67&&_0x564a67['__esModule'])return _0x564a67;var _0x12827b={};if(_0x564a67!=null){for(var _0x538afd in _0x564a67)if(_0x538afd!==_0x3a723b(0x1bb)&&Object[_0x3a723b(0x1bf)][_0x3a723b(0x1b7)][_0x3a723b(0x1e3)](_0x564a67,_0x538afd))__createBinding(_0x12827b,_0x564a67,_0x538afd);}return __setModuleDefault(_0x12827b,_0x564a67),_0x12827b;},__importDefault=this&&this[a387_0x1c8f1d(0x1dc)]||function(_0x238432){const _0x9768ce=a387_0x1c8f1d;return _0x238432&&_0x238432[_0x9768ce(0x1d9)]?_0x238432:{'default':_0x238432};};Object['defineProperty'](exports,a387_0x1c8f1d(0x1d9),{'value':!![]});const Yup=__importStar(require(a387_0x1c8f1d(0x1cb))),AppError_1=__importDefault(require(a387_0x1c8f1d(0x1b9))),Company_1=__importDefault(require(a387_0x1c8f1d(0x1e6))),User_1=__importDefault(require(a387_0x1c8f1d(0x1d4))),Setting_1=__importDefault(require(a387_0x1c8f1d(0x1ee))),CreateCompanyService=async _0x8d19a2=>{const _0x22a343=a387_0x1c8f1d,{name:_0x4bf4db,phone:_0xd0562a,email:_0x46c9e0,status:_0x533746,planId:_0x3ecb26,password:_0x2b3ec1,campaignsEnabled:_0x4318a1,dueDate:_0x4ab4a5,recurrence:_0x1ca04f}=_0x8d19a2,_0x154287=Yup[_0x22a343(0x1e5)]()[_0x22a343(0x1e7)]({'name':Yup[_0x22a343(0x1c9)]()[_0x22a343(0x1e9)](0x2,_0x22a343(0x1ec))[_0x22a343(0x1db)](_0x22a343(0x1ec))[_0x22a343(0x1c1)]('Check-unique-name',_0x22a343(0x1de),async _0x5d0207=>{const _0x57447f=_0x22a343;if(_0x5d0207){const _0x5059d3=await Company_1[_0x57447f(0x1bb)][_0x57447f(0x1da)]({'where':{'name':_0x5d0207}});return!_0x5059d3;}return![];})});try{await _0x154287[_0x22a343(0x1e0)]({'name':_0x4bf4db});}catch(_0x215d7c){throw new AppError_1[(_0x22a343(0x1bb))](_0x215d7c[_0x22a343(0x1b4)]);}const _0x4013ea=await Company_1[_0x22a343(0x1bb)][_0x22a343(0x1e4)]({'name':_0x4bf4db,'phone':_0xd0562a,'email':_0x46c9e0,'status':_0x533746,'planId':_0x3ecb26,'dueDate':_0x4ab4a5,'recurrence':_0x1ca04f}),_0x1115f3=await User_1[_0x22a343(0x1bb)]['create']({'name':_0x4013ea[_0x22a343(0x1f0)],'email':_0x4013ea[_0x22a343(0x1ce)],'password':_0x8d19a2[_0x22a343(0x1f1)]||_0x22a343(0x1c6),'profile':_0x22a343(0x1eb),'companyId':_0x4013ea['id']});await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1cf)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1cf),'value':''}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1c2)},'defaults':{'companyId':_0x4013ea['id'],'key':'tokenixc','value':''}}),await Setting_1[_0x22a343(0x1bb)]['findOrCreate']({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1bc)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1bc),'value':''}}),await Setting_1[_0x22a343(0x1bb)]['findOrCreate']({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1d7)},'defaults':{'companyId':_0x4013ea['id'],'key':'ipmkauth','value':''}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1b2)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1b2),'value':''}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1d2)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1d2),'value':''}}),await Setting_1['default'][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':'CheckMsgIsGroup'},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1ca),'value':''}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':''},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1e3),'value':_0x22a343(0x1d6)}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1c5)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1c5),'value':_0x22a343(0x1d6)}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':'sendGreetingAccepted'},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1d8),'value':_0x22a343(0x1d6)}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1b6)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1b6),'value':_0x22a343(0x1d6)}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':'userRating'},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1cc),'value':_0x22a343(0x1d6)}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1ef)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1ef),'value':_0x22a343(0x1b3)}}),await Setting_1[_0x22a343(0x1bb)][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':'tokensgp'},'defaults':{'companyId':_0x4013ea['id'],'key':'tokensgp','value':''}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1be)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1be),'value':''}}),await Setting_1['default'][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':'appsgp'},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1f3),'value':''}});if(_0x8d19a2['campaignsEnabled']!==undefined){const [_0x3ecddf,_0x3435d5]=await Setting_1['default'][_0x22a343(0x1bd)]({'where':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1b8)},'defaults':{'companyId':_0x4013ea['id'],'key':_0x22a343(0x1b8),'value':''+_0x4318a1}});!_0x3435d5&&await _0x3ecddf[_0x22a343(0x1d0)]({'value':''+_0x4318a1});}return _0x4013ea;};function a387_0x32d6(_0xd4ff7,_0x235c9a){const _0x16ccf6=a387_0x5110();return a387_0x32d6=function(_0x2cb0a9,_0x2369ae){_0x2cb0a9=_0x2cb0a9-0x1b2;let _0x51106f=_0x16ccf6[_0x2cb0a9];return _0x51106f;},a387_0x32d6(_0xd4ff7,_0x235c9a);}exports[a387_0x1c8f1d(0x1bb)]=CreateCompanyService;