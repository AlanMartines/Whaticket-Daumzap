const a387_0x3274b6=a387_0x1432;(function(_0x895718,_0x49189b){const _0x29cf3e=a387_0x1432,_0xcda9e8=_0x895718();while(!![]){try{const _0x532e56=-parseInt(_0x29cf3e(0xb7))/0x1*(parseInt(_0x29cf3e(0xc9))/0x2)+parseInt(_0x29cf3e(0xc8))/0x3+parseInt(_0x29cf3e(0xea))/0x4*(-parseInt(_0x29cf3e(0xef))/0x5)+-parseInt(_0x29cf3e(0xd7))/0x6*(parseInt(_0x29cf3e(0xe2))/0x7)+parseInt(_0x29cf3e(0xe4))/0x8+-parseInt(_0x29cf3e(0xdd))/0x9*(parseInt(_0x29cf3e(0xcd))/0xa)+parseInt(_0x29cf3e(0xf0))/0xb;if(_0x532e56===_0x49189b)break;else _0xcda9e8['push'](_0xcda9e8['shift']());}catch(_0x9b94f5){_0xcda9e8['push'](_0xcda9e8['shift']());}}}(a387_0x34b2,0x63aa2));const a387_0x150663=(function(){let _0x717a29=!![];return function(_0x6b5311,_0x36f846){const _0x137496=_0x717a29?function(){if(_0x36f846){const _0x260b20=_0x36f846['apply'](_0x6b5311,arguments);return _0x36f846=null,_0x260b20;}}:function(){};return _0x717a29=![],_0x137496;};}()),a387_0x183777=a387_0x150663(this,function(){const _0x4af472=a387_0x1432;return a387_0x183777[_0x4af472(0xe8)]()['search'](_0x4af472(0xbe))[_0x4af472(0xe8)]()[_0x4af472(0xcc)](a387_0x183777)[_0x4af472(0xe0)](_0x4af472(0xbe));});a387_0x183777();function a387_0x34b2(){const _0x4da556=['asaas','sendGreetingAccepted','required','(((.+)+)+)+$','prototype','scheduleType','message','sendMsgTransfTicket','__createBinding','__importDefault','../../models/Setting','shape','disabled','166800aCMcHJ','2CLqxWJ','__setModuleDefault','__esModule','constructor','10UuoXnq','name','../../errors/AppError','tokenixc','clientidmkauth','ERR_COMPANY_NAME_ALREADY_EXISTS','hasOwnProperty','email','defineProperty','update','3779112kgjMLC','ipmkauth','text','test','../../models/Company','writable','256752hSQuVZ','configurable','object','search','findOrCreate','7jTCxPO','admin','5888040YXYzPk','userRating','chatBotType','min','toString','mudar@123','172vxftmK','appsgp','create','ipixc','campaignsEnabled','74910sKxMah','18534461SaWZGh','password','default','ipsgp','call','tokensgp','ERR_COMPANY_INVALID_NAME','clientsecretmkauth','CheckMsgIsGroup','findOne','765724quxSpo','validate','yup','../../models/User'];a387_0x34b2=function(){return _0x4da556;};return a387_0x34b2();}'use strict';var __createBinding=this&&this[a387_0x3274b6(0xc3)]||(Object[a387_0x3274b6(0xec)]?function(_0x5a18c0,_0x168224,_0x4c34f8,_0x488fe4){const _0x2890cb=a387_0x3274b6;if(_0x488fe4===undefined)_0x488fe4=_0x4c34f8;var _0x39fede=Object['getOwnPropertyDescriptor'](_0x168224,_0x4c34f8);(!_0x39fede||('get'in _0x39fede?!_0x168224[_0x2890cb(0xcb)]:_0x39fede[_0x2890cb(0xdc)]||_0x39fede[_0x2890cb(0xde)]))&&(_0x39fede={'enumerable':!![],'get':function(){return _0x168224[_0x4c34f8];}}),Object[_0x2890cb(0xd5)](_0x5a18c0,_0x488fe4,_0x39fede);}:function(_0x502cbe,_0x62190a,_0x38c832,_0x1a5485){if(_0x1a5485===undefined)_0x1a5485=_0x38c832;_0x502cbe[_0x1a5485]=_0x62190a[_0x38c832];}),__setModuleDefault=this&&this[a387_0x3274b6(0xca)]||(Object[a387_0x3274b6(0xec)]?function(_0x17f811,_0x16314e){const _0x5890d3=a387_0x3274b6;Object[_0x5890d3(0xd5)](_0x17f811,_0x5890d3(0xf2),{'enumerable':!![],'value':_0x16314e});}:function(_0x1e3d1d,_0x3c1ff0){const _0x27b06b=a387_0x3274b6;_0x1e3d1d[_0x27b06b(0xf2)]=_0x3c1ff0;}),__importStar=this&&this['__importStar']||function(_0x2eec5a){const _0x56d764=a387_0x3274b6;if(_0x2eec5a&&_0x2eec5a[_0x56d764(0xcb)])return _0x2eec5a;var _0x38d932={};if(_0x2eec5a!=null){for(var _0x3436db in _0x2eec5a)if(_0x3436db!=='default'&&Object[_0x56d764(0xbf)][_0x56d764(0xd3)][_0x56d764(0xf4)](_0x2eec5a,_0x3436db))__createBinding(_0x38d932,_0x2eec5a,_0x3436db);}return __setModuleDefault(_0x38d932,_0x2eec5a),_0x38d932;},__importDefault=this&&this[a387_0x3274b6(0xc4)]||function(_0x1d25d2){const _0x4d4095=a387_0x3274b6;return _0x1d25d2&&_0x1d25d2[_0x4d4095(0xcb)]?_0x1d25d2:{'default':_0x1d25d2};};function a387_0x1432(_0x46a841,_0x504fe1){const _0x421b88=a387_0x34b2();return a387_0x1432=function(_0x183777,_0x150663){_0x183777=_0x183777-0xb3;let _0x34b262=_0x421b88[_0x183777];return _0x34b262;},a387_0x1432(_0x46a841,_0x504fe1);}Object[a387_0x3274b6(0xd5)](exports,a387_0x3274b6(0xcb),{'value':!![]});const Yup=__importStar(require(a387_0x3274b6(0xb9))),AppError_1=__importDefault(require(a387_0x3274b6(0xcf))),Company_1=__importDefault(require(a387_0x3274b6(0xdb))),User_1=__importDefault(require(a387_0x3274b6(0xba))),Setting_1=__importDefault(require(a387_0x3274b6(0xc5))),CreateCompanyService=async _0x3c2a8c=>{const _0x48f7b9=a387_0x3274b6,{name:_0x4c56a4,phone:_0x23430e,email:_0x50f0fc,status:_0x31c2ec,planId:_0x21cbcf,password:_0x5a06ff,campaignsEnabled:_0x332081,dueDate:_0x469861,recurrence:_0x3ed4f4}=_0x3c2a8c,_0x23ee53=Yup[_0x48f7b9(0xdf)]()[_0x48f7b9(0xc6)]({'name':Yup['string']()[_0x48f7b9(0xe7)](0x2,_0x48f7b9(0xb3))[_0x48f7b9(0xbd)](_0x48f7b9(0xb3))[_0x48f7b9(0xda)]('Check-unique-name',_0x48f7b9(0xd2),async _0x439d1e=>{const _0x610b6c=_0x48f7b9;if(_0x439d1e){const _0x228404=await Company_1[_0x610b6c(0xf2)][_0x610b6c(0xb6)]({'where':{'name':_0x439d1e}});return!_0x228404;}return![];})});try{await _0x23ee53[_0x48f7b9(0xb8)]({'name':_0x4c56a4});}catch(_0x331933){throw new AppError_1[(_0x48f7b9(0xf2))](_0x331933[_0x48f7b9(0xc1)]);}const _0x5ebae9=await Company_1[_0x48f7b9(0xf2)]['create']({'name':_0x4c56a4,'phone':_0x23430e,'email':_0x50f0fc,'status':_0x31c2ec,'planId':_0x21cbcf,'dueDate':_0x469861,'recurrence':_0x3ed4f4}),_0x1b66a4=await User_1[_0x48f7b9(0xf2)]['create']({'name':_0x5ebae9[_0x48f7b9(0xce)],'email':_0x5ebae9[_0x48f7b9(0xd4)],'password':_0x3c2a8c[_0x48f7b9(0xf1)]||_0x48f7b9(0xe9),'profile':_0x48f7b9(0xe3),'companyId':_0x5ebae9['id']});await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xbb)},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xbb),'value':''}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xd0)},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xd0),'value':''}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xed)},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xed),'value':''}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xd8)},'defaults':{'companyId':_0x5ebae9['id'],'key':'ipmkauth','value':''}}),await Setting_1[_0x48f7b9(0xf2)]['findOrCreate']({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xb4)},'defaults':{'companyId':_0x5ebae9['id'],'key':'clientsecretmkauth','value':''}}),await Setting_1[_0x48f7b9(0xf2)]['findOrCreate']({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xd1)},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xd1),'value':''}}),await Setting_1['default'][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xb5)},'defaults':{'companyId':_0x5ebae9['id'],'key':'enabled','value':''}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':''},'defaults':{'companyId':_0x5ebae9['id'],'key':'call','value':_0x48f7b9(0xc7)}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xc0)},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xc0),'value':_0x48f7b9(0xc7)}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xbc)},'defaults':{'companyId':_0x5ebae9['id'],'key':'sendGreetingAccepted','value':_0x48f7b9(0xc7)}}),await Setting_1[_0x48f7b9(0xf2)]['findOrCreate']({'where':{'companyId':_0x5ebae9['id'],'key':'sendMsgTransfTicket'},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xc2),'value':_0x48f7b9(0xc7)}}),await Setting_1['default']['findOrCreate']({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xe5)},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xe5),'value':_0x48f7b9(0xc7)}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':'chatBotType'},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xe6),'value':_0x48f7b9(0xd9)}}),await Setting_1[_0x48f7b9(0xf2)]['findOrCreate']({'where':{'companyId':_0x5ebae9['id'],'key':'tokensgp'},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xf5),'value':''}}),await Setting_1[_0x48f7b9(0xf2)]['findOrCreate']({'where':{'companyId':_0x5ebae9['id'],'key':'ipsgp'},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xf3),'value':''}}),await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xeb)},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xeb),'value':''}});if(_0x3c2a8c[_0x48f7b9(0xee)]!==undefined){const [_0x28d216,_0x3c7eb0]=await Setting_1[_0x48f7b9(0xf2)][_0x48f7b9(0xe1)]({'where':{'companyId':_0x5ebae9['id'],'key':'campaignsEnabled'},'defaults':{'companyId':_0x5ebae9['id'],'key':_0x48f7b9(0xee),'value':''+_0x332081}});!_0x3c7eb0&&await _0x28d216[_0x48f7b9(0xd6)]({'value':''+_0x332081});}return _0x5ebae9;};exports['default']=CreateCompanyService;