const a38_0x2e740a=a38_0x39f3;(function(_0x19f133,_0x119011){const _0x1b10c5=a38_0x39f3,_0x2c0d87=_0x19f133();while(!![]){try{const _0x5c6491=parseInt(_0x1b10c5(0x77))/0x1+parseInt(_0x1b10c5(0x6d))/0x2+-parseInt(_0x1b10c5(0x80))/0x3+-parseInt(_0x1b10c5(0x79))/0x4+-parseInt(_0x1b10c5(0x99))/0x5+parseInt(_0x1b10c5(0x6f))/0x6+parseInt(_0x1b10c5(0x76))/0x7;if(_0x5c6491===_0x119011)break;else _0x2c0d87['push'](_0x2c0d87['shift']());}catch(_0x208f1a){_0x2c0d87['push'](_0x2c0d87['shift']());}}}(a38_0x3bbd,0x8e251));const a38_0x15c7c5=(function(){let _0x27df35=!![];return function(_0x400fe8,_0x4525d6){const _0x532fff=_0x27df35?function(){const _0x1797b5=a38_0x39f3;if(_0x4525d6){const _0x34217c=_0x4525d6[_0x1797b5(0x8d)](_0x400fe8,arguments);return _0x4525d6=null,_0x34217c;}}:function(){};return _0x27df35=![],_0x532fff;};}()),a38_0x4ba972=a38_0x15c7c5(this,function(){const _0x26992a=a38_0x39f3;return a38_0x4ba972['toString']()['search'](_0x26992a(0x9d))[_0x26992a(0x6e)]()[_0x26992a(0x74)](a38_0x4ba972)['search'](_0x26992a(0x9d));});a38_0x4ba972();'use strict';var __importDefault=this&&this[a38_0x2e740a(0x92)]||function(_0x2d0b45){const _0x4e9b27=a38_0x2e740a;return _0x2d0b45&&_0x2d0b45[_0x4e9b27(0x70)]?_0x2d0b45:{'default':_0x2d0b45};};function a38_0x3bbd(){const _0x458abf=['show','store','status','update','2445660Cmlblv','user','list','admin','(((.+)+)+)+$','../services/TagServices/UpdateService','ERR_NO_PERMISSION','231556QKWavl','toString','3870594kZpjKh','__esModule','../services/TagServices/SimpleListService','index','params','constructor','create','11942595QskbWt','431460gjTLyT','default','3416464gqdIkx','company-','error','Tag\x20deleted','All\x20tags\x20deleted\x20successfully','profile','Error\x20deleting\x20all\x20tags','2918847rAxeWU','send','tag','delete','removeAll','../services/TagServices/ListService','../services/TagServices/KanbanListService','body','query','../errors/AppError','getIO','../services/TagServices/DeleteService','emit','apply','kanban','remove','syncTags','json','__importDefault','../services/TagServices/SyncTagsService','-mainchannel'];a38_0x3bbd=function(){return _0x458abf;};return a38_0x3bbd();}Object['defineProperty'](exports,a38_0x2e740a(0x70),{'value':!![]}),exports[a38_0x2e740a(0x90)]=exports[a38_0x2e740a(0x9b)]=exports['removeAll']=exports[a38_0x2e740a(0x8f)]=exports[a38_0x2e740a(0x98)]=exports[a38_0x2e740a(0x95)]=exports[a38_0x2e740a(0x8e)]=exports[a38_0x2e740a(0x96)]=exports[a38_0x2e740a(0x72)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require(a38_0x2e740a(0x89))),CreateService_1=__importDefault(require('../services/TagServices/CreateService')),ListService_1=__importDefault(require(a38_0x2e740a(0x85))),UpdateService_1=__importDefault(require(a38_0x2e740a(0x9e))),ShowService_1=__importDefault(require('../services/TagServices/ShowService')),DeleteService_1=__importDefault(require(a38_0x2e740a(0x8b))),DeleteAllTagService_1=__importDefault(require('../services/TagServices/DeleteAllTagService')),SimpleListService_1=__importDefault(require(a38_0x2e740a(0x71))),SyncTagsService_1=__importDefault(require(a38_0x2e740a(0x93))),KanbanListService_1=__importDefault(require(a38_0x2e740a(0x86))),index=async(_0x1a0a5f,_0x5bbe21)=>{const _0x5b9747=a38_0x2e740a,{pageNumber:_0x4b9ea4,searchParam:_0x5e0c90}=_0x1a0a5f[_0x5b9747(0x88)],{companyId:_0x3a2cbd}=_0x1a0a5f['user'],{tags:_0x198c62,count:_0x2c1621,hasMore:_0x2e2fc9}=await(0x0,ListService_1[_0x5b9747(0x78)])({'searchParam':_0x5e0c90,'pageNumber':_0x4b9ea4,'companyId':_0x3a2cbd});return _0x5bbe21[_0x5b9747(0x91)]({'tags':_0x198c62,'count':_0x2c1621,'hasMore':_0x2e2fc9});};exports[a38_0x2e740a(0x72)]=index;const store=async(_0xdaa4af,_0x2485ff)=>{const _0x168f10=a38_0x2e740a,{name:_0x3b01c,color:_0x5a64ff,kanban:_0x43946f}=_0xdaa4af[_0x168f10(0x87)],{companyId:_0x34d237}=_0xdaa4af[_0x168f10(0x9a)],_0x2f25d7=await(0x0,CreateService_1['default'])({'name':_0x3b01c,'color':_0x5a64ff,'kanban':_0x43946f||null,'companyId':_0x34d237}),_0x4360b4=(0x0,socket_1['getIO'])();return _0x4360b4['to'](_0x168f10(0x7a)+_0x34d237+_0x168f10(0x94))['emit'](_0x168f10(0x82),{'action':_0x168f10(0x75),'tag':_0x2f25d7}),_0x2485ff[_0x168f10(0x97)](0xc8)['json'](_0x2f25d7);};exports[a38_0x2e740a(0x96)]=store;const kanban=async(_0x905b5c,_0x4f908e)=>{const _0x29f549=a38_0x2e740a,{companyId:_0x3b3e29}=_0x905b5c[_0x29f549(0x9a)],_0x42b923=await(0x0,KanbanListService_1[_0x29f549(0x78)])({'companyId':_0x3b3e29});return _0x4f908e[_0x29f549(0x91)]({'lista':_0x42b923});};exports[a38_0x2e740a(0x8e)]=kanban;const show=async(_0x387f00,_0x5994eb)=>{const _0x36841e=a38_0x2e740a,{tagId:_0x4394a1}=_0x387f00[_0x36841e(0x73)],_0x3c1308=await(0x0,ShowService_1['default'])(_0x4394a1);return _0x5994eb[_0x36841e(0x97)](0xc8)[_0x36841e(0x91)](_0x3c1308);};exports[a38_0x2e740a(0x95)]=show;const update=async(_0x7d8617,_0x401ebf)=>{const _0x124c03=a38_0x2e740a;if(_0x7d8617['user'][_0x124c03(0x7e)]!==_0x124c03(0x9c))throw new AppError_1[(_0x124c03(0x78))](_0x124c03(0x6c),0x193);const {tagId:_0x5a114f}=_0x7d8617[_0x124c03(0x73)],_0xdd63da=_0x7d8617[_0x124c03(0x87)],_0x186845=await(0x0,UpdateService_1[_0x124c03(0x78)])({'tagData':_0xdd63da,'id':_0x5a114f}),_0x125f59=(0x0,socket_1[_0x124c03(0x8a)])();return _0x125f59[_0x124c03(0x8c)]('tag',{'action':_0x124c03(0x98),'tag':_0x186845}),_0x401ebf[_0x124c03(0x97)](0xc8)[_0x124c03(0x91)](_0x186845);};exports['update']=update;const remove=async(_0x34a258,_0x2e4a8f)=>{const _0x1670f9=a38_0x2e740a,{tagId:_0x11a65a}=_0x34a258[_0x1670f9(0x73)];await(0x0,DeleteService_1[_0x1670f9(0x78)])(_0x11a65a);const _0x347022=(0x0,socket_1[_0x1670f9(0x8a)])();return _0x347022['emit']('tag',{'action':_0x1670f9(0x83),'tagId':_0x11a65a}),_0x2e4a8f['status'](0xc8)[_0x1670f9(0x91)]({'message':_0x1670f9(0x7c)});};exports[a38_0x2e740a(0x8f)]=remove;const removeAll=async(_0x338e3f,_0xc2fcab)=>{const _0x521041=a38_0x2e740a,{companyId:_0x3de9eb}=_0x338e3f[_0x521041(0x9a)];try{return await(0x0,DeleteAllTagService_1['default'])(_0x3de9eb),_0xc2fcab[_0x521041(0x97)](0xc8)[_0x521041(0x81)]({'message':_0x521041(0x7d)});}catch(_0xa75373){return console[_0x521041(0x7b)](_0xa75373),_0xc2fcab[_0x521041(0x97)](0x1f4)[_0x521041(0x81)]({'message':_0x521041(0x7f)});}};exports[a38_0x2e740a(0x84)]=removeAll;function a38_0x39f3(_0x305e26,_0x3420f4){const _0x31bf79=a38_0x3bbd();return a38_0x39f3=function(_0x4ba972,_0x15c7c5){_0x4ba972=_0x4ba972-0x6c;let _0x3bbd6b=_0x31bf79[_0x4ba972];return _0x3bbd6b;},a38_0x39f3(_0x305e26,_0x3420f4);}const list=async(_0x20dd5f,_0x28d3e3)=>{const _0x2792df=a38_0x2e740a,{searchParam:_0x51b965}=_0x20dd5f[_0x2792df(0x88)],{companyId:_0x35f150}=_0x20dd5f[_0x2792df(0x9a)],_0x2ab8ca=await(0x0,SimpleListService_1['default'])({'searchParam':_0x51b965,'companyId':_0x35f150});return _0x28d3e3[_0x2792df(0x91)](_0x2ab8ca);};exports[a38_0x2e740a(0x9b)]=list;const syncTags=async(_0x235fcf,_0x218027)=>{const _0x47ad8c=a38_0x2e740a,_0xf4f374=_0x235fcf['body'],{companyId:_0x2f4c9a}=_0x235fcf[_0x47ad8c(0x9a)],_0x18260e=await(0x0,SyncTagsService_1[_0x47ad8c(0x78)])({..._0xf4f374,'companyId':_0x2f4c9a});return _0x218027[_0x47ad8c(0x91)](_0x18260e);};exports[a38_0x2e740a(0x90)]=syncTags;