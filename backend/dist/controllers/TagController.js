const a38_0x2f0b87=a38_0x417f;(function(_0x1130f2,_0x9bccf2){const _0xb82838=a38_0x417f,_0x230689=_0x1130f2();while(!![]){try{const _0x4bdd9e=-parseInt(_0xb82838(0x130))/0x1*(-parseInt(_0xb82838(0x13f))/0x2)+-parseInt(_0xb82838(0x123))/0x3*(parseInt(_0xb82838(0x13c))/0x4)+-parseInt(_0xb82838(0x118))/0x5+parseInt(_0xb82838(0x140))/0x6*(-parseInt(_0xb82838(0x145))/0x7)+parseInt(_0xb82838(0x138))/0x8+-parseInt(_0xb82838(0x119))/0x9*(-parseInt(_0xb82838(0x132))/0xa)+parseInt(_0xb82838(0x139))/0xb;if(_0x4bdd9e===_0x9bccf2)break;else _0x230689['push'](_0x230689['shift']());}catch(_0x1384ae){_0x230689['push'](_0x230689['shift']());}}}(a38_0x5da9,0xb8d75));const a38_0x531cd6=(function(){let _0x4b6c07=!![];return function(_0x156dbc,_0x4117e9){const _0x5e841b=_0x4b6c07?function(){const _0x5a1c8a=a38_0x417f;if(_0x4117e9){const _0x20a920=_0x4117e9[_0x5a1c8a(0x122)](_0x156dbc,arguments);return _0x4117e9=null,_0x20a920;}}:function(){};return _0x4b6c07=![],_0x5e841b;};}()),a38_0x57a9c4=a38_0x531cd6(this,function(){const _0x249ec5=a38_0x417f;return a38_0x57a9c4[_0x249ec5(0x127)]()['search'](_0x249ec5(0x137))[_0x249ec5(0x127)]()[_0x249ec5(0x13d)](a38_0x57a9c4)['search'](_0x249ec5(0x137));});a38_0x57a9c4();'use strict';var __importDefault=this&&this[a38_0x2f0b87(0x144)]||function(_0x4db8f7){const _0x26f0d9=a38_0x2f0b87;return _0x4db8f7&&_0x4db8f7[_0x26f0d9(0x14b)]?_0x4db8f7:{'default':_0x4db8f7};};Object['defineProperty'](exports,a38_0x2f0b87(0x14b),{'value':!![]}),exports['syncTags']=exports[a38_0x2f0b87(0x128)]=exports['removeAll']=exports[a38_0x2f0b87(0x135)]=exports[a38_0x2f0b87(0x146)]=exports[a38_0x2f0b87(0x12b)]=exports[a38_0x2f0b87(0x126)]=exports[a38_0x2f0b87(0x11d)]=exports['index']=void 0x0;const socket_1=require(a38_0x2f0b87(0x148)),AppError_1=__importDefault(require(a38_0x2f0b87(0x12d))),CreateService_1=__importDefault(require(a38_0x2f0b87(0x12c))),ListService_1=__importDefault(require('../services/TagServices/ListService')),UpdateService_1=__importDefault(require(a38_0x2f0b87(0x134))),ShowService_1=__importDefault(require(a38_0x2f0b87(0x11f))),DeleteService_1=__importDefault(require(a38_0x2f0b87(0x11c))),DeleteAllTagService_1=__importDefault(require(a38_0x2f0b87(0x131))),SimpleListService_1=__importDefault(require(a38_0x2f0b87(0x143))),SyncTagsService_1=__importDefault(require(a38_0x2f0b87(0x117))),KanbanListService_1=__importDefault(require(a38_0x2f0b87(0x141))),index=async(_0x29167f,_0x5cfc53)=>{const _0x4699b4=a38_0x2f0b87,{pageNumber:_0x468de4,searchParam:_0x5ef7cd}=_0x29167f[_0x4699b4(0x133)],{companyId:_0x3c4363}=_0x29167f['user'],{tags:_0xbeb417,count:_0x28b4b2,hasMore:_0x18d6e6}=await(0x0,ListService_1['default'])({'searchParam':_0x5ef7cd,'pageNumber':_0x468de4,'companyId':_0x3c4363});return _0x5cfc53[_0x4699b4(0x121)]({'tags':_0xbeb417,'count':_0x28b4b2,'hasMore':_0x18d6e6});};exports[a38_0x2f0b87(0x147)]=index;const store=async(_0x1a907f,_0x9339cb)=>{const _0x55626c=a38_0x2f0b87,{name:_0x4b25b9,color:_0xcedee2,kanban:_0x388906}=_0x1a907f[_0x55626c(0x124)],{companyId:_0x1bf36c}=_0x1a907f['user'],_0x174f18=await(0x0,CreateService_1[_0x55626c(0x12a)])({'name':_0x4b25b9,'color':_0xcedee2,'kanban':_0x388906||null,'companyId':_0x1bf36c}),_0x2a9507=(0x0,socket_1['getIO'])();return _0x2a9507['to']('company-'+_0x1bf36c+_0x55626c(0x136))[_0x55626c(0x11e)](_0x55626c(0x13a),{'action':'create','tag':_0x174f18}),_0x9339cb['status'](0xc8)[_0x55626c(0x121)](_0x174f18);};exports[a38_0x2f0b87(0x11d)]=store;const kanban=async(_0x2304b2,_0x12bb00)=>{const _0x172024=a38_0x2f0b87,{companyId:_0x1982f6}=_0x2304b2['user'],_0x5e1523=await(0x0,KanbanListService_1[_0x172024(0x12a)])({'companyId':_0x1982f6});return _0x12bb00[_0x172024(0x121)]({'lista':_0x5e1523});};function a38_0x5da9(){const _0x18c0e6=['682cXHRdg','73086vzNXhx','../services/TagServices/KanbanListService','Error\x20deleting\x20all\x20tags','../services/TagServices/SimpleListService','__importDefault','756uBsgau','update','index','../libs/socket','user','removeAll','__esModule','../services/TagServices/SyncTagsService','1888120oFENNV','6849PBKhlR','error','syncTags','../services/TagServices/DeleteService','store','emit','../services/TagServices/ShowService','send','json','apply','862329pSmJcG','body','profile','kanban','toString','list','status','default','show','../services/TagServices/CreateService','../errors/AppError','Tag\x20deleted','ERR_NO_PERMISSION','2615yeLuGc','../services/TagServices/DeleteAllTagService','10550aDJFtK','query','../services/TagServices/UpdateService','remove','-mainchannel','(((.+)+)+)+$','2087272AoJMwP','8604695JRxJSx','tag','getIO','4hHOkgF','constructor','params'];a38_0x5da9=function(){return _0x18c0e6;};return a38_0x5da9();}exports[a38_0x2f0b87(0x126)]=kanban;const show=async(_0x3afd43,_0x22551c)=>{const _0x30d27e=a38_0x2f0b87,{tagId:_0x5a917c}=_0x3afd43['params'],_0x374552=await(0x0,ShowService_1[_0x30d27e(0x12a)])(_0x5a917c);return _0x22551c[_0x30d27e(0x129)](0xc8)['json'](_0x374552);};exports['show']=show;const update=async(_0x487dfc,_0x53c1ea)=>{const _0x4b2962=a38_0x2f0b87;if(_0x487dfc['user'][_0x4b2962(0x125)]!=='admin')throw new AppError_1[(_0x4b2962(0x12a))](_0x4b2962(0x12f),0x193);const {tagId:_0x5a4f46}=_0x487dfc[_0x4b2962(0x13e)],_0x1a9907=_0x487dfc[_0x4b2962(0x124)],_0x3befd3=await(0x0,UpdateService_1[_0x4b2962(0x12a)])({'tagData':_0x1a9907,'id':_0x5a4f46}),_0x1df7ee=(0x0,socket_1['getIO'])();return _0x1df7ee['emit'](_0x4b2962(0x13a),{'action':_0x4b2962(0x146),'tag':_0x3befd3}),_0x53c1ea[_0x4b2962(0x129)](0xc8)[_0x4b2962(0x121)](_0x3befd3);};exports[a38_0x2f0b87(0x146)]=update;const remove=async(_0x3e9ecb,_0x1a28f1)=>{const _0x3451c8=a38_0x2f0b87,{tagId:_0x581d56}=_0x3e9ecb[_0x3451c8(0x13e)];await(0x0,DeleteService_1[_0x3451c8(0x12a)])(_0x581d56);const _0x3a0c5c=(0x0,socket_1[_0x3451c8(0x13b)])();return _0x3a0c5c[_0x3451c8(0x11e)](_0x3451c8(0x13a),{'action':'delete','tagId':_0x581d56}),_0x1a28f1[_0x3451c8(0x129)](0xc8)['json']({'message':_0x3451c8(0x12e)});};exports[a38_0x2f0b87(0x135)]=remove;const removeAll=async(_0x221563,_0x3cbe56)=>{const _0x54edf2=a38_0x2f0b87,{companyId:_0x5dbc55}=_0x221563[_0x54edf2(0x149)];try{return await(0x0,DeleteAllTagService_1['default'])(_0x5dbc55),_0x3cbe56[_0x54edf2(0x129)](0xc8)[_0x54edf2(0x120)]({'message':'All\x20tags\x20deleted\x20successfully'});}catch(_0x5eac81){return console[_0x54edf2(0x11a)](_0x5eac81),_0x3cbe56[_0x54edf2(0x129)](0x1f4)[_0x54edf2(0x120)]({'message':_0x54edf2(0x142)});}};exports[a38_0x2f0b87(0x14a)]=removeAll;const list=async(_0x445840,_0x374f2e)=>{const _0x22f983=a38_0x2f0b87,{searchParam:_0x51f17d}=_0x445840[_0x22f983(0x133)],{companyId:_0x45112d}=_0x445840['user'],_0x587de1=await(0x0,SimpleListService_1[_0x22f983(0x12a)])({'searchParam':_0x51f17d,'companyId':_0x45112d});return _0x374f2e['json'](_0x587de1);};function a38_0x417f(_0x554e1a,_0x5d31a){const _0x12241a=a38_0x5da9();return a38_0x417f=function(_0x57a9c4,_0x531cd6){_0x57a9c4=_0x57a9c4-0x117;let _0x5da95f=_0x12241a[_0x57a9c4];return _0x5da95f;},a38_0x417f(_0x554e1a,_0x5d31a);}exports[a38_0x2f0b87(0x128)]=list;const syncTags=async(_0x1b14e4,_0x52dc0d)=>{const _0x4e092f=a38_0x2f0b87,_0x599f80=_0x1b14e4[_0x4e092f(0x124)],{companyId:_0x2891ce}=_0x1b14e4[_0x4e092f(0x149)],_0x21a380=await(0x0,SyncTagsService_1[_0x4e092f(0x12a)])({..._0x599f80,'companyId':_0x2891ce});return _0x52dc0d[_0x4e092f(0x121)](_0x21a380);};exports[a38_0x2f0b87(0x11b)]=syncTags;