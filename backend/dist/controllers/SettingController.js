const a36_0x57df1a=a36_0x330e;(function(_0x2aaf7d,_0x3eae54){const _0x13e1f4=a36_0x330e,_0x49a35b=_0x2aaf7d();while(!![]){try{const _0x49c7f6=-parseInt(_0x13e1f4(0x186))/0x1*(-parseInt(_0x13e1f4(0x18a))/0x2)+-parseInt(_0x13e1f4(0x18b))/0x3*(-parseInt(_0x13e1f4(0x180))/0x4)+parseInt(_0x13e1f4(0x17b))/0x5+parseInt(_0x13e1f4(0x1ae))/0x6+-parseInt(_0x13e1f4(0x193))/0x7*(parseInt(_0x13e1f4(0x1ac))/0x8)+parseInt(_0x13e1f4(0x176))/0x9*(parseInt(_0x13e1f4(0x190))/0xa)+-parseInt(_0x13e1f4(0x184))/0xb;if(_0x49c7f6===_0x3eae54)break;else _0x49a35b['push'](_0x49a35b['shift']());}catch(_0x32f031){_0x49a35b['push'](_0x49a35b['shift']());}}}(a36_0x2226,0xceab7));function a36_0x330e(_0x315ad6,_0x3776a9){const _0x38203d=a36_0x2226();return a36_0x330e=function(_0x306230,_0x568885){_0x306230=_0x306230-0x175;let _0x2226f3=_0x38203d[_0x306230];return _0x2226f3;},a36_0x330e(_0x315ad6,_0x3776a9);}const a36_0x568885=(function(){let _0xda8d03=!![];return function(_0x570c15,_0x42f8d0){const _0x54d803=_0xda8d03?function(){if(_0x42f8d0){const _0x1af247=_0x42f8d0['apply'](_0x570c15,arguments);return _0x42f8d0=null,_0x1af247;}}:function(){};return _0xda8d03=![],_0x54d803;};}()),a36_0x306230=a36_0x568885(this,function(){const _0x4519cd=a36_0x330e;return a36_0x306230[_0x4519cd(0x192)]()[_0x4519cd(0x195)](_0x4519cd(0x19c))[_0x4519cd(0x192)]()[_0x4519cd(0x18d)](a36_0x306230)[_0x4519cd(0x195)]('(((.+)+)+)+$');});a36_0x306230();'use strict';var __createBinding=this&&this[a36_0x57df1a(0x18c)]||(Object['create']?function(_0x3d9020,_0x17da20,_0x1b6ff7,_0x19a205){const _0x4139ee=a36_0x57df1a;if(_0x19a205===undefined)_0x19a205=_0x1b6ff7;var _0x35783f=Object[_0x4139ee(0x1a4)](_0x17da20,_0x1b6ff7);(!_0x35783f||(_0x4139ee(0x1af)in _0x35783f?!_0x17da20['__esModule']:_0x35783f['writable']||_0x35783f[_0x4139ee(0x178)]))&&(_0x35783f={'enumerable':!![],'get':function(){return _0x17da20[_0x1b6ff7];}}),Object[_0x4139ee(0x197)](_0x3d9020,_0x19a205,_0x35783f);}:function(_0x32042a,_0x5c7893,_0x21f467,_0x9954){if(_0x9954===undefined)_0x9954=_0x21f467;_0x32042a[_0x9954]=_0x5c7893[_0x21f467];}),__setModuleDefault=this&&this[a36_0x57df1a(0x1aa)]||(Object[a36_0x57df1a(0x17d)]?function(_0x567ead,_0x18020f){const _0x313784=a36_0x57df1a;Object[_0x313784(0x197)](_0x567ead,'default',{'enumerable':!![],'value':_0x18020f});}:function(_0x42b0bb,_0x51a784){const _0x149fd3=a36_0x57df1a;_0x42b0bb[_0x149fd3(0x17e)]=_0x51a784;}),__importStar=this&&this[a36_0x57df1a(0x19e)]||function(_0x36a5ba){const _0x40ab77=a36_0x57df1a;if(_0x36a5ba&&_0x36a5ba[_0x40ab77(0x1a5)])return _0x36a5ba;var _0x1da3ac={};if(_0x36a5ba!=null){for(var _0xa4994a in _0x36a5ba)if(_0xa4994a!==_0x40ab77(0x17e)&&Object[_0x40ab77(0x188)][_0x40ab77(0x18f)][_0x40ab77(0x187)](_0x36a5ba,_0xa4994a))__createBinding(_0x1da3ac,_0x36a5ba,_0xa4994a);}return __setModuleDefault(_0x1da3ac,_0x36a5ba),_0x1da3ac;},__importDefault=this&&this[a36_0x57df1a(0x17a)]||function(_0x1ca933){return _0x1ca933&&_0x1ca933['__esModule']?_0x1ca933:{'default':_0x1ca933};};Object[a36_0x57df1a(0x197)](exports,a36_0x57df1a(0x1a5),{'value':!![]}),exports[a36_0x57df1a(0x19d)]=exports[a36_0x57df1a(0x19a)]=exports[a36_0x57df1a(0x19b)]=exports[a36_0x57df1a(0x179)]=exports['storeLogo']=exports['publicIndex']=exports['index']=void 0x0;function a36_0x2226(){const _0x35e207=['json','status','32425602SWNxov','-mainchannel','1rfeIkP','call','prototype','filename','1930874kAvTpn','1532049neMcdP','__createBinding','constructor','isSuper','hasOwnProperty','40JWGLLN','body','toString','7921837ODXGRo','Dark','search','../errors/AppError','defineProperty','admin','ERR_NO_PERMISSION','publicShow','update','(((.+)+)+)+$','storePrivateFile','__importStar','../services/SettingServices/UpdateSettingService','company-','user','startsWith','params','getOwnPropertyDescriptor','__esModule','getIO','profile','image/','Light','__setModuleDefault','-settings','8FiHmOG','publicIndex','9502020aByUkm','get','file','index','mimetype','storeLogo','value','3121893voZgZr','../libs/socket','configurable','getSettingRegister','__importDefault','2393470SdkCjz','../services/SettingServices/ListSettingsService','create','default','companyId','4OWsUqW','emit'];a36_0x2226=function(){return _0x35e207;};return a36_0x2226();}const socket_1=require(a36_0x57df1a(0x177)),AppError_1=__importDefault(require(a36_0x57df1a(0x196))),UpdateSettingService_1=__importDefault(require(a36_0x57df1a(0x19f))),ListSettingsService_1=__importDefault(require(a36_0x57df1a(0x17c))),GetPublicSettingService_1=__importStar(require('../services/SettingServices/GetPublicSettingService')),index=async(_0x1fbe7e,_0xc88686)=>{const _0x2f0140=a36_0x57df1a,_0x1916e7=await(0x0,ListSettingsService_1[_0x2f0140(0x17e)])(_0x1fbe7e[_0x2f0140(0x1a1)]);return _0xc88686[_0x2f0140(0x183)](0xc8)['json'](_0x1916e7);};exports[a36_0x57df1a(0x1b1)]=index;const publicIndex=async(_0x570fc5,_0x305476)=>{const _0x420f48=a36_0x57df1a,_0x572b3f=await(0x0,GetPublicSettingService_1['GetAllPublicSettingsService'])(_0x570fc5[_0x420f48(0x1a1)]?.[_0x420f48(0x17f)]);return _0x305476['status'](0xc8)['json'](_0x572b3f);};exports[a36_0x57df1a(0x1ad)]=publicIndex;const storeLogo=async(_0x55dbc5,_0x3e5aec)=>{const _0x4f4262=a36_0x57df1a,_0x57e2c0=_0x55dbc5[_0x4f4262(0x1b0)],{mode:_0x10e14f}=_0x55dbc5[_0x4f4262(0x191)],{companyId:_0x219971}=_0x55dbc5[_0x4f4262(0x1a1)],_0x2881a3=[_0x4f4262(0x1a9),_0x4f4262(0x194),'Favicon'];if(_0x55dbc5[_0x4f4262(0x1a1)]['profile']!==_0x4f4262(0x198))throw new AppError_1[(_0x4f4262(0x17e))]('ERR_NO_PERMISSION',0x193);if(_0x2881a3['indexOf'](_0x10e14f)===-0x1)return _0x3e5aec[_0x4f4262(0x183)](0x196);if(_0x57e2c0&&_0x57e2c0[_0x4f4262(0x1b2)][_0x4f4262(0x1a2)](_0x4f4262(0x1a8))){const _0x43b6e2=await(0x0,UpdateSettingService_1[_0x4f4262(0x17e)])({'key':'appLogo'+_0x10e14f,'value':_0x57e2c0['filename'],'companyId':_0x219971});return _0x3e5aec[_0x4f4262(0x183)](0xc8)[_0x4f4262(0x182)](_0x43b6e2['value']);}return _0x3e5aec[_0x4f4262(0x183)](0x196);};exports[a36_0x57df1a(0x1b3)]=storeLogo;const getSettingRegister=async(_0x5b56b4,_0x477b42)=>{const _0x115d7f=a36_0x57df1a,{companyId:_0x3a06a8}=_0x5b56b4['user'];if(_0x5b56b4[_0x115d7f(0x1a1)][_0x115d7f(0x1a7)]!==_0x115d7f(0x198))throw new AppError_1[(_0x115d7f(0x17e))](_0x115d7f(0x199),0x193);const _0x3eac5c=await(0x0,ListSettingsService_1['default'])(_0x5b56b4[_0x115d7f(0x1a1)]);return _0x477b42[_0x115d7f(0x183)](0xc8)['json'](_0x3eac5c);};exports[a36_0x57df1a(0x179)]=getSettingRegister;const update=async(_0x2eeb5f,_0x3e29c9)=>{const _0x4f39a3=a36_0x57df1a;if(_0x2eeb5f[_0x4f39a3(0x1a1)]['profile']!==_0x4f39a3(0x198))throw new AppError_1[(_0x4f39a3(0x17e))]('ERR_NO_PERMISSION',0x193);const {settingKey:_0x833962}=_0x2eeb5f[_0x4f39a3(0x1a3)],{value:_0x424eb9}=_0x2eeb5f[_0x4f39a3(0x191)],{companyId:_0x4c36a9}=_0x2eeb5f['user'];if(_0x833962['startsWith']('_')&&!_0x2eeb5f[_0x4f39a3(0x1a1)][_0x4f39a3(0x18e)])throw new AppError_1[(_0x4f39a3(0x17e))]('ERR_NO_PERMISSION',0x193);const _0x266884=await(0x0,UpdateSettingService_1[_0x4f39a3(0x17e)])({'key':_0x833962,'value':_0x424eb9,'companyId':_0x4c36a9}),_0x4cabdc=(0x0,socket_1[_0x4f39a3(0x1a6)])();return _0x4cabdc['to'](_0x4f39a3(0x1a0)+_0x4c36a9+_0x4f39a3(0x185))[_0x4f39a3(0x181)]('company-'+_0x4c36a9+_0x4f39a3(0x1ab),{'action':'update','setting':_0x266884}),_0x3e29c9[_0x4f39a3(0x183)](0xc8)['json'](_0x266884);};exports[a36_0x57df1a(0x19b)]=update;const publicShow=async(_0x45f9ec,_0x30eaa0)=>{const _0x2820ca=a36_0x57df1a,{settingKey:_0x33a87a}=_0x45f9ec['params'],_0x5dc68d=await(0x0,GetPublicSettingService_1[_0x2820ca(0x17e)])({'key':_0x33a87a,'companyId':_0x45f9ec[_0x2820ca(0x1a1)]?.[_0x2820ca(0x17f)]});return _0x30eaa0['status'](0xc8)[_0x2820ca(0x182)](_0x5dc68d);};exports[a36_0x57df1a(0x19a)]=publicShow;const storePrivateFile=async(_0x47be7b,_0x13bc10)=>{const _0x562b1b=a36_0x57df1a,_0x5efd39=_0x47be7b[_0x562b1b(0x1b0)],{settingKey:_0x110ece}=_0x47be7b['body'],{companyId:_0x510516}=_0x47be7b[_0x562b1b(0x1a1)],_0x37abf7=await(0x0,UpdateSettingService_1['default'])({'key':'_'+_0x110ece,'value':_0x5efd39[_0x562b1b(0x189)],'companyId':_0x510516});return _0x13bc10['status'](0xc8)[_0x562b1b(0x182)](_0x37abf7[_0x562b1b(0x175)]);};exports[a36_0x57df1a(0x19d)]=storePrivateFile;