const a36_0x2341ff=a36_0xcec3;(function(_0x5e525e,_0x5a9f18){const _0x201a37=a36_0xcec3,_0x329440=_0x5e525e();while(!![]){try{const _0x3798bc=-parseInt(_0x201a37(0x19c))/0x1+-parseInt(_0x201a37(0x1a3))/0x2+-parseInt(_0x201a37(0x1c9))/0x3*(parseInt(_0x201a37(0x1a6))/0x4)+-parseInt(_0x201a37(0x1b5))/0x5+-parseInt(_0x201a37(0x1ab))/0x6+parseInt(_0x201a37(0x1c1))/0x7+parseInt(_0x201a37(0x1b6))/0x8;if(_0x3798bc===_0x5a9f18)break;else _0x329440['push'](_0x329440['shift']());}catch(_0x57e581){_0x329440['push'](_0x329440['shift']());}}}(a36_0x1193,0x2dcb4));const a36_0x126754=(function(){let _0x20ef80=!![];return function(_0x45d6ff,_0x195d7b){const _0x307653=_0x20ef80?function(){const _0x55e7a1=a36_0xcec3;if(_0x195d7b){const _0x2ee601=_0x195d7b[_0x55e7a1(0x1a9)](_0x45d6ff,arguments);return _0x195d7b=null,_0x2ee601;}}:function(){};return _0x20ef80=![],_0x307653;};}()),a36_0x17288d=a36_0x126754(this,function(){const _0x237a5e=a36_0xcec3;return a36_0x17288d[_0x237a5e(0x1a7)]()['search'](_0x237a5e(0x198))[_0x237a5e(0x1a7)]()['constructor'](a36_0x17288d)[_0x237a5e(0x19a)](_0x237a5e(0x198));});a36_0x17288d();'use strict';var __createBinding=this&&this[a36_0x2341ff(0x1a0)]||(Object[a36_0x2341ff(0x1bf)]?function(_0x199d3b,_0x44f5e9,_0x63196a,_0x40a0f9){const _0xd4cd38=a36_0x2341ff;if(_0x40a0f9===undefined)_0x40a0f9=_0x63196a;var _0x210ffd=Object[_0xd4cd38(0x1a1)](_0x44f5e9,_0x63196a);(!_0x210ffd||(_0xd4cd38(0x1ac)in _0x210ffd?!_0x44f5e9[_0xd4cd38(0x1c3)]:_0x210ffd[_0xd4cd38(0x1c0)]||_0x210ffd[_0xd4cd38(0x1c6)]))&&(_0x210ffd={'enumerable':!![],'get':function(){return _0x44f5e9[_0x63196a];}}),Object[_0xd4cd38(0x1c4)](_0x199d3b,_0x40a0f9,_0x210ffd);}:function(_0x40b828,_0x8c3f7d,_0x10a7ee,_0x48b669){if(_0x48b669===undefined)_0x48b669=_0x10a7ee;_0x40b828[_0x48b669]=_0x8c3f7d[_0x10a7ee];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x119ad4,_0x325275){const _0x26710e=a36_0x2341ff;Object[_0x26710e(0x1c4)](_0x119ad4,_0x26710e(0x1b9),{'enumerable':!![],'value':_0x325275});}:function(_0x53700e,_0x520ca4){const _0x468f10=a36_0x2341ff;_0x53700e[_0x468f10(0x1b9)]=_0x520ca4;}),__importStar=this&&this[a36_0x2341ff(0x193)]||function(_0x25e1b0){const _0x56929c=a36_0x2341ff;if(_0x25e1b0&&_0x25e1b0['__esModule'])return _0x25e1b0;var _0x3212d2={};if(_0x25e1b0!=null){for(var _0xe3a7cb in _0x25e1b0)if(_0xe3a7cb!=='default'&&Object[_0x56929c(0x19e)][_0x56929c(0x195)][_0x56929c(0x1ae)](_0x25e1b0,_0xe3a7cb))__createBinding(_0x3212d2,_0x25e1b0,_0xe3a7cb);}return __setModuleDefault(_0x3212d2,_0x25e1b0),_0x3212d2;},__importDefault=this&&this[a36_0x2341ff(0x1c5)]||function(_0x5cd273){const _0x31de46=a36_0x2341ff;return _0x5cd273&&_0x5cd273[_0x31de46(0x1c3)]?_0x5cd273:{'default':_0x5cd273};};Object[a36_0x2341ff(0x1c4)](exports,a36_0x2341ff(0x1c3),{'value':!![]}),exports[a36_0x2341ff(0x1be)]=exports[a36_0x2341ff(0x1af)]=exports['update']=exports['getSettingRegister']=exports[a36_0x2341ff(0x1bb)]=exports['publicIndex']=exports[a36_0x2341ff(0x19d)]=void 0x0;function a36_0xcec3(_0x70e5bc,_0x346438){const _0x252e6b=a36_0x1193();return a36_0xcec3=function(_0x17288d,_0x126754){_0x17288d=_0x17288d-0x18f;let _0x1193c1=_0x252e6b[_0x17288d];return _0x1193c1;},a36_0xcec3(_0x70e5bc,_0x346438);}const socket_1=require(a36_0x2341ff(0x19f)),AppError_1=__importDefault(require('../errors/AppError')),UpdateSettingService_1=__importDefault(require('../services/SettingServices/UpdateSettingService')),ListSettingsService_1=__importDefault(require(a36_0x2341ff(0x196))),GetPublicSettingService_1=__importStar(require(a36_0x2341ff(0x1b0))),index=async(_0x5c4727,_0x528be6)=>{const _0x2f6bd8=a36_0x2341ff,_0x189819=await(0x0,ListSettingsService_1[_0x2f6bd8(0x1b9)])(_0x5c4727[_0x2f6bd8(0x1a2)]);return _0x528be6[_0x2f6bd8(0x1ba)](0xc8)[_0x2f6bd8(0x1b2)](_0x189819);};exports[a36_0x2341ff(0x19d)]=index;const publicIndex=async(_0x2a9f1c,_0x3157e0)=>{const _0x400a05=a36_0x2341ff,_0xfd125f=await(0x0,GetPublicSettingService_1[_0x400a05(0x1b1)])(_0x2a9f1c['user']?.[_0x400a05(0x1b7)]);return _0x3157e0[_0x400a05(0x1ba)](0xc8)[_0x400a05(0x1b2)](_0xfd125f);};exports[a36_0x2341ff(0x191)]=publicIndex;function a36_0x1193(){const _0x310969=['208322yUDbVv','index','prototype','../libs/socket','__createBinding','getOwnPropertyDescriptor','user','353716WjqzvJ','ERR_NO_PERMISSION','company-','36GPGMwr','toString','value','apply','params','1376898OxzbdL','get','image/','call','publicShow','../services/SettingServices/GetPublicSettingService','GetAllPublicSettingsService','json','profile','-settings','1190385iAtzuF','7621136BvTZcN','companyId','getIO','default','status','storeLogo','emit','Light','storePrivateFile','create','writable','1303099eSxYxx','Favicon','__esModule','defineProperty','__importDefault','configurable','filename','startsWith','32829XQhOEm','file','mimetype','body','publicIndex','update','__importStar','appLogo','hasOwnProperty','../services/SettingServices/ListSettingsService','-mainchannel','(((.+)+)+)+$','admin','search','isSuper'];a36_0x1193=function(){return _0x310969;};return a36_0x1193();}const storeLogo=async(_0x36f5ca,_0x4461b4)=>{const _0x2a83c5=a36_0x2341ff,_0x354f97=_0x36f5ca[_0x2a83c5(0x1ca)],{mode:_0x4019fd}=_0x36f5ca[_0x2a83c5(0x190)],{companyId:_0x275fcf}=_0x36f5ca[_0x2a83c5(0x1a2)],_0x38c1dd=[_0x2a83c5(0x1bd),'Dark',_0x2a83c5(0x1c2)];if(_0x36f5ca['user'][_0x2a83c5(0x1b3)]!==_0x2a83c5(0x199))throw new AppError_1[(_0x2a83c5(0x1b9))](_0x2a83c5(0x1a4),0x193);if(_0x38c1dd['indexOf'](_0x4019fd)===-0x1)return _0x4461b4[_0x2a83c5(0x1ba)](0x196);if(_0x354f97&&_0x354f97[_0x2a83c5(0x18f)][_0x2a83c5(0x1c8)](_0x2a83c5(0x1ad))){const _0x321492=await(0x0,UpdateSettingService_1['default'])({'key':_0x2a83c5(0x194)+_0x4019fd,'value':_0x354f97['filename'],'companyId':_0x275fcf});return _0x4461b4[_0x2a83c5(0x1ba)](0xc8)[_0x2a83c5(0x1b2)](_0x321492['value']);}return _0x4461b4[_0x2a83c5(0x1ba)](0x196);};exports[a36_0x2341ff(0x1bb)]=storeLogo;const getSettingRegister=async(_0x306dce,_0x903d80)=>{const _0x3fa4ff=a36_0x2341ff,{companyId:_0x376b13}=_0x306dce[_0x3fa4ff(0x1a2)];if(_0x306dce[_0x3fa4ff(0x1a2)][_0x3fa4ff(0x1b3)]!==_0x3fa4ff(0x199))throw new AppError_1[(_0x3fa4ff(0x1b9))](_0x3fa4ff(0x1a4),0x193);const _0x3226e6=await(0x0,ListSettingsService_1['default'])(_0x306dce['user']);return _0x903d80['status'](0xc8)[_0x3fa4ff(0x1b2)](_0x3226e6);};exports['getSettingRegister']=getSettingRegister;const update=async(_0x17eea0,_0x1bd394)=>{const _0x3bb338=a36_0x2341ff;if(_0x17eea0['user'][_0x3bb338(0x1b3)]!==_0x3bb338(0x199))throw new AppError_1[(_0x3bb338(0x1b9))](_0x3bb338(0x1a4),0x193);const {settingKey:_0x4483c}=_0x17eea0['params'],{value:_0x416c5d}=_0x17eea0[_0x3bb338(0x190)],{companyId:_0x102217}=_0x17eea0[_0x3bb338(0x1a2)];if(_0x4483c[_0x3bb338(0x1c8)]('_')&&!_0x17eea0[_0x3bb338(0x1a2)][_0x3bb338(0x19b)])throw new AppError_1[(_0x3bb338(0x1b9))](_0x3bb338(0x1a4),0x193);const _0x5996d5=await(0x0,UpdateSettingService_1[_0x3bb338(0x1b9)])({'key':_0x4483c,'value':_0x416c5d,'companyId':_0x102217}),_0x10f980=(0x0,socket_1[_0x3bb338(0x1b8)])();return _0x10f980['to'](_0x3bb338(0x1a5)+_0x102217+_0x3bb338(0x197))[_0x3bb338(0x1bc)](_0x3bb338(0x1a5)+_0x102217+_0x3bb338(0x1b4),{'action':'update','setting':_0x5996d5}),_0x1bd394['status'](0xc8)[_0x3bb338(0x1b2)](_0x5996d5);};exports[a36_0x2341ff(0x192)]=update;const publicShow=async(_0x35c7f8,_0x42dc7f)=>{const _0x51d7f2=a36_0x2341ff,{settingKey:_0xb5696}=_0x35c7f8[_0x51d7f2(0x1aa)],_0x3b772a=await(0x0,GetPublicSettingService_1[_0x51d7f2(0x1b9)])({'key':_0xb5696,'companyId':_0x35c7f8[_0x51d7f2(0x1a2)]?.[_0x51d7f2(0x1b7)]});return _0x42dc7f[_0x51d7f2(0x1ba)](0xc8)[_0x51d7f2(0x1b2)](_0x3b772a);};exports[a36_0x2341ff(0x1af)]=publicShow;const storePrivateFile=async(_0x4cfbc6,_0x218d56)=>{const _0x3231e8=a36_0x2341ff,_0x599b7d=_0x4cfbc6[_0x3231e8(0x1ca)],{settingKey:_0x154c54}=_0x4cfbc6[_0x3231e8(0x190)],{companyId:_0x5f1f56}=_0x4cfbc6[_0x3231e8(0x1a2)],_0x851cd5=await(0x0,UpdateSettingService_1['default'])({'key':'_'+_0x154c54,'value':_0x599b7d[_0x3231e8(0x1c7)],'companyId':_0x5f1f56});return _0x218d56['status'](0xc8)[_0x3231e8(0x1b2)](_0x851cd5[_0x3231e8(0x1a8)]);};exports[a36_0x2341ff(0x1be)]=storePrivateFile;