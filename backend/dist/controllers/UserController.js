const a44_0x539adc=a44_0x3c05;(function(_0x228ec2,_0x328c05){const _0x5b3033=a44_0x3c05,_0x2fb598=_0x228ec2();while(!![]){try{const _0x3239f6=-parseInt(_0x5b3033(0xee))/0x1+parseInt(_0x5b3033(0xf3))/0x2*(parseInt(_0x5b3033(0xfe))/0x3)+-parseInt(_0x5b3033(0xdc))/0x4*(-parseInt(_0x5b3033(0xeb))/0x5)+-parseInt(_0x5b3033(0x101))/0x6+-parseInt(_0x5b3033(0xe3))/0x7*(parseInt(_0x5b3033(0xf4))/0x8)+parseInt(_0x5b3033(0xd6))/0x9+-parseInt(_0x5b3033(0xe5))/0xa*(-parseInt(_0x5b3033(0xd3))/0xb);if(_0x3239f6===_0x328c05)break;else _0x2fb598['push'](_0x2fb598['shift']());}catch(_0xa54671){_0x2fb598['push'](_0x2fb598['shift']());}}}(a44_0x334e,0x3643c));const a44_0x422374=(function(){let _0x5ca6b4=!![];return function(_0x3b8df9,_0x3c4cbf){const _0x4cdc17=_0x5ca6b4?function(){const _0x92381f=a44_0x3c05;if(_0x3c4cbf){const _0x1f5c54=_0x3c4cbf[_0x92381f(0xde)](_0x3b8df9,arguments);return _0x3c4cbf=null,_0x1f5c54;}}:function(){};return _0x5ca6b4=![],_0x4cdc17;};}()),a44_0x44dbe1=a44_0x422374(this,function(){const _0x1afad9=a44_0x3c05;return a44_0x44dbe1['toString']()[_0x1afad9(0x107)]('(((.+)+)+)+$')[_0x1afad9(0xe8)]()[_0x1afad9(0x10d)](a44_0x44dbe1)[_0x1afad9(0x107)]('(((.+)+)+)+$');});a44_0x44dbe1();'use strict';var __importDefault=this&&this[a44_0x539adc(0x104)]||function(_0x30a1a7){const _0x2c4a08=a44_0x539adc;return _0x30a1a7&&_0x30a1a7[_0x2c4a08(0xd8)]?_0x30a1a7:{'default':_0x30a1a7};};function a44_0x3c05(_0x47f25e,_0x5c5a3a){const _0x3c7a18=a44_0x334e();return a44_0x3c05=function(_0x44dbe1,_0x422374){_0x44dbe1=_0x44dbe1-0xd3;let _0x334e2d=_0x3c7a18[_0x44dbe1];return _0x334e2d;},a44_0x3c05(_0x47f25e,_0x5c5a3a);}Object[a44_0x539adc(0xdd)](exports,a44_0x539adc(0xd8),{'value':!![]}),exports[a44_0x539adc(0x102)]=exports['remove']=exports[a44_0x539adc(0xed)]=exports['show']=exports[a44_0x539adc(0x106)]=exports['store']=exports[a44_0x539adc(0xf6)]=void 0x0;const socket_1=require(a44_0x539adc(0xfb)),CheckSettings_1=__importDefault(require(a44_0x539adc(0x108))),AppError_1=__importDefault(require(a44_0x539adc(0xf5))),CreateUserService_1=__importDefault(require(a44_0x539adc(0xf1))),ListUsersService_1=__importDefault(require(a44_0x539adc(0xf2))),UpdateUserService_1=__importDefault(require(a44_0x539adc(0xe6))),ShowUserService_1=__importDefault(require(a44_0x539adc(0xe1))),DeleteUserService_1=__importDefault(require(a44_0x539adc(0xf8))),SimpleListService_1=__importDefault(require(a44_0x539adc(0xe2))),index=async(_0x55b372,_0x3a7a79)=>{const _0x1b3835=a44_0x539adc,{searchParam:_0x13b78c,pageNumber:_0x4f2666}=_0x55b372[_0x1b3835(0x100)],{companyId:_0x339879,profile:_0xd1f18b}=_0x55b372[_0x1b3835(0xff)],{users:_0x2ce9f0,onlineCount:_0x16b1e3,offlineCount:_0x251a75,count:_0x54467d,hasMore:_0x10c681}=await(0x0,ListUsersService_1['default'])({'searchParam':_0x13b78c,'pageNumber':_0x4f2666,'companyId':_0x339879,'profile':_0xd1f18b});return _0x3a7a79[_0x1b3835(0xec)]({'users':_0x2ce9f0,'onlineCount':_0x16b1e3,'offlineCount':_0x251a75,'count':_0x54467d,'hasMore':_0x10c681});};exports['index']=index;const store=async(_0x3dcb23,_0x905975)=>{const _0x2ce32b=a44_0x539adc,{email:_0x33a261,password:_0x413fb9,name:_0x41b20f,profile:_0x34c2ee,isTricked:_0x1120f9,super:_0x5e5a9f,companyId:_0x4cc7ba,queueIds:_0x1aa2df,allTicket:_0xefdb59,whatsappId:_0x47ac7b,startWork:_0x7739b0,endWork:_0x1812bf,profileState:_0x24c905,defaultMenu:_0x5345ae}=_0x3dcb23['body'];let _0x4b3ab9=null;if(_0x3dcb23['user']!==undefined){const {companyId:_0x13ad81}=_0x3dcb23['user'];_0x4b3ab9=_0x13ad81;}if(_0x3dcb23['body'][_0x2ce32b(0xea)]&&_0x3dcb23['user'][_0x2ce32b(0xea)]!==_0x3dcb23['body']['companyId'])throw new AppError_1[(_0x2ce32b(0x109))](_0x2ce32b(0x10e));if(!_0x3dcb23[_0x2ce32b(0xff)][_0x2ce32b(0xe9)]&&_0x5e5a9f)throw new AppError_1['default']('Acesso\x20negado.');if(_0x3dcb23['url']===_0x2ce32b(0xdf)&&await(0x0,CheckSettings_1[_0x2ce32b(0x109)])('userCreation')===_0x2ce32b(0xf7))throw new AppError_1[(_0x2ce32b(0x109))]('ERR_USER_CREATION_DISABLED',0x193);else{if(_0x3dcb23[_0x2ce32b(0xfa)]!==_0x2ce32b(0xdf)&&_0x3dcb23[_0x2ce32b(0xff)][_0x2ce32b(0xd7)]!=='admin')throw new AppError_1[(_0x2ce32b(0x109))](_0x2ce32b(0xfc),0x193);}const _0x5001e4=await(0x0,CreateUserService_1[_0x2ce32b(0x109)])({'email':_0x33a261,'password':_0x413fb9,'name':_0x41b20f,'profile':_0x34c2ee,'isTricked':_0x1120f9,'super':_0x5e5a9f,'companyId':_0x4cc7ba||_0x4b3ab9,'queueIds':_0x1aa2df,'allTicket':_0xefdb59,'whatsappId':_0x47ac7b,'startWork':_0x7739b0,'endWork':_0x1812bf,'defaultMenu':_0x5345ae}),_0x3b3c7a=(0x0,socket_1[_0x2ce32b(0xf0)])();return _0x3b3c7a[_0x2ce32b(0xdb)]('company-'+_0x4b3ab9+_0x2ce32b(0x103),{'action':_0x2ce32b(0x10c),'user':_0x5001e4}),_0x905975[_0x2ce32b(0xe0)](0xc8)['json'](_0x5001e4);};exports[a44_0x539adc(0xfd)]=store;const storeFromCompanySettings=async(_0x1a5724,_0x5de4fa)=>{const _0x5466a1=a44_0x539adc,{email:_0x24ea72,password:_0x7b5598,name:_0x26e097,profile:_0x889333,isTricked:_0x3c4bb5,super:_0x3e4455,companyId:_0x9571e7,queueIds:_0x232fb4,allTicket:_0xa1bb71,whatsappId:_0x31da55,startWork:_0x285ff4,endWork:_0x592a33,profileState:_0x3bf333,defaultMenu:_0x5a8571}=_0x1a5724[_0x5466a1(0xd5)];let _0x1026ee=null;if(_0x1a5724['user']!==undefined){const {companyId:_0x11cd9e}=_0x1a5724['user'];_0x1026ee=_0x11cd9e;}if(_0x1a5724[_0x5466a1(0xd5)][_0x5466a1(0xea)]&&_0x1a5724[_0x5466a1(0xff)][_0x5466a1(0xea)]!==_0x1a5724[_0x5466a1(0xd5)][_0x5466a1(0xea)])throw new AppError_1[(_0x5466a1(0x109))]('O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa');if(!_0x1a5724[_0x5466a1(0xff)][_0x5466a1(0xe9)]&&_0x3e4455)throw new AppError_1[(_0x5466a1(0x109))](_0x5466a1(0xe4));if(_0x1a5724[_0x5466a1(0xfa)]===_0x5466a1(0xdf)&&await(0x0,CheckSettings_1[_0x5466a1(0x109)])(_0x5466a1(0xda))===_0x5466a1(0xf7))throw new AppError_1[(_0x5466a1(0x109))](_0x5466a1(0xd9),0x193);else{if(_0x1a5724[_0x5466a1(0xfa)]!==_0x5466a1(0xdf)&&_0x1a5724[_0x5466a1(0xff)][_0x5466a1(0xd7)]!=='admin')throw new AppError_1[(_0x5466a1(0x109))]('ERR_NO_PERMISSION',0x193);}const _0x5e8079=await(0x0,CreateUserService_1[_0x5466a1(0x109)])({'email':_0x24ea72,'password':_0x7b5598,'name':_0x26e097,'profile':_0x889333,'isTricked':_0x3c4bb5,'super':_0x3e4455,'companyId':_0x9571e7||_0x1026ee,'queueIds':_0x232fb4,'allTicket':_0xa1bb71,'whatsappId':_0x31da55,'startWork':_0x285ff4,'endWork':_0x592a33,'defaultMenu':_0x5a8571}),_0x16dacf=(0x0,socket_1['getIO'])();return _0x16dacf['to']('company-'+_0x1026ee+_0x5466a1(0xe7))[_0x5466a1(0xdb)](_0x5466a1(0xd4)+_0x1026ee+_0x5466a1(0x103),{'action':_0x5466a1(0x10c),'user':_0x5e8079}),_0x5de4fa[_0x5466a1(0xe0)](0xc8)[_0x5466a1(0xec)](_0x5e8079);};function a44_0x334e(){const _0x53ed08=['/signup','status','../services/UserServices/ShowUserService','../services/UserServices/SimpleListService','4991VHiEOE','Acesso\x20negado.','1420AZrDrq','../services/UserServices/UpdateUserService','-mainchannel','toString','isSuper','companyId','75vrdrqi','json','update','255417pbkwvB','admin','getIO','../services/UserServices/CreateUserService','../services/UserServices/ListUsersService','32uRocui','4336soOnSf','../errors/AppError','index','disabled','../services/UserServices/DeleteUserService','params','url','../libs/socket','ERR_NO_PERMISSION','store','25128aAuBlJ','user','query','887430cKSyty','list','-user','__importDefault','User\x20deleted','storeFromCompanySettings','search','../helpers/CheckSettings','default','delete','show','create','constructor','O\x20usuário\x20não\x20pertence\x20à\x20esta\x20empresa','66539IxDKDW','company-','body','156438GxyHiB','profile','__esModule','ERR_USER_CREATION_DISABLED','userCreation','emit','448ubHWPZ','defineProperty','apply'];a44_0x334e=function(){return _0x53ed08;};return a44_0x334e();}exports['storeFromCompanySettings']=storeFromCompanySettings;const show=async(_0x1e388c,_0x4ab043)=>{const _0x5d1bd0=a44_0x539adc,{userId:_0x534826}=_0x1e388c[_0x5d1bd0(0xf9)],_0x352494=await(0x0,ShowUserService_1[_0x5d1bd0(0x109)])(_0x534826,_0x1e388c[_0x5d1bd0(0xff)]['id']);return _0x4ab043[_0x5d1bd0(0xe0)](0xc8)[_0x5d1bd0(0xec)](_0x352494);};exports[a44_0x539adc(0x10b)]=show;const update=async(_0x4db3b1,_0x249a19)=>{const _0x2dc16c=a44_0x539adc,{id:_0x62606,companyId:_0x1514da}=_0x4db3b1[_0x2dc16c(0xff)],{userId:_0x2b7ee0}=_0x4db3b1[_0x2dc16c(0xf9)],_0x104564=_0x4db3b1[_0x2dc16c(0xd5)],_0x224042=await(0x0,UpdateUserService_1['default'])({'userData':_0x104564,'userId':_0x2b7ee0,'requestUserId':+_0x62606}),_0x5beca0=(0x0,socket_1[_0x2dc16c(0xf0)])();return _0x5beca0['to']('company-'+_0x1514da+_0x2dc16c(0xe7))[_0x2dc16c(0xdb)](_0x2dc16c(0xd4)+_0x1514da+_0x2dc16c(0x103),{'action':_0x2dc16c(0xed),'user':_0x224042}),_0x249a19[_0x2dc16c(0xe0)](0xc8)[_0x2dc16c(0xec)](_0x224042);};exports[a44_0x539adc(0xed)]=update;const remove=async(_0x39a155,_0x26a8b2)=>{const _0x33acd1=a44_0x539adc,{userId:_0x3bbd39}=_0x39a155[_0x33acd1(0xf9)],{companyId:_0x1b27e8}=_0x39a155['user'];if(_0x39a155['user'][_0x33acd1(0xd7)]!==_0x33acd1(0xef))throw new AppError_1[(_0x33acd1(0x109))](_0x33acd1(0xfc),0x193);await(0x0,DeleteUserService_1[_0x33acd1(0x109)])(_0x3bbd39,_0x39a155['user']['id']);const _0x593ec4=(0x0,socket_1[_0x33acd1(0xf0)])();return _0x593ec4['to'](_0x33acd1(0xd4)+_0x1b27e8+_0x33acd1(0xe7))[_0x33acd1(0xdb)](_0x33acd1(0xd4)+_0x1b27e8+_0x33acd1(0x103),{'action':_0x33acd1(0x10a),'userId':_0x3bbd39}),_0x26a8b2[_0x33acd1(0xe0)](0xc8)[_0x33acd1(0xec)]({'message':_0x33acd1(0x105)});};exports['remove']=remove;const list=async(_0x3f33d5,_0x11b471)=>{const _0x16edfe=a44_0x539adc,{companyId:_0x42c39e}=_0x3f33d5[_0x16edfe(0x100)],{companyId:_0x72f61d}=_0x3f33d5[_0x16edfe(0xff)],_0x3b4d2b=await(0x0,SimpleListService_1[_0x16edfe(0x109)])({'companyId':_0x42c39e?+_0x42c39e:_0x72f61d});return _0x11b471[_0x16edfe(0xe0)](0xc8)[_0x16edfe(0xec)](_0x3b4d2b);};exports[a44_0x539adc(0x102)]=list;