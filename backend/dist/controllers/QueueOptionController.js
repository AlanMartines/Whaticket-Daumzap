const a31_0x585674=a31_0x2454;(function(_0x52c349,_0xe8daed){const _0x844fab=a31_0x2454,_0x3ba5f9=_0x52c349();while(!![]){try{const _0x4b7c22=-parseInt(_0x844fab(0x16b))/0x1+parseInt(_0x844fab(0x194))/0x2+-parseInt(_0x844fab(0x17a))/0x3+parseInt(_0x844fab(0x196))/0x4*(parseInt(_0x844fab(0x19b))/0x5)+parseInt(_0x844fab(0x172))/0x6+-parseInt(_0x844fab(0x180))/0x7*(parseInt(_0x844fab(0x184))/0x8)+parseInt(_0x844fab(0x170))/0x9;if(_0x4b7c22===_0xe8daed)break;else _0x3ba5f9['push'](_0x3ba5f9['shift']());}catch(_0x5c1569){_0x3ba5f9['push'](_0x3ba5f9['shift']());}}}(a31_0x52a2,0xbaa19));const a31_0x59caba=(function(){let _0x4bc8a4=!![];return function(_0xcf6b88,_0x48f6ca){const _0x4dae40=_0x4bc8a4?function(){if(_0x48f6ca){const _0x3d4a12=_0x48f6ca['apply'](_0xcf6b88,arguments);return _0x48f6ca=null,_0x3d4a12;}}:function(){};return _0x4bc8a4=![],_0x4dae40;};}()),a31_0x1be1c6=a31_0x59caba(this,function(){const _0x482ec1=a31_0x2454;return a31_0x1be1c6[_0x482ec1(0x198)]()[_0x482ec1(0x195)]('(((.+)+)+)+$')[_0x482ec1(0x198)]()[_0x482ec1(0x18b)](a31_0x1be1c6)[_0x482ec1(0x195)](_0x482ec1(0x18a));});a31_0x1be1c6();'use strict';var __importDefault=this&&this[a31_0x585674(0x187)]||function(_0x17ff85){const _0x130cd7=a31_0x585674;return _0x17ff85&&_0x17ff85[_0x130cd7(0x171)]?_0x17ff85:{'default':_0x17ff85};};Object[a31_0x585674(0x17e)](exports,a31_0x585674(0x171),{'value':!![]}),exports[a31_0x585674(0x191)]=exports[a31_0x585674(0x17c)]=exports[a31_0x585674(0x16c)]=exports[a31_0x585674(0x16f)]=exports[a31_0x585674(0x176)]=exports[a31_0x585674(0x17f)]=exports[a31_0x585674(0x18d)]=exports[a31_0x585674(0x19c)]=void 0x0;const CreateService_1=__importDefault(require(a31_0x585674(0x190))),ListService_1=__importDefault(require('../services/QueueOptionService/ListService')),UpdateService_1=__importDefault(require(a31_0x585674(0x185))),ShowService_1=__importDefault(require('../services/QueueOptionService/ShowService')),DeleteService_1=__importDefault(require('../services/QueueOptionService/DeleteService')),lodash_1=require('lodash'),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a31_0x585674(0x17b))),AppError_1=__importDefault(require(a31_0x585674(0x197))),QueueOption_1=__importDefault(require(a31_0x585674(0x18c))),index=async(_0x525cfb,_0x3c3bf5)=>{const _0x13f8fd=a31_0x585674,{queueId:_0x2604da,queueOptionId:_0x2afdc2,parentId:_0x29b18e}=_0x525cfb[_0x13f8fd(0x16e)],_0x3d2fed=await(0x0,ListService_1[_0x13f8fd(0x173)])({'queueId':_0x2604da,'queueOptionId':_0x2afdc2,'parentId':_0x29b18e});return _0x3c3bf5[_0x13f8fd(0x182)](_0x3d2fed);};exports[a31_0x585674(0x19c)]=index;const store=async(_0x9b265c,_0x21b6f3)=>{const _0x124f3f=a31_0x585674,_0x1de7f8=_0x9b265c[_0x124f3f(0x186)],_0x2df1bf=await(0x0,CreateService_1[_0x124f3f(0x173)])(_0x1de7f8);return _0x21b6f3[_0x124f3f(0x183)](0xc8)[_0x124f3f(0x182)](_0x2df1bf);};exports[a31_0x585674(0x18d)]=store;const show=async(_0x260379,_0x4be219)=>{const _0x82cf61=a31_0x585674,{queueOptionId:_0x3361e6}=_0x260379[_0x82cf61(0x19a)],_0x47a075=await(0x0,ShowService_1[_0x82cf61(0x173)])(_0x3361e6);return _0x4be219[_0x82cf61(0x183)](0xc8)[_0x82cf61(0x182)](_0x47a075);};exports[a31_0x585674(0x17f)]=show;const update=async(_0xc636eb,_0x5a6dab)=>{const _0x5d58b9=a31_0x585674,{queueOptionId:_0x14184a}=_0xc636eb[_0x5d58b9(0x19a)],_0x2cf00=_0xc636eb[_0x5d58b9(0x186)],_0x31f323=await(0x0,UpdateService_1[_0x5d58b9(0x173)])(_0x14184a,_0x2cf00);return _0x5a6dab['status'](0xc8)[_0x5d58b9(0x182)](_0x31f323);};function a31_0x2454(_0x3ffe6c,_0xb4c508){const _0xdbe8b4=a31_0x52a2();return a31_0x2454=function(_0x1be1c6,_0x59caba){_0x1be1c6=_0x1be1c6-0x16a;let _0x52a25b=_0xdbe8b4[_0x1be1c6];return _0x52a25b;},a31_0x2454(_0x3ffe6c,_0xb4c508);}function a31_0x52a2(){const _0x33f4f9=['__importDefault','queue','mediaName','(((.+)+)+)+$','constructor','../models/QueueOption','store','company','companyId','../services/QueueOptionService/CreateService','deleteMedia','save','Arquivo\x20excluÃ­do','104754GiMYaY','search','1116jnLeTz','../errors/AppError','toString','mediaPath','params','23685TsHttr','index','QueueOption\x20not\x20found','Option\x20Delected','732152VlwvPP','remove','send','query','uploadFile','8827956duLnDm','__esModule','486084arlBzd','default','unlinkSync','findByPk','update','public','files','filename','1817994QMeTwK','path','mediaUpload','message','defineProperty','show','179473WvtriD','resolve','json','status','104RhRPBj','../services/QueueOptionService/UpdateService','body'];a31_0x52a2=function(){return _0x33f4f9;};return a31_0x52a2();}exports[a31_0x585674(0x176)]=update;const uploadFile=async(_0x440f46,_0x16ae15)=>{const _0x480024=a31_0x585674,{queueOptionId:_0x399e26}=_0x440f46[_0x480024(0x19a)],_0x58922a=_0x440f46[_0x480024(0x186)],_0x3b4db7=_0x440f46['file'],_0x27b55b=await QueueOption_1['default']['findByPk'](_0x399e26);if(!_0x27b55b)throw new Error(_0x480024(0x19d));const _0x78d2cf=_0x27b55b[_0x480024(0x17d)];return fs_1[_0x480024(0x173)]['existsSync'](_0x78d2cf)&&fs_1['default'][_0x480024(0x174)](_0x78d2cf),_0x27b55b[_0x480024(0x17d)]=_0x3b4db7['filename'],await _0x27b55b[_0x480024(0x192)](),_0x16ae15[_0x480024(0x183)](0xc8)[_0x480024(0x182)]({'message':'Option\x20Updated'});};exports[a31_0x585674(0x16f)]=uploadFile;const remove=async(_0x396979,_0x54d9d6)=>{const _0x4631ce=a31_0x585674,{queueOptionId:_0x1f0f17}=_0x396979[_0x4631ce(0x19a)],_0x387534=await QueueOption_1['default'][_0x4631ce(0x175)](_0x1f0f17);if(!_0x387534)throw new Error(_0x4631ce(0x19d));const _0x36663c=_0x387534[_0x4631ce(0x17d)];return fs_1[_0x4631ce(0x173)]['existsSync'](_0x36663c)&&fs_1['default'][_0x4631ce(0x174)](_0x36663c),await(0x0,DeleteService_1[_0x4631ce(0x173)])(_0x1f0f17),_0x54d9d6['status'](0xc8)[_0x4631ce(0x182)]({'message':_0x4631ce(0x16a)});};exports[a31_0x585674(0x16c)]=remove;const mediaUpload=async(_0x23fa54,_0xb539a5)=>{const _0x54b35e=a31_0x585674,{queueOptionId:_0x4ba246}=_0x23fa54['params'],_0x2d0731=_0x23fa54[_0x54b35e(0x178)],_0x33f76a=(0x0,lodash_1['head'])(_0x2d0731);try{const _0x3de34c=await QueueOption_1[_0x54b35e(0x173)][_0x54b35e(0x175)](_0x4ba246);return _0x3de34c[_0x54b35e(0x176)]({'mediaPath':_0x33f76a[_0x54b35e(0x179)],'mediaName':_0x33f76a['originalname']}),_0xb539a5[_0x54b35e(0x16d)]({'mensagem':'Arquivo\x20Salvo'});}catch(_0x46188f){throw new AppError_1[(_0x54b35e(0x173))](_0x46188f[_0x54b35e(0x17d)]);}};exports['mediaUpload']=mediaUpload;const deleteMedia=async(_0x414f53,_0x2772a6)=>{const _0x23a6c5=a31_0x585674,{queueOptionId:_0x135780}=_0x414f53['params'];try{const _0x36882f=await QueueOption_1['default'][_0x23a6c5(0x175)](_0x135780,{'include':[_0x23a6c5(0x188)]}),_0x158c04=path_1['default'][_0x23a6c5(0x181)](_0x23a6c5(0x177),_0x23a6c5(0x18e)+_0x36882f['queue'][_0x23a6c5(0x18f)],_0x36882f[_0x23a6c5(0x199)]),_0x4b2765=fs_1[_0x23a6c5(0x173)]['existsSync'](_0x158c04);return _0x4b2765&&fs_1[_0x23a6c5(0x173)][_0x23a6c5(0x174)](_0x158c04),_0x36882f[_0x23a6c5(0x199)]=null,_0x36882f[_0x23a6c5(0x189)]=null,await _0x36882f[_0x23a6c5(0x192)](),_0x2772a6[_0x23a6c5(0x16d)]({'mensagem':_0x23a6c5(0x193)});}catch(_0xa81ccf){throw new AppError_1[(_0x23a6c5(0x173))](_0xa81ccf[_0x23a6c5(0x17d)]);}};exports['deleteMedia']=deleteMedia;