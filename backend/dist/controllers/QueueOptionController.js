const a31_0x14a922=a31_0x4e1a;(function(_0x250709,_0x49bc3b){const _0x571e64=a31_0x4e1a,_0x1bac32=_0x250709();while(!![]){try{const _0x537b12=parseInt(_0x571e64(0x8e))/0x1*(-parseInt(_0x571e64(0xb3))/0x2)+-parseInt(_0x571e64(0x9f))/0x3*(parseInt(_0x571e64(0x8b))/0x4)+-parseInt(_0x571e64(0xa1))/0x5*(parseInt(_0x571e64(0x9e))/0x6)+parseInt(_0x571e64(0xb8))/0x7*(parseInt(_0x571e64(0x95))/0x8)+-parseInt(_0x571e64(0xc2))/0x9*(parseInt(_0x571e64(0x8f))/0xa)+parseInt(_0x571e64(0xb5))/0xb*(-parseInt(_0x571e64(0x90))/0xc)+-parseInt(_0x571e64(0xad))/0xd*(-parseInt(_0x571e64(0x9a))/0xe);if(_0x537b12===_0x49bc3b)break;else _0x1bac32['push'](_0x1bac32['shift']());}catch(_0x1b7c80){_0x1bac32['push'](_0x1bac32['shift']());}}}(a31_0x405c,0xaee3c));const a31_0x2ff7f2=(function(){let _0x43a24a=!![];return function(_0x2e465e,_0x58347c){const _0x38341f=_0x43a24a?function(){const _0x2922b6=a31_0x4e1a;if(_0x58347c){const _0x379f05=_0x58347c[_0x2922b6(0xc1)](_0x2e465e,arguments);return _0x58347c=null,_0x379f05;}}:function(){};return _0x43a24a=![],_0x38341f;};}()),a31_0x548b60=a31_0x2ff7f2(this,function(){const _0xd713ad=a31_0x4e1a;return a31_0x548b60['toString']()[_0xd713ad(0xa8)](_0xd713ad(0xa0))[_0xd713ad(0xbf)]()[_0xd713ad(0xae)](a31_0x548b60)[_0xd713ad(0xa8)](_0xd713ad(0xa0));});a31_0x548b60();'use strict';function a31_0x405c(){const _0xa0ac36=['__importDefault','save','existsSync','438cYhnaB','path','803154XfQAtq','__esModule','json','478471ddWtwI','update','params','mediaPath','unlinkSync','Option\x20Updated','findByPk','toString','default','apply','27aWqiBk','../errors/AppError','body','originalname','56eYNCsP','Arquivo\x20excluÃ­do','mediaUpload','6090hFCKrg','2751090QQXIMV','180BIjoPN','uploadFile','message','mediaName','Option\x20Delected','8XvJlwg','companyId','files','index','defineProperty','10335472MoBfSu','Arquivo\x20Salvo','store','QueueOption\x20not\x20found','24YWVvaY','246657GzciEP','(((.+)+)+)+$','1065845rsUsal','remove','send','filename','deleteMedia','status','head','search','query','../services/QueueOptionService/CreateService','company','../models/QueueOption','104puZncz','constructor','queue'];a31_0x405c=function(){return _0xa0ac36;};return a31_0x405c();}var __importDefault=this&&this[a31_0x14a922(0xb0)]||function(_0x1cc50d){const _0x126177=a31_0x14a922;return _0x1cc50d&&_0x1cc50d[_0x126177(0xb6)]?_0x1cc50d:{'default':_0x1cc50d};};Object[a31_0x14a922(0x99)](exports,'__esModule',{'value':!![]}),exports[a31_0x14a922(0xa5)]=exports[a31_0x14a922(0x8d)]=exports[a31_0x14a922(0xa2)]=exports[a31_0x14a922(0x91)]=exports[a31_0x14a922(0xb9)]=exports['show']=exports[a31_0x14a922(0x9c)]=exports[a31_0x14a922(0x98)]=void 0x0;const CreateService_1=__importDefault(require(a31_0x14a922(0xaa))),ListService_1=__importDefault(require('../services/QueueOptionService/ListService')),UpdateService_1=__importDefault(require('../services/QueueOptionService/UpdateService')),ShowService_1=__importDefault(require('../services/QueueOptionService/ShowService')),DeleteService_1=__importDefault(require('../services/QueueOptionService/DeleteService')),lodash_1=require('lodash'),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a31_0x14a922(0xb4))),AppError_1=__importDefault(require(a31_0x14a922(0x88))),QueueOption_1=__importDefault(require(a31_0x14a922(0xac))),index=async(_0x25a85d,_0x2e8465)=>{const _0x2713f7=a31_0x14a922,{queueId:_0x32bdf8,queueOptionId:_0x175e8a,parentId:_0x51c9ad}=_0x25a85d[_0x2713f7(0xa9)],_0x3ca191=await(0x0,ListService_1['default'])({'queueId':_0x32bdf8,'queueOptionId':_0x175e8a,'parentId':_0x51c9ad});return _0x2e8465[_0x2713f7(0xb7)](_0x3ca191);};exports[a31_0x14a922(0x98)]=index;const store=async(_0x13d3a8,_0x414d0d)=>{const _0x3770bd=a31_0x14a922,_0x3cc724=_0x13d3a8[_0x3770bd(0x89)],_0x3a7dbc=await(0x0,CreateService_1[_0x3770bd(0xc0)])(_0x3cc724);return _0x414d0d[_0x3770bd(0xa6)](0xc8)['json'](_0x3a7dbc);};exports[a31_0x14a922(0x9c)]=store;const show=async(_0x212d9b,_0x16b05e)=>{const _0x4e2ef0=a31_0x14a922,{queueOptionId:_0xaca95f}=_0x212d9b['params'],_0x541645=await(0x0,ShowService_1[_0x4e2ef0(0xc0)])(_0xaca95f);return _0x16b05e[_0x4e2ef0(0xa6)](0xc8)['json'](_0x541645);};exports['show']=show;const update=async(_0x22b527,_0x20ab88)=>{const _0x1e1acd=a31_0x14a922,{queueOptionId:_0xc623d9}=_0x22b527[_0x1e1acd(0xba)],_0x24489f=_0x22b527[_0x1e1acd(0x89)],_0x19f77a=await(0x0,UpdateService_1[_0x1e1acd(0xc0)])(_0xc623d9,_0x24489f);return _0x20ab88['status'](0xc8)['json'](_0x19f77a);};exports[a31_0x14a922(0xb9)]=update;const uploadFile=async(_0x4a1b52,_0x48d777)=>{const _0x217cff=a31_0x14a922,{queueOptionId:_0x18f5b0}=_0x4a1b52[_0x217cff(0xba)],_0x5a11f2=_0x4a1b52[_0x217cff(0x89)],_0x207936=_0x4a1b52['file'],_0x202c9b=await QueueOption_1[_0x217cff(0xc0)][_0x217cff(0xbe)](_0x18f5b0);if(!_0x202c9b)throw new Error(_0x217cff(0x9d));const _0x5252bb=_0x202c9b[_0x217cff(0x92)];return fs_1[_0x217cff(0xc0)][_0x217cff(0xb2)](_0x5252bb)&&fs_1[_0x217cff(0xc0)][_0x217cff(0xbc)](_0x5252bb),_0x202c9b[_0x217cff(0x92)]=_0x207936[_0x217cff(0xa4)],await _0x202c9b[_0x217cff(0xb1)](),_0x48d777[_0x217cff(0xa6)](0xc8)[_0x217cff(0xb7)]({'message':_0x217cff(0xbd)});};exports[a31_0x14a922(0x91)]=uploadFile;const remove=async(_0x420f28,_0x7fef32)=>{const _0x3b2535=a31_0x14a922,{queueOptionId:_0x460a4f}=_0x420f28['params'],_0x536d5f=await QueueOption_1[_0x3b2535(0xc0)]['findByPk'](_0x460a4f);if(!_0x536d5f)throw new Error('QueueOption\x20not\x20found');const _0x2ce221=_0x536d5f[_0x3b2535(0x92)];return fs_1[_0x3b2535(0xc0)][_0x3b2535(0xb2)](_0x2ce221)&&fs_1[_0x3b2535(0xc0)][_0x3b2535(0xbc)](_0x2ce221),await(0x0,DeleteService_1['default'])(_0x460a4f),_0x7fef32[_0x3b2535(0xa6)](0xc8)[_0x3b2535(0xb7)]({'message':_0x3b2535(0x94)});};exports[a31_0x14a922(0xa2)]=remove;const mediaUpload=async(_0x568255,_0x714424)=>{const _0x63ba6c=a31_0x14a922,{queueOptionId:_0x2998ef}=_0x568255[_0x63ba6c(0xba)],_0x376cf1=_0x568255[_0x63ba6c(0x97)],_0x4d79c4=(0x0,lodash_1[_0x63ba6c(0xa7)])(_0x376cf1);try{const _0x2dd4da=await QueueOption_1['default'][_0x63ba6c(0xbe)](_0x2998ef);return _0x2dd4da[_0x63ba6c(0xb9)]({'mediaPath':_0x4d79c4[_0x63ba6c(0xa4)],'mediaName':_0x4d79c4[_0x63ba6c(0x8a)]}),_0x714424[_0x63ba6c(0xa3)]({'mensagem':_0x63ba6c(0x9b)});}catch(_0x162afe){throw new AppError_1[(_0x63ba6c(0xc0))](_0x162afe[_0x63ba6c(0x92)]);}};exports[a31_0x14a922(0x8d)]=mediaUpload;function a31_0x4e1a(_0x4c4e00,_0x15a637){const _0xc546d1=a31_0x405c();return a31_0x4e1a=function(_0x548b60,_0x2ff7f2){_0x548b60=_0x548b60-0x88;let _0x405cc3=_0xc546d1[_0x548b60];return _0x405cc3;},a31_0x4e1a(_0x4c4e00,_0x15a637);}const deleteMedia=async(_0x57bc30,_0x44097a)=>{const _0x1bb42a=a31_0x14a922,{queueOptionId:_0x26b87b}=_0x57bc30[_0x1bb42a(0xba)];try{const _0x24f2c2=await QueueOption_1[_0x1bb42a(0xc0)][_0x1bb42a(0xbe)](_0x26b87b,{'include':[_0x1bb42a(0xaf)]}),_0x264d25=path_1[_0x1bb42a(0xc0)]['resolve']('public',_0x1bb42a(0xab)+_0x24f2c2[_0x1bb42a(0xaf)][_0x1bb42a(0x96)],_0x24f2c2[_0x1bb42a(0xbb)]),_0x5f1a95=fs_1['default'][_0x1bb42a(0xb2)](_0x264d25);return _0x5f1a95&&fs_1['default'][_0x1bb42a(0xbc)](_0x264d25),_0x24f2c2[_0x1bb42a(0xbb)]=null,_0x24f2c2[_0x1bb42a(0x93)]=null,await _0x24f2c2[_0x1bb42a(0xb1)](),_0x44097a['send']({'mensagem':_0x1bb42a(0x8c)});}catch(_0x4c1a59){throw new AppError_1[(_0x1bb42a(0xc0))](_0x4c1a59['message']);}};exports['deleteMedia']=deleteMedia;