const a31_0x4f2cd3=a31_0x1b33;(function(_0x3878b5,_0x42463c){const _0x1ac68b=a31_0x1b33,_0x24466a=_0x3878b5();while(!![]){try{const _0x17531d=parseInt(_0x1ac68b(0x13d))/0x1*(-parseInt(_0x1ac68b(0x159))/0x2)+-parseInt(_0x1ac68b(0x151))/0x3*(parseInt(_0x1ac68b(0x15b))/0x4)+-parseInt(_0x1ac68b(0x138))/0x5*(-parseInt(_0x1ac68b(0x153))/0x6)+-parseInt(_0x1ac68b(0x127))/0x7+parseInt(_0x1ac68b(0x144))/0x8+-parseInt(_0x1ac68b(0x131))/0x9+parseInt(_0x1ac68b(0x12c))/0xa;if(_0x17531d===_0x42463c)break;else _0x24466a['push'](_0x24466a['shift']());}catch(_0x3d5de8){_0x24466a['push'](_0x24466a['shift']());}}}(a31_0x5b19,0xd0542));const a31_0x1c0f80=(function(){let _0x172834=!![];return function(_0x3aec15,_0x39bd86){const _0x132952=_0x172834?function(){if(_0x39bd86){const _0x46569a=_0x39bd86['apply'](_0x3aec15,arguments);return _0x39bd86=null,_0x46569a;}}:function(){};return _0x172834=![],_0x132952;};}()),a31_0x341c9d=a31_0x1c0f80(this,function(){const _0x32bb3f=a31_0x1b33;return a31_0x341c9d[_0x32bb3f(0x157)]()[_0x32bb3f(0x142)](_0x32bb3f(0x12a))[_0x32bb3f(0x157)]()[_0x32bb3f(0x12e)](a31_0x341c9d)['search'](_0x32bb3f(0x12a));});a31_0x341c9d();function a31_0x1b33(_0x489ee4,_0x1b7216){const _0x19306b=a31_0x5b19();return a31_0x1b33=function(_0x341c9d,_0x1c0f80){_0x341c9d=_0x341c9d-0x127;let _0x5b19c=_0x19306b[_0x341c9d];return _0x5b19c;},a31_0x1b33(_0x489ee4,_0x1b7216);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x28b43e){const _0x572a54=a31_0x1b33;return _0x28b43e&&_0x28b43e[_0x572a54(0x15a)]?_0x28b43e:{'default':_0x28b43e};};Object['defineProperty'](exports,a31_0x4f2cd3(0x15a),{'value':!![]}),exports[a31_0x4f2cd3(0x13b)]=exports[a31_0x4f2cd3(0x133)]=exports[a31_0x4f2cd3(0x13f)]=exports[a31_0x4f2cd3(0x135)]=exports[a31_0x4f2cd3(0x140)]=exports[a31_0x4f2cd3(0x129)]=exports['store']=exports[a31_0x4f2cd3(0x130)]=void 0x0;const CreateService_1=__importDefault(require(a31_0x4f2cd3(0x12d))),ListService_1=__importDefault(require('../services/QueueOptionService/ListService')),UpdateService_1=__importDefault(require('../services/QueueOptionService/UpdateService')),ShowService_1=__importDefault(require(a31_0x4f2cd3(0x14d))),DeleteService_1=__importDefault(require(a31_0x4f2cd3(0x146))),lodash_1=require(a31_0x4f2cd3(0x12f)),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a31_0x4f2cd3(0x149))),AppError_1=__importDefault(require(a31_0x4f2cd3(0x136))),QueueOption_1=__importDefault(require(a31_0x4f2cd3(0x147))),index=async(_0x32a026,_0x13a792)=>{const _0xb732d8=a31_0x4f2cd3,{queueId:_0x560a50,queueOptionId:_0x28c580,parentId:_0x1f26cf}=_0x32a026[_0xb732d8(0x14c)],_0x4c61ab=await(0x0,ListService_1[_0xb732d8(0x15c)])({'queueId':_0x560a50,'queueOptionId':_0x28c580,'parentId':_0x1f26cf});return _0x13a792[_0xb732d8(0x154)](_0x4c61ab);};exports[a31_0x4f2cd3(0x130)]=index;const store=async(_0x363fc4,_0x591f22)=>{const _0x204a68=a31_0x4f2cd3,_0xbb39b2=_0x363fc4[_0x204a68(0x134)],_0x736e0=await(0x0,CreateService_1['default'])(_0xbb39b2);return _0x591f22[_0x204a68(0x155)](0xc8)[_0x204a68(0x154)](_0x736e0);};exports['store']=store;const show=async(_0x354fc6,_0x282bde)=>{const _0x301c77=a31_0x4f2cd3,{queueOptionId:_0x527eff}=_0x354fc6['params'],_0x364934=await(0x0,ShowService_1[_0x301c77(0x15c)])(_0x527eff);return _0x282bde[_0x301c77(0x155)](0xc8)[_0x301c77(0x154)](_0x364934);};exports[a31_0x4f2cd3(0x129)]=show;const update=async(_0x59ed8f,_0x311d52)=>{const _0x3d5a74=a31_0x4f2cd3,{queueOptionId:_0x22616b}=_0x59ed8f['params'],_0x30a61c=_0x59ed8f[_0x3d5a74(0x134)],_0x55f49f=await(0x0,UpdateService_1[_0x3d5a74(0x15c)])(_0x22616b,_0x30a61c);return _0x311d52[_0x3d5a74(0x155)](0xc8)[_0x3d5a74(0x154)](_0x55f49f);};exports[a31_0x4f2cd3(0x140)]=update;const uploadFile=async(_0x22b552,_0x28577b)=>{const _0x332597=a31_0x4f2cd3,{queueOptionId:_0x60cc90}=_0x22b552[_0x332597(0x158)],_0x3ea800=_0x22b552['body'],_0x5d3d1a=_0x22b552[_0x332597(0x14b)],_0x4fa79d=await QueueOption_1[_0x332597(0x15c)][_0x332597(0x12b)](_0x60cc90);if(!_0x4fa79d)throw new Error(_0x332597(0x14a));const _0x4a256b=_0x4fa79d['message'];return fs_1[_0x332597(0x15c)][_0x332597(0x143)](_0x4a256b)&&fs_1['default']['unlinkSync'](_0x4a256b),_0x4fa79d['message']=_0x5d3d1a[_0x332597(0x156)],await _0x4fa79d[_0x332597(0x15d)](),_0x28577b['status'](0xc8)[_0x332597(0x154)]({'message':_0x332597(0x14f)});};exports[a31_0x4f2cd3(0x135)]=uploadFile;const remove=async(_0x419a36,_0x54213a)=>{const _0x5e20a0=a31_0x4f2cd3,{queueOptionId:_0x14845d}=_0x419a36[_0x5e20a0(0x158)],_0x2f555b=await QueueOption_1[_0x5e20a0(0x15c)]['findByPk'](_0x14845d);if(!_0x2f555b)throw new Error(_0x5e20a0(0x14a));const _0x2df45e=_0x2f555b['message'];return fs_1[_0x5e20a0(0x15c)][_0x5e20a0(0x143)](_0x2df45e)&&fs_1['default'][_0x5e20a0(0x145)](_0x2df45e),await(0x0,DeleteService_1[_0x5e20a0(0x15c)])(_0x14845d),_0x54213a['status'](0xc8)[_0x5e20a0(0x154)]({'message':_0x5e20a0(0x141)});};exports[a31_0x4f2cd3(0x13f)]=remove;const mediaUpload=async(_0x30423e,_0x1a374f)=>{const _0x22fb7f=a31_0x4f2cd3,{queueOptionId:_0x229ba4}=_0x30423e[_0x22fb7f(0x158)],_0x102e69=_0x30423e[_0x22fb7f(0x13e)],_0x141e01=(0x0,lodash_1[_0x22fb7f(0x152)])(_0x102e69);try{const _0x125517=await QueueOption_1[_0x22fb7f(0x15c)][_0x22fb7f(0x12b)](_0x229ba4);return _0x125517[_0x22fb7f(0x140)]({'mediaPath':_0x141e01[_0x22fb7f(0x156)],'mediaName':_0x141e01[_0x22fb7f(0x137)]}),_0x1a374f[_0x22fb7f(0x148)]({'mensagem':_0x22fb7f(0x132)});}catch(_0x5712f8){throw new AppError_1[(_0x22fb7f(0x15c))](_0x5712f8[_0x22fb7f(0x128)]);}};function a31_0x5b19(){const _0x4af05f=['update','Option\x20Delected','search','existsSync','1397904SMYplT','unlinkSync','../services/QueueOptionService/DeleteService','../models/QueueOption','send','path','QueueOption\x20not\x20found','file','query','../services/QueueOptionService/ShowService','public','Option\x20Updated','queue','849TugIgU','head','6010458DvMhZS','json','status','filename','toString','params','2XmzUVn','__esModule','10564qONrlb','default','save','11877964BulVkR','message','show','(((.+)+)+)+$','findByPk','41150650maArax','../services/QueueOptionService/CreateService','constructor','lodash','index','12301011rexvIZ','Arquivo\x20Salvo','mediaUpload','body','uploadFile','../errors/AppError','originalname','5FTLuzr','Arquivo\x20excluÃ­do','mediaPath','deleteMedia','companyId','627198CmJHrJ','files','remove'];a31_0x5b19=function(){return _0x4af05f;};return a31_0x5b19();}exports[a31_0x4f2cd3(0x133)]=mediaUpload;const deleteMedia=async(_0x179743,_0x3198c0)=>{const _0x3957e1=a31_0x4f2cd3,{queueOptionId:_0x5ecd3d}=_0x179743[_0x3957e1(0x158)];try{const _0x350b60=await QueueOption_1[_0x3957e1(0x15c)][_0x3957e1(0x12b)](_0x5ecd3d,{'include':[_0x3957e1(0x150)]}),_0x59591f=path_1[_0x3957e1(0x15c)]['resolve'](_0x3957e1(0x14e),'company'+_0x350b60[_0x3957e1(0x150)][_0x3957e1(0x13c)],_0x350b60[_0x3957e1(0x13a)]),_0x18b060=fs_1[_0x3957e1(0x15c)]['existsSync'](_0x59591f);return _0x18b060&&fs_1['default'][_0x3957e1(0x145)](_0x59591f),_0x350b60[_0x3957e1(0x13a)]=null,_0x350b60['mediaName']=null,await _0x350b60[_0x3957e1(0x15d)](),_0x3198c0[_0x3957e1(0x148)]({'mensagem':_0x3957e1(0x139)});}catch(_0x3b1470){throw new AppError_1[(_0x3957e1(0x15c))](_0x3b1470[_0x3957e1(0x128)]);}};exports[a31_0x4f2cd3(0x13b)]=deleteMedia;