const a41_0x498448=a41_0x8bed;(function(_0x484f6f,_0x501dae){const _0x16c85d=a41_0x8bed,_0x2c05f1=_0x484f6f();while(!![]){try{const _0x588936=parseInt(_0x16c85d(0xa3))/0x1*(parseInt(_0x16c85d(0xae))/0x2)+parseInt(_0x16c85d(0xb8))/0x3+parseInt(_0x16c85d(0xba))/0x4*(-parseInt(_0x16c85d(0xc5))/0x5)+parseInt(_0x16c85d(0xa4))/0x6+-parseInt(_0x16c85d(0xd3))/0x7*(-parseInt(_0x16c85d(0xbd))/0x8)+-parseInt(_0x16c85d(0xc4))/0x9+-parseInt(_0x16c85d(0xa0))/0xa;if(_0x588936===_0x501dae)break;else _0x2c05f1['push'](_0x2c05f1['shift']());}catch(_0x29f15d){_0x2c05f1['push'](_0x2c05f1['shift']());}}}(a41_0x247b,0x6dcbf));const a41_0x36a41f=(function(){let _0x381023=!![];return function(_0x3d3fc2,_0x3bc82e){const _0x20de19=_0x381023?function(){const _0x3c253a=a41_0x8bed;if(_0x3bc82e){const _0x35f978=_0x3bc82e[_0x3c253a(0xab)](_0x3d3fc2,arguments);return _0x3bc82e=null,_0x35f978;}}:function(){};return _0x381023=![],_0x20de19;};}()),a41_0x26460d=a41_0x36a41f(this,function(){const _0x4228a1=a41_0x8bed;return a41_0x26460d[_0x4228a1(0xd2)]()[_0x4228a1(0xbc)](_0x4228a1(0xb5))[_0x4228a1(0xd2)]()[_0x4228a1(0xb1)](a41_0x26460d)['search']('(((.+)+)+)+$');});a41_0x26460d();'use strict';var __createBinding=this&&this[a41_0x498448(0xb7)]||(Object['create']?function(_0x3e1c56,_0x2aea11,_0x42d7c8,_0x2a5ca2){const _0x196e9e=a41_0x498448;if(_0x2a5ca2===undefined)_0x2a5ca2=_0x42d7c8;var _0x223a5e=Object[_0x196e9e(0xcd)](_0x2aea11,_0x42d7c8);(!_0x223a5e||(_0x196e9e(0xad)in _0x223a5e?!_0x2aea11['__esModule']:_0x223a5e[_0x196e9e(0xb2)]||_0x223a5e[_0x196e9e(0xa6)]))&&(_0x223a5e={'enumerable':!![],'get':function(){return _0x2aea11[_0x42d7c8];}}),Object['defineProperty'](_0x3e1c56,_0x2a5ca2,_0x223a5e);}:function(_0x2e7551,_0x4508b9,_0x48a19f,_0x4db0d2){if(_0x4db0d2===undefined)_0x4db0d2=_0x48a19f;_0x2e7551[_0x4db0d2]=_0x4508b9[_0x48a19f];}),__setModuleDefault=this&&this[a41_0x498448(0xcf)]||(Object[a41_0x498448(0xc0)]?function(_0x1be2b7,_0x2832ab){const _0x50210b=a41_0x498448;Object[_0x50210b(0xd4)](_0x1be2b7,_0x50210b(0xa1),{'enumerable':!![],'value':_0x2832ab});}:function(_0x32c347,_0xa7431e){const _0x201d7e=a41_0x498448;_0x32c347[_0x201d7e(0xa1)]=_0xa7431e;}),__importStar=this&&this[a41_0x498448(0xbb)]||function(_0x157cfe){const _0x24f8e3=a41_0x498448;if(_0x157cfe&&_0x157cfe[_0x24f8e3(0xb3)])return _0x157cfe;var _0x5014eb={};if(_0x157cfe!=null){for(var _0x302148 in _0x157cfe)if(_0x302148!==_0x24f8e3(0xa1)&&Object['prototype'][_0x24f8e3(0xce)][_0x24f8e3(0xbe)](_0x157cfe,_0x302148))__createBinding(_0x5014eb,_0x157cfe,_0x302148);}return __setModuleDefault(_0x5014eb,_0x157cfe),_0x5014eb;},__importDefault=this&&this[a41_0x498448(0xb6)]||function(_0x2b38d7){return _0x2b38d7&&_0x2b38d7['__esModule']?_0x2b38d7:{'default':_0x2b38d7};};Object[a41_0x498448(0xd4)](exports,a41_0x498448(0xb3),{'value':!![]}),exports['findFilteredList']=exports[a41_0x498448(0xc9)]=exports['update']=exports['show']=exports[a41_0x498448(0xc8)]=exports[a41_0x498448(0xc1)]=exports[a41_0x498448(0xa9)]=void 0x0;const Yup=__importStar(require(a41_0x498448(0xac))),AppError_1=__importDefault(require(a41_0x498448(0xa5))),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a41_0x498448(0xca))),UpdateTicketNoteService_1=__importDefault(require(a41_0x498448(0xd0))),ShowTicketNoteService_1=__importDefault(require(a41_0x498448(0xc3))),FindAllTicketNotesService_1=__importDefault(require(a41_0x498448(0xbf))),DeleteTicketNoteService_1=__importDefault(require('../services/TicketNoteService/DeleteTicketNoteService')),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x498448(0xc2))),index=async(_0x17a636,_0x4f50b1)=>{const _0x99b82b=a41_0x498448,{searchParam:_0x25ab67,pageNumber:_0x521ccb}=_0x17a636[_0x99b82b(0xb9)],{ticketNotes:_0x301b63,count:_0x51d0f8,hasMore:_0xd2a572}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x25ab67,'pageNumber':_0x521ccb});return _0x4f50b1[_0x99b82b(0xd5)]({'ticketNotes':_0x301b63,'count':_0x51d0f8,'hasMore':_0xd2a572});};exports[a41_0x498448(0xa9)]=index;const list=async(_0x3a59ca,_0x4747fb)=>{const _0x417a07=a41_0x498448,_0x33724b=await(0x0,FindAllTicketNotesService_1[_0x417a07(0xa1)])();return _0x4747fb['status'](0xc8)[_0x417a07(0xd5)](_0x33724b);};exports[a41_0x498448(0xc1)]=list;function a41_0x8bed(_0x579e2d,_0x4a0083){const _0x18bc76=a41_0x247b();return a41_0x8bed=function(_0x26460d,_0x36a41f){_0x26460d=_0x26460d-0xa0;let _0x247ba3=_0x18bc76[_0x26460d];return _0x247ba3;},a41_0x8bed(_0x579e2d,_0x4a0083);}const store=async(_0x23b09b,_0x47d413)=>{const _0x3adf3d=a41_0x498448,_0x260aa9=_0x23b09b[_0x3adf3d(0xa2)],{id:_0x4bd290}=_0x23b09b[_0x3adf3d(0xcc)],_0x35acb6=Yup[_0x3adf3d(0xa8)]()['shape']({'note':Yup[_0x3adf3d(0xc6)]()['required']()});try{await _0x35acb6[_0x3adf3d(0xaa)](_0x260aa9);}catch(_0x5bccc2){throw new AppError_1[(_0x3adf3d(0xa1))](_0x5bccc2[_0x3adf3d(0xaf)]);}const _0x2e9015=await(0x0,CreateTicketNoteService_1[_0x3adf3d(0xa1)])({..._0x260aa9,'userId':_0x4bd290});return _0x47d413[_0x3adf3d(0xb4)](0xc8)[_0x3adf3d(0xd5)](_0x2e9015);};exports[a41_0x498448(0xc8)]=store;const show=async(_0x16e6be,_0x2feaf2)=>{const _0x4a602b=a41_0x498448,{id:_0xf7a850}=_0x16e6be['params'],_0x217c90=await(0x0,ShowTicketNoteService_1['default'])(_0xf7a850);return _0x2feaf2[_0x4a602b(0xb4)](0xc8)[_0x4a602b(0xd5)](_0x217c90);};function a41_0x247b(){const _0x169053=['index','validate','apply','yup','get','870456ZAjSri','message','shape','constructor','writable','__esModule','status','(((.+)+)+)+$','__importDefault','__createBinding','2433468ERqtJp','query','1591684qPqHKh','__importStar','search','61144GeBIlP','call','../services/TicketNoteService/FindAllTicketNotesService','create','list','../services/TicketNoteService/FindNotesByContactIdAndTicketId','../services/TicketNoteService/ShowTicketNoteService','3107916CbUPGQ','10ednTMH','string','Observação\x20removida','store','remove','../services/TicketNoteService/CreateTicketNoteService','profile','user','getOwnPropertyDescriptor','hasOwnProperty','__setModuleDefault','../services/TicketNoteService/UpdateTicketNoteService','update','toString','721xDnpfz','defineProperty','json','5383750ltSJQr','default','body','1FScZtv','573930dJANLf','../errors/AppError','configurable','show','object'];a41_0x247b=function(){return _0x169053;};return a41_0x247b();}exports[a41_0x498448(0xa7)]=show;const update=async(_0x5a0e31,_0x3d9923)=>{const _0x4b031c=a41_0x498448,_0x3412b9=_0x5a0e31[_0x4b031c(0xa2)],_0x216e75=Yup[_0x4b031c(0xa8)]()[_0x4b031c(0xb0)]({'note':Yup[_0x4b031c(0xc6)]()});try{await _0x216e75[_0x4b031c(0xaa)](_0x3412b9);}catch(_0x2512f2){throw new AppError_1[(_0x4b031c(0xa1))](_0x2512f2[_0x4b031c(0xaf)]);}const _0x231229=await(0x0,UpdateTicketNoteService_1[_0x4b031c(0xa1)])(_0x3412b9);return _0x3d9923[_0x4b031c(0xb4)](0xc8)[_0x4b031c(0xd5)](_0x231229);};exports[a41_0x498448(0xd1)]=update;const remove=async(_0x24bff4,_0x3f9b8c)=>{const _0x3f0190=a41_0x498448,{id:_0x1106ca}=_0x24bff4['params'];if(_0x24bff4[_0x3f0190(0xcc)][_0x3f0190(0xcb)]!=='admin')throw new AppError_1[(_0x3f0190(0xa1))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1[_0x3f0190(0xa1)])(_0x1106ca),_0x3f9b8c[_0x3f0190(0xb4)](0xc8)[_0x3f0190(0xd5)]({'message':_0x3f0190(0xc7)});};exports[a41_0x498448(0xc9)]=remove;const findFilteredList=async(_0x2c8bf3,_0x418374)=>{const _0x47ecf2=a41_0x498448;try{const {contactId:_0x5ff8af,ticketId:_0x903d2c}=_0x2c8bf3[_0x47ecf2(0xb9)],_0x3fe0e6=await(0x0,FindNotesByContactIdAndTicketId_1['default'])({'contactId':_0x5ff8af,'ticketId':_0x903d2c});return _0x418374[_0x47ecf2(0xb4)](0xc8)[_0x47ecf2(0xd5)](_0x3fe0e6);}catch(_0x28c514){return _0x418374[_0x47ecf2(0xb4)](0x1f4)[_0x47ecf2(0xd5)]({'message':_0x28c514});}};exports['findFilteredList']=findFilteredList;