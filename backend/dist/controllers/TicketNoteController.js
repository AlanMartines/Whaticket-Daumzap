const a41_0x37f865=a41_0x1822;(function(_0x4a4c56,_0x335f3e){const _0x2b663d=a41_0x1822,_0x59124d=_0x4a4c56();while(!![]){try{const _0x1f9c62=parseInt(_0x2b663d(0x159))/0x1+parseInt(_0x2b663d(0x158))/0x2*(-parseInt(_0x2b663d(0x153))/0x3)+-parseInt(_0x2b663d(0x15d))/0x4+-parseInt(_0x2b663d(0x14f))/0x5+parseInt(_0x2b663d(0x163))/0x6*(-parseInt(_0x2b663d(0x14a))/0x7)+-parseInt(_0x2b663d(0x157))/0x8+-parseInt(_0x2b663d(0x151))/0x9*(-parseInt(_0x2b663d(0x152))/0xa);if(_0x1f9c62===_0x335f3e)break;else _0x59124d['push'](_0x59124d['shift']());}catch(_0x412fd8){_0x59124d['push'](_0x59124d['shift']());}}}(a41_0x2eab,0x51e11));const a41_0x4bdae5=(function(){let _0x3ab1ba=!![];return function(_0x60a248,_0x1343fd){const _0x5c773b=_0x3ab1ba?function(){const _0x33f284=a41_0x1822;if(_0x1343fd){const _0x216967=_0x1343fd[_0x33f284(0x170)](_0x60a248,arguments);return _0x1343fd=null,_0x216967;}}:function(){};return _0x3ab1ba=![],_0x5c773b;};}()),a41_0x1424da=a41_0x4bdae5(this,function(){const _0x10878d=a41_0x1822;return a41_0x1424da[_0x10878d(0x16d)]()[_0x10878d(0x161)]('(((.+)+)+)+$')[_0x10878d(0x16d)]()[_0x10878d(0x16f)](a41_0x1424da)['search'](_0x10878d(0x172));});a41_0x1424da();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a41_0x37f865(0x148)]?function(_0x58c156,_0x404545,_0x47a8d3,_0x35cdf4){const _0x3f5f08=a41_0x37f865;if(_0x35cdf4===undefined)_0x35cdf4=_0x47a8d3;var _0x1318dd=Object[_0x3f5f08(0x142)](_0x404545,_0x47a8d3);(!_0x1318dd||(_0x3f5f08(0x143)in _0x1318dd?!_0x404545[_0x3f5f08(0x15b)]:_0x1318dd[_0x3f5f08(0x15c)]||_0x1318dd[_0x3f5f08(0x15a)]))&&(_0x1318dd={'enumerable':!![],'get':function(){return _0x404545[_0x47a8d3];}}),Object['defineProperty'](_0x58c156,_0x35cdf4,_0x1318dd);}:function(_0x48e6e9,_0x4e3e47,_0x15472b,_0x471c81){if(_0x471c81===undefined)_0x471c81=_0x15472b;_0x48e6e9[_0x471c81]=_0x4e3e47[_0x15472b];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x3f98cf,_0x3abce8){const _0x1d8347=a41_0x37f865;Object[_0x1d8347(0x15f)](_0x3f98cf,_0x1d8347(0x168),{'enumerable':!![],'value':_0x3abce8});}:function(_0x2218b6,_0xd8d70d){_0x2218b6['default']=_0xd8d70d;}),__importStar=this&&this[a41_0x37f865(0x14d)]||function(_0x277794){const _0x53b7bb=a41_0x37f865;if(_0x277794&&_0x277794[_0x53b7bb(0x15b)])return _0x277794;var _0x45f7a0={};if(_0x277794!=null){for(var _0x18a372 in _0x277794)if(_0x18a372!==_0x53b7bb(0x168)&&Object[_0x53b7bb(0x150)][_0x53b7bb(0x16c)][_0x53b7bb(0x141)](_0x277794,_0x18a372))__createBinding(_0x45f7a0,_0x277794,_0x18a372);}return __setModuleDefault(_0x45f7a0,_0x277794),_0x45f7a0;},__importDefault=this&&this['__importDefault']||function(_0x3a3f98){return _0x3a3f98&&_0x3a3f98['__esModule']?_0x3a3f98:{'default':_0x3a3f98};};function a41_0x2eab(){const _0x3dff3f=['query','show','../services/TicketNoteService/UpdateTicketNoteService','shape','default','findFilteredList','body','index','hasOwnProperty','toString','store','constructor','apply','params','(((.+)+)+)+$','user','call','getOwnPropertyDescriptor','get','../services/TicketNoteService/DeleteTicketNoteService','status','update','../services/TicketNoteService/FindNotesByContactIdAndTicketId','create','Observação\x20removida','2548707smIRAV','list','admin','__importStar','../errors/AppError','2847490QtizAf','prototype','762309kmjlya','190cITvnq','12972GoOfVI','json','string','remove','1225344PCGzRq','178jOMgzr','581001Sdktdo','configurable','__esModule','writable','1533360fJJtmM','../services/TicketNoteService/ListTicketNotesService','defineProperty','validate','search','../services/TicketNoteService/ShowTicketNoteService','6tavRbG'];a41_0x2eab=function(){return _0x3dff3f;};return a41_0x2eab();}Object[a41_0x37f865(0x15f)](exports,'__esModule',{'value':!![]}),exports[a41_0x37f865(0x169)]=exports['remove']=exports[a41_0x37f865(0x146)]=exports[a41_0x37f865(0x165)]=exports[a41_0x37f865(0x16e)]=exports[a41_0x37f865(0x14b)]=exports[a41_0x37f865(0x16b)]=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a41_0x37f865(0x14e))),ListTicketNotesService_1=__importDefault(require(a41_0x37f865(0x15e))),CreateTicketNoteService_1=__importDefault(require('../services/TicketNoteService/CreateTicketNoteService')),UpdateTicketNoteService_1=__importDefault(require(a41_0x37f865(0x166))),ShowTicketNoteService_1=__importDefault(require(a41_0x37f865(0x162))),FindAllTicketNotesService_1=__importDefault(require('../services/TicketNoteService/FindAllTicketNotesService')),DeleteTicketNoteService_1=__importDefault(require(a41_0x37f865(0x144))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x37f865(0x147))),index=async(_0x5bda6e,_0x132646)=>{const _0x55cb34=a41_0x37f865,{searchParam:_0x13e2a9,pageNumber:_0x593211}=_0x5bda6e[_0x55cb34(0x164)],{ticketNotes:_0x58a265,count:_0x24f01b,hasMore:_0x3ad66}=await(0x0,ListTicketNotesService_1[_0x55cb34(0x168)])({'searchParam':_0x13e2a9,'pageNumber':_0x593211});return _0x132646[_0x55cb34(0x154)]({'ticketNotes':_0x58a265,'count':_0x24f01b,'hasMore':_0x3ad66});};exports[a41_0x37f865(0x16b)]=index;const list=async(_0x221275,_0x519801)=>{const _0x2348d7=a41_0x37f865,_0x27be18=await(0x0,FindAllTicketNotesService_1[_0x2348d7(0x168)])();return _0x519801[_0x2348d7(0x145)](0xc8)[_0x2348d7(0x154)](_0x27be18);};exports[a41_0x37f865(0x14b)]=list;const store=async(_0x1194ea,_0x1dc80c)=>{const _0x820389=a41_0x37f865,_0x49ef00=_0x1194ea[_0x820389(0x16a)],{id:_0x1975ba}=_0x1194ea[_0x820389(0x140)],_0x5428d6=Yup['object']()[_0x820389(0x167)]({'note':Yup['string']()['required']()});try{await _0x5428d6[_0x820389(0x160)](_0x49ef00);}catch(_0x52fcd6){throw new AppError_1['default'](_0x52fcd6['message']);}const _0x837257=await(0x0,CreateTicketNoteService_1[_0x820389(0x168)])({..._0x49ef00,'userId':_0x1975ba});return _0x1dc80c[_0x820389(0x145)](0xc8)[_0x820389(0x154)](_0x837257);};exports['store']=store;const show=async(_0xd9f9c0,_0x4abf14)=>{const _0x17e1a3=a41_0x37f865,{id:_0x374597}=_0xd9f9c0[_0x17e1a3(0x171)],_0x31150c=await(0x0,ShowTicketNoteService_1[_0x17e1a3(0x168)])(_0x374597);return _0x4abf14[_0x17e1a3(0x145)](0xc8)[_0x17e1a3(0x154)](_0x31150c);};exports[a41_0x37f865(0x165)]=show;const update=async(_0xf91b56,_0xfd85fb)=>{const _0x2f5aaf=a41_0x37f865,_0x660c4c=_0xf91b56[_0x2f5aaf(0x16a)],_0x20d6a4=Yup['object']()[_0x2f5aaf(0x167)]({'note':Yup[_0x2f5aaf(0x155)]()});try{await _0x20d6a4[_0x2f5aaf(0x160)](_0x660c4c);}catch(_0x34c3fd){throw new AppError_1[(_0x2f5aaf(0x168))](_0x34c3fd['message']);}const _0x49c901=await(0x0,UpdateTicketNoteService_1['default'])(_0x660c4c);return _0xfd85fb['status'](0xc8)['json'](_0x49c901);};exports[a41_0x37f865(0x146)]=update;const remove=async(_0x4ee1c6,_0x37c08a)=>{const _0x159430=a41_0x37f865,{id:_0x2e5079}=_0x4ee1c6[_0x159430(0x171)];if(_0x4ee1c6['user']['profile']!==_0x159430(0x14c))throw new AppError_1[(_0x159430(0x168))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1[_0x159430(0x168)])(_0x2e5079),_0x37c08a[_0x159430(0x145)](0xc8)[_0x159430(0x154)]({'message':_0x159430(0x149)});};exports[a41_0x37f865(0x156)]=remove;const findFilteredList=async(_0x5a828f,_0x3bee5a)=>{const _0x651b36=a41_0x37f865;try{const {contactId:_0x1a6aa1,ticketId:_0x108937}=_0x5a828f['query'],_0x54f421=await(0x0,FindNotesByContactIdAndTicketId_1['default'])({'contactId':_0x1a6aa1,'ticketId':_0x108937});return _0x3bee5a[_0x651b36(0x145)](0xc8)[_0x651b36(0x154)](_0x54f421);}catch(_0x2d5ee1){return _0x3bee5a[_0x651b36(0x145)](0x1f4)[_0x651b36(0x154)]({'message':_0x2d5ee1});}};function a41_0x1822(_0x42edb8,_0x576acb){const _0xa7a58c=a41_0x2eab();return a41_0x1822=function(_0x1424da,_0x4bdae5){_0x1424da=_0x1424da-0x140;let _0x2eabe8=_0xa7a58c[_0x1424da];return _0x2eabe8;},a41_0x1822(_0x42edb8,_0x576acb);}exports[a41_0x37f865(0x169)]=findFilteredList;