const a41_0x170b63=a41_0x3a13;function a41_0x3a13(_0x3257c9,_0x1c895f){const _0x1ec7e3=a41_0x396a();return a41_0x3a13=function(_0x2e7069,_0x3ac58d){_0x2e7069=_0x2e7069-0xd1;let _0x396a8a=_0x1ec7e3[_0x2e7069];return _0x396a8a;},a41_0x3a13(_0x3257c9,_0x1c895f);}(function(_0x407ed3,_0x5d521a){const _0x3ce773=a41_0x3a13,_0x5c963d=_0x407ed3();while(!![]){try{const _0x4024d5=-parseInt(_0x3ce773(0xf9))/0x1+parseInt(_0x3ce773(0x100))/0x2+parseInt(_0x3ce773(0xf6))/0x3*(parseInt(_0x3ce773(0xd3))/0x4)+-parseInt(_0x3ce773(0xec))/0x5*(parseInt(_0x3ce773(0xf2))/0x6)+parseInt(_0x3ce773(0xfa))/0x7*(-parseInt(_0x3ce773(0xf3))/0x8)+parseInt(_0x3ce773(0xdb))/0x9+parseInt(_0x3ce773(0xd7))/0xa;if(_0x4024d5===_0x5d521a)break;else _0x5c963d['push'](_0x5c963d['shift']());}catch(_0x19000d){_0x5c963d['push'](_0x5c963d['shift']());}}}(a41_0x396a,0x9ef22));const a41_0x3ac58d=(function(){let _0x390376=!![];return function(_0x20edd6,_0x40d403){const _0x51c79c=_0x390376?function(){if(_0x40d403){const _0x2c9ba1=_0x40d403['apply'](_0x20edd6,arguments);return _0x40d403=null,_0x2c9ba1;}}:function(){};return _0x390376=![],_0x51c79c;};}()),a41_0x2e7069=a41_0x3ac58d(this,function(){const _0x33be26=a41_0x3a13;return a41_0x2e7069[_0x33be26(0xf4)]()[_0x33be26(0xef)](_0x33be26(0xe8))[_0x33be26(0xf4)]()[_0x33be26(0xd2)](a41_0x2e7069)[_0x33be26(0xef)]('(((.+)+)+)+$');});a41_0x2e7069();function a41_0x396a(){const _0x30dc06=['json','hasOwnProperty','Observação\x20removida','writable','shape','configurable','query','../services/TicketNoteService/DeleteTicketNoteService','default','(((.+)+)+)+$','object','remove','user','1406685bZAgkk','admin','index','search','create','body','6stTFsA','2376rgvlat','toString','__setModuleDefault','12eHLWRt','params','message','657041QHRRgb','10731iRskJd','validate','status','update','show','required','573276NeKcan','defineProperty','store','list','constructor','488508WUKIpT','__esModule','getOwnPropertyDescriptor','../services/TicketNoteService/FindAllTicketNotesService','420470FpVQVn','../services/TicketNoteService/FindNotesByContactIdAndTicketId','../services/TicketNoteService/CreateTicketNoteService','__importStar','11047752XPwtxL','string','yup','../services/TicketNoteService/UpdateTicketNoteService'];a41_0x396a=function(){return _0x30dc06;};return a41_0x396a();}'use strict';var __createBinding=this&&this['__createBinding']||(Object[a41_0x170b63(0xf0)]?function(_0x16920e,_0x18da11,_0x59c2f7,_0x5d9093){const _0x70ba29=a41_0x170b63;if(_0x5d9093===undefined)_0x5d9093=_0x59c2f7;var _0x525d8d=Object[_0x70ba29(0xd5)](_0x18da11,_0x59c2f7);(!_0x525d8d||('get'in _0x525d8d?!_0x18da11[_0x70ba29(0xd4)]:_0x525d8d[_0x70ba29(0xe2)]||_0x525d8d[_0x70ba29(0xe4)]))&&(_0x525d8d={'enumerable':!![],'get':function(){return _0x18da11[_0x59c2f7];}}),Object[_0x70ba29(0x101)](_0x16920e,_0x5d9093,_0x525d8d);}:function(_0x353865,_0x5d32f4,_0x1326b1,_0x49de4c){if(_0x49de4c===undefined)_0x49de4c=_0x1326b1;_0x353865[_0x49de4c]=_0x5d32f4[_0x1326b1];}),__setModuleDefault=this&&this[a41_0x170b63(0xf5)]||(Object['create']?function(_0x3614fb,_0x413e1c){const _0x4c8e53=a41_0x170b63;Object[_0x4c8e53(0x101)](_0x3614fb,_0x4c8e53(0xe7),{'enumerable':!![],'value':_0x413e1c});}:function(_0x5052cc,_0x4cff6f){const _0x16eca1=a41_0x170b63;_0x5052cc[_0x16eca1(0xe7)]=_0x4cff6f;}),__importStar=this&&this[a41_0x170b63(0xda)]||function(_0x4bf702){const _0x242230=a41_0x170b63;if(_0x4bf702&&_0x4bf702[_0x242230(0xd4)])return _0x4bf702;var _0x102f99={};if(_0x4bf702!=null){for(var _0x536f82 in _0x4bf702)if(_0x536f82!=='default'&&Object['prototype'][_0x242230(0xe0)]['call'](_0x4bf702,_0x536f82))__createBinding(_0x102f99,_0x4bf702,_0x536f82);}return __setModuleDefault(_0x102f99,_0x4bf702),_0x102f99;},__importDefault=this&&this['__importDefault']||function(_0x56a8b4){const _0x2acd0f=a41_0x170b63;return _0x56a8b4&&_0x56a8b4[_0x2acd0f(0xd4)]?_0x56a8b4:{'default':_0x56a8b4};};Object['defineProperty'](exports,a41_0x170b63(0xd4),{'value':!![]}),exports['findFilteredList']=exports[a41_0x170b63(0xea)]=exports[a41_0x170b63(0xfd)]=exports['show']=exports[a41_0x170b63(0x102)]=exports[a41_0x170b63(0xd1)]=exports[a41_0x170b63(0xee)]=void 0x0;const Yup=__importStar(require(a41_0x170b63(0xdd))),AppError_1=__importDefault(require('../errors/AppError')),ListTicketNotesService_1=__importDefault(require('../services/TicketNoteService/ListTicketNotesService')),CreateTicketNoteService_1=__importDefault(require(a41_0x170b63(0xd9))),UpdateTicketNoteService_1=__importDefault(require(a41_0x170b63(0xde))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a41_0x170b63(0xd6))),DeleteTicketNoteService_1=__importDefault(require(a41_0x170b63(0xe6))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x170b63(0xd8))),index=async(_0x5b95e6,_0x3c5067)=>{const _0x3c077c=a41_0x170b63,{searchParam:_0xb45fbc,pageNumber:_0x539bc9}=_0x5b95e6[_0x3c077c(0xe5)],{ticketNotes:_0x1f1e0f,count:_0xe29527,hasMore:_0x3f2158}=await(0x0,ListTicketNotesService_1[_0x3c077c(0xe7)])({'searchParam':_0xb45fbc,'pageNumber':_0x539bc9});return _0x3c5067[_0x3c077c(0xdf)]({'ticketNotes':_0x1f1e0f,'count':_0xe29527,'hasMore':_0x3f2158});};exports[a41_0x170b63(0xee)]=index;const list=async(_0x2ba289,_0xc39045)=>{const _0x13adb0=a41_0x170b63,_0x14a396=await(0x0,FindAllTicketNotesService_1[_0x13adb0(0xe7)])();return _0xc39045['status'](0xc8)[_0x13adb0(0xdf)](_0x14a396);};exports['list']=list;const store=async(_0x44e7dd,_0x201907)=>{const _0x3b749d=a41_0x170b63,_0x4f6b35=_0x44e7dd[_0x3b749d(0xf1)],{id:_0x9beb81}=_0x44e7dd[_0x3b749d(0xeb)],_0x49d405=Yup[_0x3b749d(0xe9)]()[_0x3b749d(0xe3)]({'note':Yup[_0x3b749d(0xdc)]()[_0x3b749d(0xff)]()});try{await _0x49d405['validate'](_0x4f6b35);}catch(_0x1a09ab){throw new AppError_1[(_0x3b749d(0xe7))](_0x1a09ab[_0x3b749d(0xf8)]);}const _0x5c325c=await(0x0,CreateTicketNoteService_1[_0x3b749d(0xe7)])({..._0x4f6b35,'userId':_0x9beb81});return _0x201907['status'](0xc8)[_0x3b749d(0xdf)](_0x5c325c);};exports[a41_0x170b63(0x102)]=store;const show=async(_0x5259c4,_0x21f27d)=>{const _0x5dfebe=a41_0x170b63,{id:_0x38677d}=_0x5259c4[_0x5dfebe(0xf7)],_0x25f0bb=await(0x0,ShowTicketNoteService_1[_0x5dfebe(0xe7)])(_0x38677d);return _0x21f27d['status'](0xc8)[_0x5dfebe(0xdf)](_0x25f0bb);};exports[a41_0x170b63(0xfe)]=show;const update=async(_0x291a29,_0x541164)=>{const _0x5622eb=a41_0x170b63,_0x441725=_0x291a29[_0x5622eb(0xf1)],_0x974b44=Yup[_0x5622eb(0xe9)]()['shape']({'note':Yup['string']()});try{await _0x974b44[_0x5622eb(0xfb)](_0x441725);}catch(_0x476e25){throw new AppError_1['default'](_0x476e25['message']);}const _0x5d8230=await(0x0,UpdateTicketNoteService_1[_0x5622eb(0xe7)])(_0x441725);return _0x541164[_0x5622eb(0xfc)](0xc8)[_0x5622eb(0xdf)](_0x5d8230);};exports[a41_0x170b63(0xfd)]=update;const remove=async(_0x3c1705,_0x6dca45)=>{const _0x589f69=a41_0x170b63,{id:_0x372c5e}=_0x3c1705[_0x589f69(0xf7)];if(_0x3c1705['user']['profile']!==_0x589f69(0xed))throw new AppError_1[(_0x589f69(0xe7))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x372c5e),_0x6dca45[_0x589f69(0xfc)](0xc8)[_0x589f69(0xdf)]({'message':_0x589f69(0xe1)});};exports['remove']=remove;const findFilteredList=async(_0x583afc,_0x449ecb)=>{const _0x4a55d9=a41_0x170b63;try{const {contactId:_0xfd06b6,ticketId:_0x1bfe6f}=_0x583afc[_0x4a55d9(0xe5)],_0xed3210=await(0x0,FindNotesByContactIdAndTicketId_1[_0x4a55d9(0xe7)])({'contactId':_0xfd06b6,'ticketId':_0x1bfe6f});return _0x449ecb['status'](0xc8)[_0x4a55d9(0xdf)](_0xed3210);}catch(_0x20c6f0){return _0x449ecb[_0x4a55d9(0xfc)](0x1f4)[_0x4a55d9(0xdf)]({'message':_0x20c6f0});}};exports['findFilteredList']=findFilteredList;