const a41_0x34c233=a41_0x1e79;(function(_0x6522be,_0x449d32){const _0x191ba4=a41_0x1e79,_0x2955f5=_0x6522be();while(!![]){try{const _0x5c9a4d=-parseInt(_0x191ba4(0x1ee))/0x1*(parseInt(_0x191ba4(0x1e0))/0x2)+parseInt(_0x191ba4(0x1c6))/0x3+parseInt(_0x191ba4(0x1c7))/0x4+parseInt(_0x191ba4(0x1dd))/0x5*(parseInt(_0x191ba4(0x1ec))/0x6)+-parseInt(_0x191ba4(0x1e4))/0x7+-parseInt(_0x191ba4(0x1f5))/0x8+parseInt(_0x191ba4(0x1e7))/0x9;if(_0x5c9a4d===_0x449d32)break;else _0x2955f5['push'](_0x2955f5['shift']());}catch(_0x5c5e71){_0x2955f5['push'](_0x2955f5['shift']());}}}(a41_0x3276,0x42cd0));const a41_0x39bd5f=(function(){let _0x492f93=!![];return function(_0xb686d7,_0x16c95f){const _0x48e20a=_0x492f93?function(){if(_0x16c95f){const _0x398e6e=_0x16c95f['apply'](_0xb686d7,arguments);return _0x16c95f=null,_0x398e6e;}}:function(){};return _0x492f93=![],_0x48e20a;};}()),a41_0x415024=a41_0x39bd5f(this,function(){const _0x1f0db6=a41_0x1e79;return a41_0x415024['toString']()[_0x1f0db6(0x1ea)](_0x1f0db6(0x1d8))[_0x1f0db6(0x1eb)]()['constructor'](a41_0x415024)[_0x1f0db6(0x1ea)]('(((.+)+)+)+$');});a41_0x415024();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a41_0x34c233(0x1d1)]?function(_0x3237d6,_0x9e163c,_0x30c83e,_0x4580ac){const _0x4879f7=a41_0x34c233;if(_0x4580ac===undefined)_0x4580ac=_0x30c83e;var _0x92e635=Object['getOwnPropertyDescriptor'](_0x9e163c,_0x30c83e);(!_0x92e635||(_0x4879f7(0x1cf)in _0x92e635?!_0x9e163c[_0x4879f7(0x1d4)]:_0x92e635[_0x4879f7(0x1d7)]||_0x92e635[_0x4879f7(0x1d9)]))&&(_0x92e635={'enumerable':!![],'get':function(){return _0x9e163c[_0x30c83e];}}),Object['defineProperty'](_0x3237d6,_0x4580ac,_0x92e635);}:function(_0x35b71f,_0x1d9cbd,_0xd5d81a,_0x358eb8){if(_0x358eb8===undefined)_0x358eb8=_0xd5d81a;_0x35b71f[_0x358eb8]=_0x1d9cbd[_0xd5d81a];}),__setModuleDefault=this&&this[a41_0x34c233(0x1d5)]||(Object[a41_0x34c233(0x1d1)]?function(_0x3d5835,_0x33c0ff){const _0x359528=a41_0x34c233;Object[_0x359528(0x1ca)](_0x3d5835,'default',{'enumerable':!![],'value':_0x33c0ff});}:function(_0x456b2c,_0x2eaa6e){_0x456b2c['default']=_0x2eaa6e;}),__importStar=this&&this[a41_0x34c233(0x1e6)]||function(_0x4c29d1){const _0x5ea6e6=a41_0x34c233;if(_0x4c29d1&&_0x4c29d1['__esModule'])return _0x4c29d1;var _0xd2f556={};if(_0x4c29d1!=null){for(var _0x349d2e in _0x4c29d1)if(_0x349d2e!==_0x5ea6e6(0x1c8)&&Object[_0x5ea6e6(0x1d6)][_0x5ea6e6(0x1da)][_0x5ea6e6(0x1cd)](_0x4c29d1,_0x349d2e))__createBinding(_0xd2f556,_0x4c29d1,_0x349d2e);}return __setModuleDefault(_0xd2f556,_0x4c29d1),_0xd2f556;},__importDefault=this&&this[a41_0x34c233(0x1c5)]||function(_0x235d74){const _0x21df73=a41_0x34c233;return _0x235d74&&_0x235d74[_0x21df73(0x1d4)]?_0x235d74:{'default':_0x235d74};};Object[a41_0x34c233(0x1ca)](exports,'__esModule',{'value':!![]}),exports['findFilteredList']=exports[a41_0x34c233(0x1db)]=exports[a41_0x34c233(0x1d2)]=exports['show']=exports[a41_0x34c233(0x1df)]=exports[a41_0x34c233(0x1c9)]=exports[a41_0x34c233(0x1de)]=void 0x0;const Yup=__importStar(require(a41_0x34c233(0x1cb))),AppError_1=__importDefault(require('../errors/AppError')),ListTicketNotesService_1=__importDefault(require(a41_0x34c233(0x1f4))),CreateTicketNoteService_1=__importDefault(require(a41_0x34c233(0x1e2))),UpdateTicketNoteService_1=__importDefault(require(a41_0x34c233(0x1cc))),ShowTicketNoteService_1=__importDefault(require(a41_0x34c233(0x1dc))),FindAllTicketNotesService_1=__importDefault(require(a41_0x34c233(0x1e1))),DeleteTicketNoteService_1=__importDefault(require(a41_0x34c233(0x1e3))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x34c233(0x1f2))),index=async(_0x42a683,_0x363170)=>{const _0x3f4684=a41_0x34c233,{searchParam:_0x3a26ea,pageNumber:_0x346a38}=_0x42a683['query'],{ticketNotes:_0x1cb692,count:_0x493c8a,hasMore:_0x18c125}=await(0x0,ListTicketNotesService_1[_0x3f4684(0x1c8)])({'searchParam':_0x3a26ea,'pageNumber':_0x346a38});return _0x363170[_0x3f4684(0x1f3)]({'ticketNotes':_0x1cb692,'count':_0x493c8a,'hasMore':_0x18c125});};exports[a41_0x34c233(0x1de)]=index;const list=async(_0x261829,_0x27ef9f)=>{const _0x192f5a=a41_0x34c233,_0x215d13=await(0x0,FindAllTicketNotesService_1[_0x192f5a(0x1c8)])();return _0x27ef9f[_0x192f5a(0x1e5)](0xc8)[_0x192f5a(0x1f3)](_0x215d13);};exports[a41_0x34c233(0x1c9)]=list;const store=async(_0x1b7b1c,_0x51a888)=>{const _0x4d6f9a=a41_0x34c233,_0x319b09=_0x1b7b1c[_0x4d6f9a(0x1ef)],{id:_0x4051e9}=_0x1b7b1c[_0x4d6f9a(0x1e9)],_0x5256c8=Yup['object']()[_0x4d6f9a(0x1ce)]({'note':Yup[_0x4d6f9a(0x1c4)]()['required']()});try{await _0x5256c8[_0x4d6f9a(0x1f0)](_0x319b09);}catch(_0x52a377){throw new AppError_1[(_0x4d6f9a(0x1c8))](_0x52a377[_0x4d6f9a(0x1ed)]);}const _0x48d759=await(0x0,CreateTicketNoteService_1[_0x4d6f9a(0x1c8)])({..._0x319b09,'userId':_0x4051e9});return _0x51a888[_0x4d6f9a(0x1e5)](0xc8)[_0x4d6f9a(0x1f3)](_0x48d759);};function a41_0x3276(){const _0x664afb=['defineProperty','yup','../services/TicketNoteService/UpdateTicketNoteService','call','shape','get','query','create','update','admin','__esModule','__setModuleDefault','prototype','writable','(((.+)+)+)+$','configurable','hasOwnProperty','remove','../services/TicketNoteService/ShowTicketNoteService','15zPzSFt','index','store','2xmTwTu','../services/TicketNoteService/FindAllTicketNotesService','../services/TicketNoteService/CreateTicketNoteService','../services/TicketNoteService/DeleteTicketNoteService','1192849nBgvKo','status','__importStar','3607092EkDGfl','findFilteredList','user','search','toString','503922jpbrvT','message','320851qVSNOT','body','validate','Observação\x20removida','../services/TicketNoteService/FindNotesByContactIdAndTicketId','json','../services/TicketNoteService/ListTicketNotesService','1222600noBtVw','object','show','params','string','__importDefault','547830yMXGqV','329360qlHazu','default','list'];a41_0x3276=function(){return _0x664afb;};return a41_0x3276();}exports['store']=store;const show=async(_0x5b58c2,_0x217ecb)=>{const _0x25a12c=a41_0x34c233,{id:_0x4164fe}=_0x5b58c2['params'],_0x571549=await(0x0,ShowTicketNoteService_1['default'])(_0x4164fe);return _0x217ecb['status'](0xc8)[_0x25a12c(0x1f3)](_0x571549);};exports[a41_0x34c233(0x1f7)]=show;const update=async(_0x53524d,_0x377d49)=>{const _0x4f102f=a41_0x34c233,_0x165116=_0x53524d[_0x4f102f(0x1ef)],_0x4ad650=Yup[_0x4f102f(0x1f6)]()['shape']({'note':Yup['string']()});try{await _0x4ad650[_0x4f102f(0x1f0)](_0x165116);}catch(_0x2d3227){throw new AppError_1[(_0x4f102f(0x1c8))](_0x2d3227[_0x4f102f(0x1ed)]);}const _0x1531a1=await(0x0,UpdateTicketNoteService_1['default'])(_0x165116);return _0x377d49[_0x4f102f(0x1e5)](0xc8)[_0x4f102f(0x1f3)](_0x1531a1);};exports[a41_0x34c233(0x1d2)]=update;const remove=async(_0x2caeba,_0x530cc)=>{const _0x35117f=a41_0x34c233,{id:_0x59bd52}=_0x2caeba[_0x35117f(0x1c3)];if(_0x2caeba[_0x35117f(0x1e9)]['profile']!==_0x35117f(0x1d3))throw new AppError_1[(_0x35117f(0x1c8))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1['default'])(_0x59bd52),_0x530cc[_0x35117f(0x1e5)](0xc8)[_0x35117f(0x1f3)]({'message':_0x35117f(0x1f1)});};exports[a41_0x34c233(0x1db)]=remove;const findFilteredList=async(_0x1f9815,_0x49eada)=>{const _0x1863bc=a41_0x34c233;try{const {contactId:_0xeb6997,ticketId:_0x2198dd}=_0x1f9815[_0x1863bc(0x1d0)],_0x33d0b3=await(0x0,FindNotesByContactIdAndTicketId_1[_0x1863bc(0x1c8)])({'contactId':_0xeb6997,'ticketId':_0x2198dd});return _0x49eada['status'](0xc8)[_0x1863bc(0x1f3)](_0x33d0b3);}catch(_0x42aefc){return _0x49eada[_0x1863bc(0x1e5)](0x1f4)[_0x1863bc(0x1f3)]({'message':_0x42aefc});}};function a41_0x1e79(_0x5682f5,_0x29b70e){const _0x372fd1=a41_0x3276();return a41_0x1e79=function(_0x415024,_0x39bd5f){_0x415024=_0x415024-0x1c3;let _0x3276b2=_0x372fd1[_0x415024];return _0x3276b2;},a41_0x1e79(_0x5682f5,_0x29b70e);}exports[a41_0x34c233(0x1e8)]=findFilteredList;