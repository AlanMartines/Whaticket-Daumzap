const a41_0x5a5c59=a41_0x4114;(function(_0x41a8f4,_0x3fa2bb){const _0x4e3cd3=a41_0x4114,_0x52ea9d=_0x41a8f4();while(!![]){try{const _0x5c0a39=parseInt(_0x4e3cd3(0x11d))/0x1+-parseInt(_0x4e3cd3(0xfe))/0x2*(parseInt(_0x4e3cd3(0x114))/0x3)+parseInt(_0x4e3cd3(0xf6))/0x4+-parseInt(_0x4e3cd3(0x12e))/0x5+-parseInt(_0x4e3cd3(0x109))/0x6*(parseInt(_0x4e3cd3(0x125))/0x7)+parseInt(_0x4e3cd3(0xfd))/0x8*(parseInt(_0x4e3cd3(0x122))/0x9)+-parseInt(_0x4e3cd3(0x118))/0xa*(parseInt(_0x4e3cd3(0xff))/0xb);if(_0x5c0a39===_0x3fa2bb)break;else _0x52ea9d['push'](_0x52ea9d['shift']());}catch(_0x3d559a){_0x52ea9d['push'](_0x52ea9d['shift']());}}}(a41_0x70b4,0xcb176));const a41_0x1a5ddb=(function(){let _0x4df1c3=!![];return function(_0x493b1c,_0x46a5bf){const _0xf54a7e=_0x4df1c3?function(){const _0x47a440=a41_0x4114;if(_0x46a5bf){const _0x58ea17=_0x46a5bf[_0x47a440(0x103)](_0x493b1c,arguments);return _0x46a5bf=null,_0x58ea17;}}:function(){};return _0x4df1c3=![],_0xf54a7e;};}()),a41_0x2292ce=a41_0x1a5ddb(this,function(){const _0x2c2338=a41_0x4114;return a41_0x2292ce[_0x2c2338(0x10a)]()['search'](_0x2c2338(0x120))[_0x2c2338(0x10a)]()[_0x2c2338(0x119)](a41_0x2292ce)[_0x2c2338(0xfa)](_0x2c2338(0x120));});a41_0x2292ce();'use strict';function a41_0x70b4(){const _0x1aebf4=['1824LoywIK','2KRtKMz','77OHJVMZ','../services/TicketNoteService/DeleteTicketNoteService','admin','status','apply','store','prototype','__setModuleDefault','../services/TicketNoteService/FindNotesByContactIdAndTicketId','remove','671046CGlhKK','toString','json','__importStar','../errors/AppError','body','__importDefault','shape','query','call','findFilteredList','346929inVoUk','../services/TicketNoteService/ListTicketNotesService','message','__esModule','2947070rRdItM','constructor','configurable','string','index','1200843mkHcpL','writable','default','(((.+)+)+)+$','required','43245dmfTns','get','object','7VsLSHC','show','Observação\x20removida','user','hasOwnProperty','../services/TicketNoteService/CreateTicketNoteService','__createBinding','../services/TicketNoteService/FindAllTicketNotesService','getOwnPropertyDescriptor','291690XOaUOZ','3537000ACXXEJ','list','create','../services/TicketNoteService/UpdateTicketNoteService','search','defineProperty','params'];a41_0x70b4=function(){return _0x1aebf4;};return a41_0x70b4();}var __createBinding=this&&this[a41_0x5a5c59(0x12b)]||(Object['create']?function(_0x5b56b4,_0xf4fd88,_0x1f5f86,_0x3e2cf1){const _0x1c8712=a41_0x5a5c59;if(_0x3e2cf1===undefined)_0x3e2cf1=_0x1f5f86;var _0x573977=Object[_0x1c8712(0x12d)](_0xf4fd88,_0x1f5f86);(!_0x573977||(_0x1c8712(0x123)in _0x573977?!_0xf4fd88[_0x1c8712(0x117)]:_0x573977[_0x1c8712(0x11e)]||_0x573977[_0x1c8712(0x11a)]))&&(_0x573977={'enumerable':!![],'get':function(){return _0xf4fd88[_0x1f5f86];}}),Object[_0x1c8712(0xfb)](_0x5b56b4,_0x3e2cf1,_0x573977);}:function(_0x375d88,_0x4a4764,_0x226531,_0x186029){if(_0x186029===undefined)_0x186029=_0x226531;_0x375d88[_0x186029]=_0x4a4764[_0x226531];}),__setModuleDefault=this&&this[a41_0x5a5c59(0x106)]||(Object[a41_0x5a5c59(0xf8)]?function(_0x181ac6,_0x364e17){const _0x1cdf1a=a41_0x5a5c59;Object[_0x1cdf1a(0xfb)](_0x181ac6,_0x1cdf1a(0x11f),{'enumerable':!![],'value':_0x364e17});}:function(_0x50db5b,_0x2d2e76){_0x50db5b['default']=_0x2d2e76;}),__importStar=this&&this[a41_0x5a5c59(0x10c)]||function(_0x306e51){const _0x2820ba=a41_0x5a5c59;if(_0x306e51&&_0x306e51['__esModule'])return _0x306e51;var _0x4d0688={};if(_0x306e51!=null){for(var _0x34247f in _0x306e51)if(_0x34247f!==_0x2820ba(0x11f)&&Object[_0x2820ba(0x105)][_0x2820ba(0x129)][_0x2820ba(0x112)](_0x306e51,_0x34247f))__createBinding(_0x4d0688,_0x306e51,_0x34247f);}return __setModuleDefault(_0x4d0688,_0x306e51),_0x4d0688;},__importDefault=this&&this[a41_0x5a5c59(0x10f)]||function(_0x20228){const _0x2106f2=a41_0x5a5c59;return _0x20228&&_0x20228[_0x2106f2(0x117)]?_0x20228:{'default':_0x20228};};Object[a41_0x5a5c59(0xfb)](exports,a41_0x5a5c59(0x117),{'value':!![]}),exports[a41_0x5a5c59(0x113)]=exports[a41_0x5a5c59(0x108)]=exports['update']=exports[a41_0x5a5c59(0x126)]=exports[a41_0x5a5c59(0x104)]=exports[a41_0x5a5c59(0xf7)]=exports[a41_0x5a5c59(0x11c)]=void 0x0;const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(a41_0x5a5c59(0x10d))),ListTicketNotesService_1=__importDefault(require(a41_0x5a5c59(0x115))),CreateTicketNoteService_1=__importDefault(require(a41_0x5a5c59(0x12a))),UpdateTicketNoteService_1=__importDefault(require(a41_0x5a5c59(0xf9))),ShowTicketNoteService_1=__importDefault(require('../services/TicketNoteService/ShowTicketNoteService')),FindAllTicketNotesService_1=__importDefault(require(a41_0x5a5c59(0x12c))),DeleteTicketNoteService_1=__importDefault(require(a41_0x5a5c59(0x100))),FindNotesByContactIdAndTicketId_1=__importDefault(require(a41_0x5a5c59(0x107))),index=async(_0x10b788,_0x47c1d1)=>{const _0x4d4af7=a41_0x5a5c59,{searchParam:_0x28f2f4,pageNumber:_0x24575f}=_0x10b788['query'],{ticketNotes:_0x2479a9,count:_0x3fb5d4,hasMore:_0x392604}=await(0x0,ListTicketNotesService_1['default'])({'searchParam':_0x28f2f4,'pageNumber':_0x24575f});return _0x47c1d1[_0x4d4af7(0x10b)]({'ticketNotes':_0x2479a9,'count':_0x3fb5d4,'hasMore':_0x392604});};function a41_0x4114(_0x23a191,_0x2af5cd){const _0x2951a2=a41_0x70b4();return a41_0x4114=function(_0x2292ce,_0x1a5ddb){_0x2292ce=_0x2292ce-0xf6;let _0x70b487=_0x2951a2[_0x2292ce];return _0x70b487;},a41_0x4114(_0x23a191,_0x2af5cd);}exports['index']=index;const list=async(_0xcb5bd0,_0x960ce1)=>{const _0x2b79f0=a41_0x5a5c59,_0x3d8542=await(0x0,FindAllTicketNotesService_1[_0x2b79f0(0x11f)])();return _0x960ce1['status'](0xc8)[_0x2b79f0(0x10b)](_0x3d8542);};exports[a41_0x5a5c59(0xf7)]=list;const store=async(_0x1783f6,_0x36f510)=>{const _0x106ada=a41_0x5a5c59,_0x2b0dfa=_0x1783f6[_0x106ada(0x10e)],{id:_0x30d9ae}=_0x1783f6[_0x106ada(0x128)],_0x44974f=Yup[_0x106ada(0x124)]()[_0x106ada(0x110)]({'note':Yup[_0x106ada(0x11b)]()[_0x106ada(0x121)]()});try{await _0x44974f['validate'](_0x2b0dfa);}catch(_0x50094d){throw new AppError_1['default'](_0x50094d[_0x106ada(0x116)]);}const _0x8dcee3=await(0x0,CreateTicketNoteService_1[_0x106ada(0x11f)])({..._0x2b0dfa,'userId':_0x30d9ae});return _0x36f510[_0x106ada(0x102)](0xc8)['json'](_0x8dcee3);};exports[a41_0x5a5c59(0x104)]=store;const show=async(_0x233cfd,_0x184074)=>{const _0x6a04e7=a41_0x5a5c59,{id:_0x33df8e}=_0x233cfd[_0x6a04e7(0xfc)],_0x11c3bb=await(0x0,ShowTicketNoteService_1[_0x6a04e7(0x11f)])(_0x33df8e);return _0x184074[_0x6a04e7(0x102)](0xc8)[_0x6a04e7(0x10b)](_0x11c3bb);};exports[a41_0x5a5c59(0x126)]=show;const update=async(_0x38933f,_0x320a93)=>{const _0x2700e4=a41_0x5a5c59,_0x3d8cab=_0x38933f[_0x2700e4(0x10e)],_0x561317=Yup[_0x2700e4(0x124)]()[_0x2700e4(0x110)]({'note':Yup[_0x2700e4(0x11b)]()});try{await _0x561317['validate'](_0x3d8cab);}catch(_0x1a2c6d){throw new AppError_1[(_0x2700e4(0x11f))](_0x1a2c6d[_0x2700e4(0x116)]);}const _0x471598=await(0x0,UpdateTicketNoteService_1[_0x2700e4(0x11f)])(_0x3d8cab);return _0x320a93[_0x2700e4(0x102)](0xc8)[_0x2700e4(0x10b)](_0x471598);};exports['update']=update;const remove=async(_0x4a3cbe,_0x14b6f1)=>{const _0x3f6c55=a41_0x5a5c59,{id:_0x3bc053}=_0x4a3cbe[_0x3f6c55(0xfc)];if(_0x4a3cbe['user']['profile']!==_0x3f6c55(0x101))throw new AppError_1[(_0x3f6c55(0x11f))]('ERR_NO_PERMISSION',0x193);return await(0x0,DeleteTicketNoteService_1[_0x3f6c55(0x11f)])(_0x3bc053),_0x14b6f1[_0x3f6c55(0x102)](0xc8)[_0x3f6c55(0x10b)]({'message':_0x3f6c55(0x127)});};exports[a41_0x5a5c59(0x108)]=remove;const findFilteredList=async(_0x287149,_0x1dcfa7)=>{const _0xaeacac=a41_0x5a5c59;try{const {contactId:_0x257ccc,ticketId:_0x45bd6a}=_0x287149[_0xaeacac(0x111)],_0x1a63bb=await(0x0,FindNotesByContactIdAndTicketId_1[_0xaeacac(0x11f)])({'contactId':_0x257ccc,'ticketId':_0x45bd6a});return _0x1dcfa7[_0xaeacac(0x102)](0xc8)[_0xaeacac(0x10b)](_0x1a63bb);}catch(_0x5c3755){return _0x1dcfa7[_0xaeacac(0x102)](0x1f4)[_0xaeacac(0x10b)]({'message':_0x5c3755});}};exports['findFilteredList']=findFilteredList;