const a28_0x3d62ca=a28_0x506a;(function(_0x1b940a,_0x595364){const _0x5e49bd=a28_0x506a,_0x211133=_0x1b940a();while(!![]){try{const _0x1a940e=parseInt(_0x5e49bd(0x142))/0x1+parseInt(_0x5e49bd(0x166))/0x2*(parseInt(_0x5e49bd(0x164))/0x3)+-parseInt(_0x5e49bd(0x162))/0x4+parseInt(_0x5e49bd(0x144))/0x5+-parseInt(_0x5e49bd(0x15f))/0x6*(parseInt(_0x5e49bd(0x154))/0x7)+parseInt(_0x5e49bd(0x153))/0x8+-parseInt(_0x5e49bd(0x152))/0x9;if(_0x1a940e===_0x595364)break;else _0x211133['push'](_0x211133['shift']());}catch(_0xdca0cd){_0x211133['push'](_0x211133['shift']());}}}(a28_0x1119,0x3e82c));const a28_0x47238d=(function(){let _0x17007d=!![];return function(_0x3ec806,_0x27c31d){const _0x5e3be1=_0x17007d?function(){if(_0x27c31d){const _0x38dc75=_0x27c31d['apply'](_0x3ec806,arguments);return _0x27c31d=null,_0x38dc75;}}:function(){};return _0x17007d=![],_0x5e3be1;};}()),a28_0x316e7f=a28_0x47238d(this,function(){const _0x538f0e=a28_0x506a;return a28_0x316e7f[_0x538f0e(0x141)]()[_0x538f0e(0x14e)](_0x538f0e(0x14b))['toString']()[_0x538f0e(0x15b)](a28_0x316e7f)['search'](_0x538f0e(0x14b));});a28_0x316e7f();'use strict';var __importDefault=this&&this[a28_0x3d62ca(0x14d)]||function(_0x1950b8){const _0x4c569c=a28_0x3d62ca;return _0x1950b8&&_0x1950b8[_0x4c569c(0x14f)]?_0x1950b8:{'default':_0x1950b8};};Object['defineProperty'](exports,a28_0x3d62ca(0x14f),{'value':!![]}),exports[a28_0x3d62ca(0x167)]=exports[a28_0x3d62ca(0x149)]=exports['show']=exports[a28_0x3d62ca(0x13c)]=exports[a28_0x3d62ca(0x148)]=void 0x0;const socket_1=require(a28_0x3d62ca(0x145)),CreatePromptService_1=__importDefault(require(a28_0x3d62ca(0x13d))),DeletePromptService_1=__importDefault(require(a28_0x3d62ca(0x163))),ListPromptsService_1=__importDefault(require(a28_0x3d62ca(0x146))),ShowPromptService_1=__importDefault(require(a28_0x3d62ca(0x159))),UpdatePromptService_1=__importDefault(require('../services/PromptServices/UpdatePromptService')),Whatsapp_1=__importDefault(require(a28_0x3d62ca(0x13e))),jsonwebtoken_1=require(a28_0x3d62ca(0x150)),auth_1=__importDefault(require(a28_0x3d62ca(0x14c))),index=async(_0x2271a8,_0x42f92e)=>{const _0x359747=a28_0x3d62ca,{pageNumber:_0x7ed063,searchParam:_0x2bfddb}=_0x2271a8[_0x359747(0x13b)],_0x4f1e1c=_0x2271a8[_0x359747(0x160)][_0x359747(0x156)],[,_0x35cdc3]=_0x4f1e1c['split']('\x20'),_0x5ea469=(0x0,jsonwebtoken_1[_0x359747(0x15a)])(_0x35cdc3,auth_1['default'][_0x359747(0x14a)]),{companyId:_0x56cdb3}=_0x5ea469,{prompts:_0x255011,count:_0x2f04ad,hasMore:_0x2a8c99}=await(0x0,ListPromptsService_1[_0x359747(0x151)])({'searchParam':_0x2bfddb,'pageNumber':_0x7ed063,'companyId':_0x56cdb3});return _0x42f92e[_0x359747(0x155)](0xc8)[_0x359747(0x15c)]({'prompts':_0x255011,'count':_0x2f04ad,'hasMore':_0x2a8c99});};function a28_0x506a(_0x4ee279,_0xa127e4){const _0x1b2d8d=a28_0x1119();return a28_0x506a=function(_0x316e7f,_0x47238d){_0x316e7f=_0x316e7f-0x13b;let _0x1119b2=_0x1b2d8d[_0x316e7f];return _0x1119b2;},a28_0x506a(_0x4ee279,_0xa127e4);}exports['index']=index;const store=async(_0xa7eb8b,_0x421a65)=>{const _0x42e239=a28_0x3d62ca,_0x4114cb=_0xa7eb8b[_0x42e239(0x160)]['authorization'],[,_0x4fe8ba]=_0x4114cb[_0x42e239(0x140)]('\x20'),_0x81066c=(0x0,jsonwebtoken_1[_0x42e239(0x15a)])(_0x4fe8ba,auth_1[_0x42e239(0x151)][_0x42e239(0x14a)]),{companyId:_0x2f9863}=_0x81066c,{name:_0x21e7e1,apiKey:_0x5741f7,prompt:_0x185c6e,maxTokens:_0x4e0009,temperature:_0x17b305,promptTokens:_0x382e2d,completionTokens:_0x3cb10f,totalTokens:_0x99004d,queueId:_0x7d88d4,maxMessages:_0x47c765,voice:_0x1a18f8,voiceKey:_0x2bd381,voiceRegion:_0x2d3441}=_0xa7eb8b[_0x42e239(0x15e)],_0x1875e5=await(0x0,CreatePromptService_1[_0x42e239(0x151)])({'name':_0x21e7e1,'apiKey':_0x5741f7,'prompt':_0x185c6e,'maxTokens':_0x4e0009,'temperature':_0x17b305,'promptTokens':_0x382e2d,'completionTokens':_0x3cb10f,'totalTokens':_0x99004d,'queueId':_0x7d88d4,'maxMessages':_0x47c765,'companyId':_0x2f9863,'voice':_0x1a18f8,'voiceKey':_0x2bd381,'voiceRegion':_0x2d3441}),_0x4c2653=(0x0,socket_1[_0x42e239(0x158)])();return _0x4c2653['to'](_0x42e239(0x143)+_0x2f9863+'-mainchannel')['emit']('prompt',{'action':_0x42e239(0x149),'prompt':_0x1875e5}),_0x421a65[_0x42e239(0x155)](0xc8)['json'](_0x1875e5);};exports[a28_0x3d62ca(0x13c)]=store;const show=async(_0x273e0a,_0x209cad)=>{const _0x6f8c49=a28_0x3d62ca,{promptId:_0x230c22}=_0x273e0a[_0x6f8c49(0x13f)],_0x5d695e=_0x273e0a[_0x6f8c49(0x160)][_0x6f8c49(0x156)],[,_0x43faad]=_0x5d695e['split']('\x20'),_0x4272b0=(0x0,jsonwebtoken_1[_0x6f8c49(0x15a)])(_0x43faad,auth_1[_0x6f8c49(0x151)][_0x6f8c49(0x14a)]),{companyId:_0x4b997c}=_0x4272b0,_0x1c8f86=await(0x0,ShowPromptService_1[_0x6f8c49(0x151)])({'promptId':_0x230c22,'companyId':_0x4b997c});return _0x209cad[_0x6f8c49(0x155)](0xc8)[_0x6f8c49(0x15c)](_0x1c8f86);};function a28_0x1119(){const _0x34bec3=['../services/PromptServices/CreatePromptService','../models/Whatsapp','params','split','toString','289559mfmRCQ','company-','1130775sTibQK','../libs/socket','../services/PromptServices/ListPromptsService','prompt','index','update','secret','(((.+)+)+)+$','../config/auth','__importDefault','search','__esModule','jsonwebtoken','default','4206672Twypll','319656yIjfuI','15729vGfAuy','status','authorization','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado\x20nas\x20conexões\x20Whatsapp!','getIO','../services/PromptServices/ShowPromptService','verify','constructor','json','Prompt\x20deleted','body','66vgyIdW','headers','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado!','478404wPhIYc','../services/PromptServices/DeletePromptService','312099SPIcpc','show','6Fcowyl','remove','query','store'];a28_0x1119=function(){return _0x34bec3;};return a28_0x1119();}exports[a28_0x3d62ca(0x165)]=show;const update=async(_0xa2f2e2,_0xc95de7)=>{const _0x1014a6=a28_0x3d62ca,{promptId:_0x49272d}=_0xa2f2e2[_0x1014a6(0x13f)],_0x5ea193=_0xa2f2e2[_0x1014a6(0x15e)],_0x96fe8b=_0xa2f2e2[_0x1014a6(0x160)][_0x1014a6(0x156)],[,_0x452a70]=_0x96fe8b[_0x1014a6(0x140)]('\x20'),_0x855183=(0x0,jsonwebtoken_1[_0x1014a6(0x15a)])(_0x452a70,auth_1[_0x1014a6(0x151)][_0x1014a6(0x14a)]),{companyId:_0x5a4794}=_0x855183,_0x5ee965=await(0x0,UpdatePromptService_1[_0x1014a6(0x151)])({'promptData':_0x5ea193,'promptId':_0x49272d,'companyId':_0x5a4794}),_0x585428=(0x0,socket_1['getIO'])();return _0x585428['emit'](_0x1014a6(0x147),{'action':_0x1014a6(0x149),'prompt':_0x5ee965}),_0xc95de7['status'](0xc8)[_0x1014a6(0x15c)](_0x5ee965);};exports[a28_0x3d62ca(0x149)]=update;const remove=async(_0x5f3793,_0x1e37e7)=>{const _0x30a452=a28_0x3d62ca,{promptId:_0x2a47ce}=_0x5f3793[_0x30a452(0x13f)],_0x1623a3=_0x5f3793[_0x30a452(0x160)][_0x30a452(0x156)],[,_0x1165be]=_0x1623a3[_0x30a452(0x140)]('\x20'),_0x5ed36f=(0x0,jsonwebtoken_1[_0x30a452(0x15a)])(_0x1165be,auth_1[_0x30a452(0x151)][_0x30a452(0x14a)]),{companyId:_0x492fc6}=_0x5ed36f;try{const {count:_0x4453a3}=await Whatsapp_1[_0x30a452(0x151)]['findAndCountAll']({'where':{'promptId':+_0x2a47ce,'companyId':_0x492fc6}});if(_0x4453a3>0x0)return _0x1e37e7[_0x30a452(0x155)](0xc8)['json']({'message':_0x30a452(0x157)});await(0x0,DeletePromptService_1[_0x30a452(0x151)])(_0x2a47ce,_0x492fc6);const _0x1aff56=(0x0,socket_1[_0x30a452(0x158)])();return _0x1aff56['emit'](_0x30a452(0x147),{'action':'delete','intelligenceId':+_0x2a47ce}),_0x1e37e7[_0x30a452(0x155)](0xc8)['json']({'message':_0x30a452(0x15d)});}catch(_0x84223){return _0x1e37e7['status'](0x1f4)[_0x30a452(0x15c)]({'message':_0x30a452(0x161)});}};exports[a28_0x3d62ca(0x167)]=remove;