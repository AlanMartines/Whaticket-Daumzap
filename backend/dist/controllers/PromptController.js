const a28_0x12ec58=a28_0x2eb6;(function(_0xbbc3b,_0x98e26f){const _0x3cae12=a28_0x2eb6,_0x33428c=_0xbbc3b();while(!![]){try{const _0x6ba316=parseInt(_0x3cae12(0x1cd))/0x1*(parseInt(_0x3cae12(0x1e6))/0x2)+-parseInt(_0x3cae12(0x1e3))/0x3*(parseInt(_0x3cae12(0x1cc))/0x4)+-parseInt(_0x3cae12(0x1d2))/0x5*(-parseInt(_0x3cae12(0x1d5))/0x6)+parseInt(_0x3cae12(0x1d8))/0x7+parseInt(_0x3cae12(0x1d1))/0x8*(parseInt(_0x3cae12(0x1c7))/0x9)+-parseInt(_0x3cae12(0x1c9))/0xa+-parseInt(_0x3cae12(0x1dd))/0xb;if(_0x6ba316===_0x98e26f)break;else _0x33428c['push'](_0x33428c['shift']());}catch(_0x2fbc8a){_0x33428c['push'](_0x33428c['shift']());}}}(a28_0x829f,0x4e109));const a28_0x3f1700=(function(){let _0x73add9=!![];return function(_0x34e20e,_0x297707){const _0x187d0d=_0x73add9?function(){const _0x565197=a28_0x2eb6;if(_0x297707){const _0x4b780d=_0x297707[_0x565197(0x1ea)](_0x34e20e,arguments);return _0x297707=null,_0x4b780d;}}:function(){};return _0x73add9=![],_0x187d0d;};}()),a28_0x41bd99=a28_0x3f1700(this,function(){const _0x6293d=a28_0x2eb6;return a28_0x41bd99[_0x6293d(0x1cb)]()[_0x6293d(0x1d6)](_0x6293d(0x1c8))['toString']()[_0x6293d(0x1d0)](a28_0x41bd99)[_0x6293d(0x1d6)](_0x6293d(0x1c8));});a28_0x41bd99();'use strict';var __importDefault=this&&this[a28_0x12ec58(0x1e1)]||function(_0x31bbf6){const _0x18f4da=a28_0x12ec58;return _0x31bbf6&&_0x31bbf6[_0x18f4da(0x1ca)]?_0x31bbf6:{'default':_0x31bbf6};};function a28_0x2eb6(_0x410989,_0x326d1c){const _0x3f684d=a28_0x829f();return a28_0x2eb6=function(_0x41bd99,_0x3f1700){_0x41bd99=_0x41bd99-0x1c0;let _0x829f00=_0x3f684d[_0x41bd99];return _0x829f00;},a28_0x2eb6(_0x410989,_0x326d1c);}Object[a28_0x12ec58(0x1c4)](exports,a28_0x12ec58(0x1ca),{'value':!![]}),exports[a28_0x12ec58(0x1ef)]=exports[a28_0x12ec58(0x1c2)]=exports[a28_0x12ec58(0x1da)]=exports['store']=exports['index']=void 0x0;const socket_1=require(a28_0x12ec58(0x1f2)),CreatePromptService_1=__importDefault(require(a28_0x12ec58(0x1d9))),DeletePromptService_1=__importDefault(require(a28_0x12ec58(0x1f1))),ListPromptsService_1=__importDefault(require('../services/PromptServices/ListPromptsService')),ShowPromptService_1=__importDefault(require(a28_0x12ec58(0x1e4))),UpdatePromptService_1=__importDefault(require(a28_0x12ec58(0x1f3))),Whatsapp_1=__importDefault(require(a28_0x12ec58(0x1eb))),jsonwebtoken_1=require(a28_0x12ec58(0x1c0)),auth_1=__importDefault(require(a28_0x12ec58(0x1c3))),index=async(_0x31e012,_0xa8e341)=>{const _0xce968c=a28_0x12ec58,{pageNumber:_0x37d510,searchParam:_0x5c6087}=_0x31e012[_0xce968c(0x1d3)],_0x597784=_0x31e012['headers'][_0xce968c(0x1ee)],[,_0x3da6cf]=_0x597784['split']('\x20'),_0x4f1f70=(0x0,jsonwebtoken_1[_0xce968c(0x1ce)])(_0x3da6cf,auth_1[_0xce968c(0x1db)][_0xce968c(0x1f0)]),{companyId:_0x5e7968}=_0x4f1f70,{prompts:_0x1e0aca,count:_0x1fb13c,hasMore:_0x4acbc5}=await(0x0,ListPromptsService_1[_0xce968c(0x1db)])({'searchParam':_0x5c6087,'pageNumber':_0x37d510,'companyId':_0x5e7968});return _0xa8e341[_0xce968c(0x1d4)](0xc8)[_0xce968c(0x1df)]({'prompts':_0x1e0aca,'count':_0x1fb13c,'hasMore':_0x4acbc5});};exports['index']=index;function a28_0x829f(){const _0x546c4d=['19657TJwXLv','verify','emit','constructor','8mFrOZm','5470LJiYFr','query','status','1650nzsrxU','search','split','3837288eSavQe','../services/PromptServices/CreatePromptService','show','default','findAndCountAll','7491836yzkcEC','prompt','json','store','__importDefault','delete','3aQqtXR','../services/PromptServices/ShowPromptService','Prompt\x20deleted','38KGsykK','body','params','headers','apply','../models/Whatsapp','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado\x20nas\x20conexões\x20Whatsapp!','-mainchannel','authorization','remove','secret','../services/PromptServices/DeletePromptService','../libs/socket','../services/PromptServices/UpdatePromptService','jsonwebtoken','getIO','update','../config/auth','defineProperty','company-','Não\x20foi\x20possível\x20excluir!\x20Verifique\x20se\x20este\x20prompt\x20está\x20sendo\x20usado!','2654037oYqtBH','(((.+)+)+)+$','1199800gfbTsr','__esModule','toString','1586404uNFiFk'];a28_0x829f=function(){return _0x546c4d;};return a28_0x829f();}const store=async(_0x5de52f,_0x164e5f)=>{const _0x151180=a28_0x12ec58,_0x5cb521=_0x5de52f['headers']['authorization'],[,_0x1ac979]=_0x5cb521[_0x151180(0x1d7)]('\x20'),_0x4bfc65=(0x0,jsonwebtoken_1[_0x151180(0x1ce)])(_0x1ac979,auth_1[_0x151180(0x1db)][_0x151180(0x1f0)]),{companyId:_0x449cd1}=_0x4bfc65,{name:_0x1b4417,apiKey:_0x2ca20a,prompt:_0x14205e,maxTokens:_0x1c0ecc,temperature:_0x8d08de,promptTokens:_0x429fe0,completionTokens:_0x384d3b,totalTokens:_0x5b4927,queueId:_0xfb5f21,maxMessages:_0x400560,voice:_0x11bec7,voiceKey:_0x54ef47,voiceRegion:_0x2b623c}=_0x5de52f[_0x151180(0x1e7)],_0x2af8e2=await(0x0,CreatePromptService_1['default'])({'name':_0x1b4417,'apiKey':_0x2ca20a,'prompt':_0x14205e,'maxTokens':_0x1c0ecc,'temperature':_0x8d08de,'promptTokens':_0x429fe0,'completionTokens':_0x384d3b,'totalTokens':_0x5b4927,'queueId':_0xfb5f21,'maxMessages':_0x400560,'companyId':_0x449cd1,'voice':_0x11bec7,'voiceKey':_0x54ef47,'voiceRegion':_0x2b623c}),_0x38a59a=(0x0,socket_1[_0x151180(0x1c1)])();return _0x38a59a['to'](_0x151180(0x1c5)+_0x449cd1+_0x151180(0x1ed))[_0x151180(0x1cf)](_0x151180(0x1de),{'action':_0x151180(0x1c2),'prompt':_0x2af8e2}),_0x164e5f[_0x151180(0x1d4)](0xc8)['json'](_0x2af8e2);};exports[a28_0x12ec58(0x1e0)]=store;const show=async(_0x113e83,_0x446575)=>{const _0x1cb721=a28_0x12ec58,{promptId:_0x395157}=_0x113e83['params'],_0x401478=_0x113e83[_0x1cb721(0x1e9)]['authorization'],[,_0x26f4d5]=_0x401478[_0x1cb721(0x1d7)]('\x20'),_0xccbe1=(0x0,jsonwebtoken_1['verify'])(_0x26f4d5,auth_1[_0x1cb721(0x1db)][_0x1cb721(0x1f0)]),{companyId:_0x57b047}=_0xccbe1,_0x504a85=await(0x0,ShowPromptService_1[_0x1cb721(0x1db)])({'promptId':_0x395157,'companyId':_0x57b047});return _0x446575['status'](0xc8)[_0x1cb721(0x1df)](_0x504a85);};exports[a28_0x12ec58(0x1da)]=show;const update=async(_0x5ecce8,_0x518195)=>{const _0x2622bb=a28_0x12ec58,{promptId:_0x578d7f}=_0x5ecce8[_0x2622bb(0x1e8)],_0x440b31=_0x5ecce8['body'],_0x4fe30c=_0x5ecce8[_0x2622bb(0x1e9)][_0x2622bb(0x1ee)],[,_0x10afde]=_0x4fe30c[_0x2622bb(0x1d7)]('\x20'),_0x37f958=(0x0,jsonwebtoken_1['verify'])(_0x10afde,auth_1[_0x2622bb(0x1db)][_0x2622bb(0x1f0)]),{companyId:_0x56d038}=_0x37f958,_0x4d034e=await(0x0,UpdatePromptService_1[_0x2622bb(0x1db)])({'promptData':_0x440b31,'promptId':_0x578d7f,'companyId':_0x56d038}),_0x33f150=(0x0,socket_1[_0x2622bb(0x1c1)])();return _0x33f150[_0x2622bb(0x1cf)](_0x2622bb(0x1de),{'action':_0x2622bb(0x1c2),'prompt':_0x4d034e}),_0x518195[_0x2622bb(0x1d4)](0xc8)[_0x2622bb(0x1df)](_0x4d034e);};exports[a28_0x12ec58(0x1c2)]=update;const remove=async(_0x48dfaf,_0xe2f804)=>{const _0xa9fb89=a28_0x12ec58,{promptId:_0x5dc7d6}=_0x48dfaf['params'],_0x2e9a55=_0x48dfaf[_0xa9fb89(0x1e9)][_0xa9fb89(0x1ee)],[,_0x2fde9c]=_0x2e9a55[_0xa9fb89(0x1d7)]('\x20'),_0x40af5a=(0x0,jsonwebtoken_1[_0xa9fb89(0x1ce)])(_0x2fde9c,auth_1[_0xa9fb89(0x1db)][_0xa9fb89(0x1f0)]),{companyId:_0x2cce52}=_0x40af5a;try{const {count:_0x33d9f7}=await Whatsapp_1[_0xa9fb89(0x1db)][_0xa9fb89(0x1dc)]({'where':{'promptId':+_0x5dc7d6,'companyId':_0x2cce52}});if(_0x33d9f7>0x0)return _0xe2f804[_0xa9fb89(0x1d4)](0xc8)[_0xa9fb89(0x1df)]({'message':_0xa9fb89(0x1ec)});await(0x0,DeletePromptService_1[_0xa9fb89(0x1db)])(_0x5dc7d6,_0x2cce52);const _0x4e381b=(0x0,socket_1[_0xa9fb89(0x1c1)])();return _0x4e381b[_0xa9fb89(0x1cf)]('prompt',{'action':_0xa9fb89(0x1e2),'intelligenceId':+_0x5dc7d6}),_0xe2f804['status'](0xc8)['json']({'message':_0xa9fb89(0x1e5)});}catch(_0x49c3c8){return _0xe2f804[_0xa9fb89(0x1d4)](0x1f4)[_0xa9fb89(0x1df)]({'message':_0xa9fb89(0x1c6)});}};exports[a28_0x12ec58(0x1ef)]=remove;