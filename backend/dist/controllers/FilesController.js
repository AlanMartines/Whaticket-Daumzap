const a19_0x4e8c42=a19_0x39a6;(function(_0x436720,_0x1c7500){const _0x361e50=a19_0x39a6,_0x383f75=_0x436720();while(!![]){try{const _0x21152e=parseInt(_0x361e50(0x110))/0x1+-parseInt(_0x361e50(0x133))/0x2+-parseInt(_0x361e50(0x10f))/0x3*(parseInt(_0x361e50(0x11c))/0x4)+-parseInt(_0x361e50(0x10d))/0x5*(-parseInt(_0x361e50(0x137))/0x6)+-parseInt(_0x361e50(0x119))/0x7*(parseInt(_0x361e50(0x13d))/0x8)+parseInt(_0x361e50(0x117))/0x9+parseInt(_0x361e50(0x113))/0xa;if(_0x21152e===_0x1c7500)break;else _0x383f75['push'](_0x383f75['shift']());}catch(_0x312f4d){_0x383f75['push'](_0x383f75['shift']());}}}(a19_0x1fb8,0xd75cb));const a19_0x15968b=(function(){let _0x5722c7=!![];return function(_0x2d4cde,_0x41be93){const _0x323a74=_0x5722c7?function(){const _0x523f3f=a19_0x39a6;if(_0x41be93){const _0x498c52=_0x41be93[_0x523f3f(0x118)](_0x2d4cde,arguments);return _0x41be93=null,_0x498c52;}}:function(){};return _0x5722c7=![],_0x323a74;};}()),a19_0xdb9549=a19_0x15968b(this,function(){const _0x4e016c=a19_0x39a6;return a19_0xdb9549[_0x4e016c(0x122)]()[_0x4e016c(0x134)](_0x4e016c(0x144))['toString']()[_0x4e016c(0x13f)](a19_0xdb9549)[_0x4e016c(0x134)](_0x4e016c(0x144));});a19_0xdb9549();'use strict';var __importDefault=this&&this[a19_0x4e8c42(0x127)]||function(_0x1b91ee){return _0x1b91ee&&_0x1b91ee['__esModule']?_0x1b91ee:{'default':_0x1b91ee};};Object[a19_0x4e8c42(0x146)](exports,'__esModule',{'value':!![]}),exports[a19_0x4e8c42(0x130)]=exports[a19_0x4e8c42(0x132)]=exports[a19_0x4e8c42(0x114)]=exports['update']=exports[a19_0x4e8c42(0x126)]=exports[a19_0x4e8c42(0x145)]=exports[a19_0x4e8c42(0x141)]=exports['index']=void 0x0;const socket_1=require(a19_0x4e8c42(0x138)),AppError_1=__importDefault(require(a19_0x4e8c42(0x116))),lodash_1=require(a19_0x4e8c42(0x139)),CreateService_1=__importDefault(require(a19_0x4e8c42(0x10a))),ListService_1=__importDefault(require(a19_0x4e8c42(0x143))),UpdateService_1=__importDefault(require(a19_0x4e8c42(0x123))),ShowService_1=__importDefault(require('../services/FileServices/ShowService')),DeleteService_1=__importDefault(require('../services/FileServices/DeleteService')),SimpleListService_1=__importDefault(require(a19_0x4e8c42(0x11f))),DeleteAllService_1=__importDefault(require(a19_0x4e8c42(0x13e))),FilesOptions_1=__importDefault(require(a19_0x4e8c42(0x121))),index=async(_0x4a6596,_0x25e125)=>{const _0x4f5339=a19_0x4e8c42,{pageNumber:_0x13eec9,searchParam:_0x50cd1b}=_0x4a6596[_0x4f5339(0x11d)],{companyId:_0x191f81}=_0x4a6596[_0x4f5339(0x13b)],{files:_0x7a9af,count:_0x2a855d,hasMore:_0x3a12de}=await(0x0,ListService_1['default'])({'searchParam':_0x50cd1b,'pageNumber':_0x13eec9,'companyId':_0x191f81});return _0x25e125[_0x4f5339(0x12c)]({'files':_0x7a9af,'count':_0x2a855d,'hasMore':_0x3a12de});};exports[a19_0x4e8c42(0x128)]=index;const store=async(_0x3234e7,_0x39f40f)=>{const _0x59689d=a19_0x4e8c42,{name:_0x561ca0,message:_0x361f55,options:_0x2e39a4}=_0x3234e7[_0x59689d(0x10e)],{companyId:_0x378854}=_0x3234e7['user'],_0x56572d=await(0x0,CreateService_1['default'])({'name':_0x561ca0,'message':_0x361f55,'options':_0x2e39a4,'companyId':_0x378854}),_0x2dd536=(0x0,socket_1[_0x59689d(0x124)])();return _0x2dd536['to'](_0x59689d(0x140)+_0x378854+'-mainchannel')[_0x59689d(0x12f)](_0x59689d(0x11a)+_0x378854+_0x59689d(0x12e),{'action':_0x59689d(0x120),'fileList':_0x56572d}),_0x39f40f[_0x59689d(0x131)](0xc8)[_0x59689d(0x12c)](_0x56572d);};exports[a19_0x4e8c42(0x141)]=store;const show=async(_0x4b72ed,_0x125d89)=>{const _0x280583=a19_0x4e8c42,{fileId:_0x49d875}=_0x4b72ed['params'],{companyId:_0x5cc5dd}=_0x4b72ed['user'],_0x46d6ea=await(0x0,ShowService_1['default'])(_0x49d875,_0x5cc5dd);return _0x125d89[_0x280583(0x131)](0xc8)[_0x280583(0x12c)](_0x46d6ea);};exports[a19_0x4e8c42(0x145)]=show;const uploadMedias=async(_0x5cc9cc,_0x39e994)=>{const _0x470b48=a19_0x4e8c42,{fileId:_0x3ff0f1,id:_0x3b6a24,mediaType:_0x2d598f}=_0x5cc9cc[_0x470b48(0x10e)],_0x1a791b=_0x5cc9cc[_0x470b48(0x125)],_0x982e9e=(0x0,lodash_1['head'])(_0x1a791b);try{let _0x263ac7;if(_0x1a791b[_0x470b48(0x147)]>0x0)for(const [_0x3a692b,_0x342d19]of _0x1a791b[_0x470b48(0x112)]()){_0x263ac7=await FilesOptions_1['default'][_0x470b48(0x11b)]({'where':{'fileId':_0x3ff0f1,'id':Array[_0x470b48(0x12d)](_0x3b6a24)?_0x3b6a24[_0x3a692b]:_0x3b6a24}}),_0x263ac7[_0x470b48(0x12b)]({'path':_0x342d19[_0x470b48(0x135)][_0x470b48(0x12a)]('/','-'),'mediaType':Array[_0x470b48(0x12d)](_0x2d598f)?_0x2d598f[_0x3a692b]:_0x2d598f});}return _0x39e994[_0x470b48(0x10b)]({'mensagem':_0x470b48(0x129)});}catch(_0x3fd063){throw new AppError_1['default'](_0x3fd063[_0x470b48(0x11e)]);}};exports['uploadMedias']=uploadMedias;const update=async(_0x138bbc,_0xa2a404)=>{const _0x3854c2=a19_0x4e8c42;if(_0x138bbc[_0x3854c2(0x13b)]['profile']!==_0x3854c2(0x10c))throw new AppError_1['default'](_0x3854c2(0x13a),0x193);const {fileId:_0x2509e8}=_0x138bbc[_0x3854c2(0x13c)],_0x5ee79a=_0x138bbc['body'],{companyId:_0x5b5b79}=_0x138bbc[_0x3854c2(0x13b)],_0x3f5235=await(0x0,UpdateService_1[_0x3854c2(0x136)])({'fileData':_0x5ee79a,'id':_0x2509e8,'companyId':_0x5b5b79}),_0x157bef=(0x0,socket_1[_0x3854c2(0x124)])();return _0x157bef['to'](_0x3854c2(0x140)+_0x5b5b79+'-mainchannel')[_0x3854c2(0x12f)](_0x3854c2(0x11a)+_0x5b5b79+_0x3854c2(0x12e),{'action':_0x3854c2(0x12b),'fileList':_0x3f5235}),_0xa2a404[_0x3854c2(0x131)](0xc8)[_0x3854c2(0x12c)](_0x3f5235);};function a19_0x1fb8(){const _0x257497=['length','../services/FileServices/CreateService','send','admin','10dqrGKF','body','170991FkoiQt','1089484rnkTUc','File\x20List\x20deleted','entries','21231290pxBGbF','remove','-mainchannel','../errors/AppError','2891619wepAjT','apply','14TqcPtk','company','findOne','72WDDoMP','query','message','../services/FileServices/SimpleListService','create','../models/FilesOptions','toString','../services/FileServices/UpdateService','getIO','files','uploadMedias','__importDefault','index','Arquivos\x20atualizados','replace','update','json','isArray','-file','emit','list','status','removeAll','457002RniKym','search','filename','default','473826APxIFa','../libs/socket','lodash','ERR_NO_PERMISSION','user','params','6221104ZqzBHN','../services/FileServices/DeleteAllService','constructor','company-','store','delete','../services/FileServices/ListService','(((.+)+)+)+$','show','defineProperty'];a19_0x1fb8=function(){return _0x257497;};return a19_0x1fb8();}exports[a19_0x4e8c42(0x12b)]=update;const remove=async(_0x1cf597,_0x5b30d0)=>{const _0x4ce61e=a19_0x4e8c42,{fileId:_0x5612f8}=_0x1cf597[_0x4ce61e(0x13c)],{companyId:_0x2e9a87}=_0x1cf597[_0x4ce61e(0x13b)];await(0x0,DeleteService_1['default'])(_0x5612f8,_0x2e9a87);const _0x541df4=(0x0,socket_1[_0x4ce61e(0x124)])();return _0x541df4['to'](_0x4ce61e(0x140)+_0x2e9a87+_0x4ce61e(0x115))[_0x4ce61e(0x12f)]('company'+_0x2e9a87+_0x4ce61e(0x12e),{'action':_0x4ce61e(0x142),'fileId':_0x5612f8}),_0x5b30d0['status'](0xc8)[_0x4ce61e(0x12c)]({'message':_0x4ce61e(0x111)});};exports['remove']=remove;const removeAll=async(_0x24c796,_0x354cd7)=>{const {companyId:_0x73f7e7}=_0x24c796['user'];return await(0x0,DeleteAllService_1['default'])(_0x73f7e7),_0x354cd7['send']();};function a19_0x39a6(_0x52a8ae,_0x528f7e){const _0x189c50=a19_0x1fb8();return a19_0x39a6=function(_0xdb9549,_0x15968b){_0xdb9549=_0xdb9549-0x10a;let _0x1fb813=_0x189c50[_0xdb9549];return _0x1fb813;},a19_0x39a6(_0x52a8ae,_0x528f7e);}exports[a19_0x4e8c42(0x132)]=removeAll;const list=async(_0x4b5927,_0x1b204b)=>{const _0x5c5554=a19_0x4e8c42,{searchParam:_0x463345}=_0x4b5927[_0x5c5554(0x11d)],{companyId:_0xff51a5}=_0x4b5927[_0x5c5554(0x13b)],_0x106cd8=await(0x0,SimpleListService_1[_0x5c5554(0x136)])({'searchParam':_0x463345,'companyId':_0xff51a5});return _0x1b204b[_0x5c5554(0x12c)](_0x106cd8);};exports[a19_0x4e8c42(0x130)]=list;