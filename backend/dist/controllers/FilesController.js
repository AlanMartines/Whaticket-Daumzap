function a19_0x36a1(){const _0x4ae57b=['uploadMedias','send','-mainchannel','1aibBTd','158370MFsgDY','user','company','message','delete','15374835QIMdvS','3911868IeDGax','remove','create','../models/FilesOptions','../services/FileServices/SimpleListService','update','profile','92RRWuIJ','status','replace','emit','1119934SyazId','admin','query','constructor','toString','../services/FileServices/ListService','../services/FileServices/DeleteService','1354017ikCcwb','company-','isArray','show','File\x20List\x20deleted','search','store','4139536dqLBeV','defineProperty','__esModule','body','json','-file','removeAll','files','lodash','../services/FileServices/ShowService','getIO','../errors/AppError','../libs/socket','apply','../services/FileServices/DeleteAllService','(((.+)+)+)+$','default','__importDefault','94745ibaWck','ERR_NO_PERMISSION','list'];a19_0x36a1=function(){return _0x4ae57b;};return a19_0x36a1();}const a19_0x210c49=a19_0x5c6c;(function(_0x3f8c3a,_0x4340cb){const _0x3e19d9=a19_0x5c6c,_0x1fc829=_0x3f8c3a();while(!![]){try{const _0x4d8fdd=-parseInt(_0x3e19d9(0xec))/0x1*(parseInt(_0x3e19d9(0xfe))/0x2)+-parseInt(_0x3e19d9(0xed))/0x3+-parseInt(_0x3e19d9(0xfa))/0x4*(parseInt(_0x3e19d9(0xe6))/0x5)+-parseInt(_0x3e19d9(0xf3))/0x6+-parseInt(_0x3e19d9(0x105))/0x7+parseInt(_0x3e19d9(0xd4))/0x8+parseInt(_0x3e19d9(0xf2))/0x9;if(_0x4d8fdd===_0x4340cb)break;else _0x1fc829['push'](_0x1fc829['shift']());}catch(_0x414763){_0x1fc829['push'](_0x1fc829['shift']());}}}(a19_0x36a1,0x50ff4));const a19_0x17ba0e=(function(){let _0x5a8b92=!![];return function(_0x3503e6,_0x5586c2){const _0x4cd1e8=_0x5a8b92?function(){const _0x32af8b=a19_0x5c6c;if(_0x5586c2){const _0x4f72f4=_0x5586c2[_0x32af8b(0xe1)](_0x3503e6,arguments);return _0x5586c2=null,_0x4f72f4;}}:function(){};return _0x5a8b92=![],_0x4cd1e8;};}()),a19_0x29f9e0=a19_0x17ba0e(this,function(){const _0x279cdd=a19_0x5c6c;return a19_0x29f9e0[_0x279cdd(0x102)]()[_0x279cdd(0xd2)](_0x279cdd(0xe3))[_0x279cdd(0x102)]()[_0x279cdd(0x101)](a19_0x29f9e0)['search'](_0x279cdd(0xe3));});a19_0x29f9e0();'use strict';var __importDefault=this&&this[a19_0x210c49(0xe5)]||function(_0x3decfe){const _0x968f7e=a19_0x210c49;return _0x3decfe&&_0x3decfe[_0x968f7e(0xd6)]?_0x3decfe:{'default':_0x3decfe};};Object[a19_0x210c49(0xd5)](exports,'__esModule',{'value':!![]}),exports[a19_0x210c49(0xe8)]=exports[a19_0x210c49(0xda)]=exports[a19_0x210c49(0xf4)]=exports[a19_0x210c49(0xf8)]=exports[a19_0x210c49(0xe9)]=exports[a19_0x210c49(0xd0)]=exports['store']=exports['index']=void 0x0;const socket_1=require(a19_0x210c49(0xe0)),AppError_1=__importDefault(require(a19_0x210c49(0xdf))),lodash_1=require(a19_0x210c49(0xdc)),CreateService_1=__importDefault(require('../services/FileServices/CreateService')),ListService_1=__importDefault(require(a19_0x210c49(0x103))),UpdateService_1=__importDefault(require('../services/FileServices/UpdateService')),ShowService_1=__importDefault(require(a19_0x210c49(0xdd))),DeleteService_1=__importDefault(require(a19_0x210c49(0x104))),SimpleListService_1=__importDefault(require(a19_0x210c49(0xf7))),DeleteAllService_1=__importDefault(require(a19_0x210c49(0xe2))),FilesOptions_1=__importDefault(require(a19_0x210c49(0xf6))),index=async(_0x1b1529,_0x432a5d)=>{const _0x55196a=a19_0x210c49,{pageNumber:_0x48daa6,searchParam:_0x5dfd81}=_0x1b1529[_0x55196a(0x100)],{companyId:_0x538a19}=_0x1b1529[_0x55196a(0xee)],{files:_0x3afd3b,count:_0x3a5fbe,hasMore:_0x46bfcb}=await(0x0,ListService_1['default'])({'searchParam':_0x5dfd81,'pageNumber':_0x48daa6,'companyId':_0x538a19});return _0x432a5d[_0x55196a(0xd8)]({'files':_0x3afd3b,'count':_0x3a5fbe,'hasMore':_0x46bfcb});};exports['index']=index;const store=async(_0x5237c3,_0x487b42)=>{const _0x4d24be=a19_0x210c49,{name:_0x27ca55,message:_0x3183e5,options:_0x319ba3}=_0x5237c3[_0x4d24be(0xd7)],{companyId:_0x4657d2}=_0x5237c3['user'],_0x19fdde=await(0x0,CreateService_1[_0x4d24be(0xe4)])({'name':_0x27ca55,'message':_0x3183e5,'options':_0x319ba3,'companyId':_0x4657d2}),_0x48fcde=(0x0,socket_1['getIO'])();return _0x48fcde['to'](_0x4d24be(0x106)+_0x4657d2+_0x4d24be(0xeb))[_0x4d24be(0xfd)](_0x4d24be(0xef)+_0x4657d2+_0x4d24be(0xd9),{'action':_0x4d24be(0xf5),'fileList':_0x19fdde}),_0x487b42[_0x4d24be(0xfb)](0xc8)['json'](_0x19fdde);};exports[a19_0x210c49(0xd3)]=store;const show=async(_0x45950a,_0x27b7c0)=>{const _0x5e07f=a19_0x210c49,{fileId:_0x2282ea}=_0x45950a['params'],{companyId:_0x1972d5}=_0x45950a[_0x5e07f(0xee)],_0x3ff4b1=await(0x0,ShowService_1[_0x5e07f(0xe4)])(_0x2282ea,_0x1972d5);return _0x27b7c0[_0x5e07f(0xfb)](0xc8)[_0x5e07f(0xd8)](_0x3ff4b1);};exports[a19_0x210c49(0xd0)]=show;const uploadMedias=async(_0x14915e,_0xfd50f1)=>{const _0x4930ac=a19_0x210c49,{fileId:_0x576cbb,id:_0x4c2a76,mediaType:_0x2fc827}=_0x14915e[_0x4930ac(0xd7)],_0x1fc24d=_0x14915e[_0x4930ac(0xdb)],_0x3065d7=(0x0,lodash_1['head'])(_0x1fc24d);try{let _0x3b9474;if(_0x1fc24d['length']>0x0)for(const [_0x2004f2,_0x1c449f]of _0x1fc24d['entries']()){_0x3b9474=await FilesOptions_1[_0x4930ac(0xe4)]['findOne']({'where':{'fileId':_0x576cbb,'id':Array['isArray'](_0x4c2a76)?_0x4c2a76[_0x2004f2]:_0x4c2a76}}),_0x3b9474[_0x4930ac(0xf8)]({'path':_0x1c449f['filename'][_0x4930ac(0xfc)]('/','-'),'mediaType':Array[_0x4930ac(0xcf)](_0x2fc827)?_0x2fc827[_0x2004f2]:_0x2fc827});}return _0xfd50f1['send']({'mensagem':'Arquivos\x20atualizados'});}catch(_0x522f81){throw new AppError_1[(_0x4930ac(0xe4))](_0x522f81[_0x4930ac(0xf0)]);}};exports[a19_0x210c49(0xe9)]=uploadMedias;const update=async(_0x44e894,_0x2253f6)=>{const _0x332f18=a19_0x210c49;if(_0x44e894[_0x332f18(0xee)][_0x332f18(0xf9)]!==_0x332f18(0xff))throw new AppError_1[(_0x332f18(0xe4))](_0x332f18(0xe7),0x193);const {fileId:_0x27e18e}=_0x44e894['params'],_0x4bd6de=_0x44e894['body'],{companyId:_0x17e39c}=_0x44e894['user'],_0x5dcff1=await(0x0,UpdateService_1[_0x332f18(0xe4)])({'fileData':_0x4bd6de,'id':_0x27e18e,'companyId':_0x17e39c}),_0x5b4e5d=(0x0,socket_1['getIO'])();return _0x5b4e5d['to'](_0x332f18(0x106)+_0x17e39c+_0x332f18(0xeb))[_0x332f18(0xfd)](_0x332f18(0xef)+_0x17e39c+'-file',{'action':'update','fileList':_0x5dcff1}),_0x2253f6[_0x332f18(0xfb)](0xc8)[_0x332f18(0xd8)](_0x5dcff1);};function a19_0x5c6c(_0x1e4848,_0x591d4d){const _0x3129d3=a19_0x36a1();return a19_0x5c6c=function(_0x29f9e0,_0x17ba0e){_0x29f9e0=_0x29f9e0-0xcf;let _0x36a13a=_0x3129d3[_0x29f9e0];return _0x36a13a;},a19_0x5c6c(_0x1e4848,_0x591d4d);}exports[a19_0x210c49(0xf8)]=update;const remove=async(_0x7d1ccf,_0x14ad36)=>{const _0x5a2c68=a19_0x210c49,{fileId:_0x3da1a2}=_0x7d1ccf['params'],{companyId:_0x571974}=_0x7d1ccf[_0x5a2c68(0xee)];await(0x0,DeleteService_1[_0x5a2c68(0xe4)])(_0x3da1a2,_0x571974);const _0x52c860=(0x0,socket_1[_0x5a2c68(0xde)])();return _0x52c860['to'](_0x5a2c68(0x106)+_0x571974+'-mainchannel')[_0x5a2c68(0xfd)](_0x5a2c68(0xef)+_0x571974+'-file',{'action':_0x5a2c68(0xf1),'fileId':_0x3da1a2}),_0x14ad36[_0x5a2c68(0xfb)](0xc8)[_0x5a2c68(0xd8)]({'message':_0x5a2c68(0xd1)});};exports[a19_0x210c49(0xf4)]=remove;const removeAll=async(_0x140e2f,_0x190bec)=>{const _0x17ee3d=a19_0x210c49,{companyId:_0x753bd7}=_0x140e2f[_0x17ee3d(0xee)];return await(0x0,DeleteAllService_1['default'])(_0x753bd7),_0x190bec[_0x17ee3d(0xea)]();};exports[a19_0x210c49(0xda)]=removeAll;const list=async(_0x24a1db,_0x6c6ca3)=>{const _0x49debd=a19_0x210c49,{searchParam:_0x3b2b9b}=_0x24a1db[_0x49debd(0x100)],{companyId:_0x5b57da}=_0x24a1db['user'],_0x658c57=await(0x0,SimpleListService_1['default'])({'searchParam':_0x3b2b9b,'companyId':_0x5b57da});return _0x6c6ca3[_0x49debd(0xd8)](_0x658c57);};exports[a19_0x210c49(0xe8)]=list;