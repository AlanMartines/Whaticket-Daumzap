const a19_0x4c2d55=a19_0x58d7;(function(_0x18036f,_0x1c397b){const _0x594dad=a19_0x58d7,_0x5ae9f1=_0x18036f();while(!![]){try{const _0x24fd9f=-parseInt(_0x594dad(0x1da))/0x1*(parseInt(_0x594dad(0x1c9))/0x2)+parseInt(_0x594dad(0x1d6))/0x3*(-parseInt(_0x594dad(0x1b7))/0x4)+-parseInt(_0x594dad(0x1c4))/0x5*(parseInt(_0x594dad(0x1cb))/0x6)+-parseInt(_0x594dad(0x1db))/0x7*(parseInt(_0x594dad(0x1c3))/0x8)+-parseInt(_0x594dad(0x1bc))/0x9*(-parseInt(_0x594dad(0x1be))/0xa)+parseInt(_0x594dad(0x1ab))/0xb+parseInt(_0x594dad(0x1c1))/0xc;if(_0x24fd9f===_0x1c397b)break;else _0x5ae9f1['push'](_0x5ae9f1['shift']());}catch(_0x5d3512){_0x5ae9f1['push'](_0x5ae9f1['shift']());}}}(a19_0x5d99,0xb234f));const a19_0x5dd2ab=(function(){let _0x214e01=!![];return function(_0x5782e2,_0x3b1833){const _0xf1adcd=_0x214e01?function(){if(_0x3b1833){const _0xdd1f56=_0x3b1833['apply'](_0x5782e2,arguments);return _0x3b1833=null,_0xdd1f56;}}:function(){};return _0x214e01=![],_0xf1adcd;};}()),a19_0x17fb7e=a19_0x5dd2ab(this,function(){const _0x3f2d88=a19_0x58d7;return a19_0x17fb7e[_0x3f2d88(0x1d7)]()[_0x3f2d88(0x1ba)]('(((.+)+)+)+$')[_0x3f2d88(0x1d7)]()['constructor'](a19_0x17fb7e)['search']('(((.+)+)+)+$');});a19_0x17fb7e();'use strict';function a19_0x5d99(){const _0x445350=['body','store','../services/FileServices/ListService','15929716Uvspar','removeAll','company-','ERR_NO_PERMISSION','update','create','File\x20List\x20deleted','emit','status','company','isArray','-file','20IGfTDg','json','../errors/AppError','search','-mainchannel','468CqqWAv','user','71790SZYyQh','remove','list','10789716MAXRIO','profile','811304jcuFAF','12915PxPDPR','admin','../services/FileServices/SimpleListService','send','params','2548lobISu','files','414cNrWFZ','default','../services/FileServices/DeleteService','show','filename','query','entries','uploadMedias','../libs/socket','getIO','../models/FilesOptions','242181fWPbvL','toString','lodash','../services/FileServices/DeleteAllService','469jhGhtj','56zClBhi','__esModule','defineProperty','__importDefault','head','Arquivos\x20atualizados','index','delete'];a19_0x5d99=function(){return _0x445350;};return a19_0x5d99();}var __importDefault=this&&this[a19_0x4c2d55(0x1de)]||function(_0x4d6369){const _0xc7c37b=a19_0x4c2d55;return _0x4d6369&&_0x4d6369[_0xc7c37b(0x1dc)]?_0x4d6369:{'default':_0x4d6369};};Object[a19_0x4c2d55(0x1dd)](exports,a19_0x4c2d55(0x1dc),{'value':!![]}),exports['list']=exports[a19_0x4c2d55(0x1ac)]=exports[a19_0x4c2d55(0x1bf)]=exports[a19_0x4c2d55(0x1af)]=exports[a19_0x4c2d55(0x1d2)]=exports['show']=exports[a19_0x4c2d55(0x1e4)]=exports[a19_0x4c2d55(0x1e1)]=void 0x0;const socket_1=require(a19_0x4c2d55(0x1d3)),AppError_1=__importDefault(require(a19_0x4c2d55(0x1b9))),lodash_1=require(a19_0x4c2d55(0x1d8)),CreateService_1=__importDefault(require('../services/FileServices/CreateService')),ListService_1=__importDefault(require(a19_0x4c2d55(0x1e5))),UpdateService_1=__importDefault(require('../services/FileServices/UpdateService')),ShowService_1=__importDefault(require('../services/FileServices/ShowService')),DeleteService_1=__importDefault(require(a19_0x4c2d55(0x1cd))),SimpleListService_1=__importDefault(require(a19_0x4c2d55(0x1c6))),DeleteAllService_1=__importDefault(require(a19_0x4c2d55(0x1d9))),FilesOptions_1=__importDefault(require(a19_0x4c2d55(0x1d5))),index=async(_0x450002,_0x2c378b)=>{const _0x5b091d=a19_0x4c2d55,{pageNumber:_0x131b63,searchParam:_0x833ef8}=_0x450002[_0x5b091d(0x1d0)],{companyId:_0x24468f}=_0x450002[_0x5b091d(0x1bd)],{files:_0x2dd912,count:_0x51e1f8,hasMore:_0x2e0723}=await(0x0,ListService_1[_0x5b091d(0x1cc)])({'searchParam':_0x833ef8,'pageNumber':_0x131b63,'companyId':_0x24468f});return _0x2c378b[_0x5b091d(0x1b8)]({'files':_0x2dd912,'count':_0x51e1f8,'hasMore':_0x2e0723});};exports[a19_0x4c2d55(0x1e1)]=index;const store=async(_0x569ee3,_0x1d888a)=>{const _0x1c4c55=a19_0x4c2d55,{name:_0x4829d0,message:_0x113c66,options:_0x135d94}=_0x569ee3['body'],{companyId:_0x18ec49}=_0x569ee3[_0x1c4c55(0x1bd)],_0xeeac8a=await(0x0,CreateService_1[_0x1c4c55(0x1cc)])({'name':_0x4829d0,'message':_0x113c66,'options':_0x135d94,'companyId':_0x18ec49}),_0x2eaf57=(0x0,socket_1[_0x1c4c55(0x1d4)])();return _0x2eaf57['to'](_0x1c4c55(0x1ad)+_0x18ec49+_0x1c4c55(0x1bb))[_0x1c4c55(0x1b2)](_0x1c4c55(0x1b4)+_0x18ec49+_0x1c4c55(0x1b6),{'action':_0x1c4c55(0x1b0),'fileList':_0xeeac8a}),_0x1d888a[_0x1c4c55(0x1b3)](0xc8)[_0x1c4c55(0x1b8)](_0xeeac8a);};exports['store']=store;const show=async(_0xc3fcc9,_0x3b934d)=>{const _0x5c3847=a19_0x4c2d55,{fileId:_0x5103e2}=_0xc3fcc9[_0x5c3847(0x1c8)],{companyId:_0x335eda}=_0xc3fcc9['user'],_0x143a3a=await(0x0,ShowService_1['default'])(_0x5103e2,_0x335eda);return _0x3b934d[_0x5c3847(0x1b3)](0xc8)['json'](_0x143a3a);};exports[a19_0x4c2d55(0x1ce)]=show;const uploadMedias=async(_0x46770e,_0x2db48c)=>{const _0x58b776=a19_0x4c2d55,{fileId:_0x514b79,id:_0x4fba19,mediaType:_0x249fb4}=_0x46770e[_0x58b776(0x1e3)],_0x3ec5ad=_0x46770e[_0x58b776(0x1ca)],_0x8d0350=(0x0,lodash_1[_0x58b776(0x1df)])(_0x3ec5ad);try{let _0x39d2fe;if(_0x3ec5ad['length']>0x0)for(const [_0x48e4ba,_0x3f08c4]of _0x3ec5ad[_0x58b776(0x1d1)]()){_0x39d2fe=await FilesOptions_1['default']['findOne']({'where':{'fileId':_0x514b79,'id':Array[_0x58b776(0x1b5)](_0x4fba19)?_0x4fba19[_0x48e4ba]:_0x4fba19}}),_0x39d2fe[_0x58b776(0x1af)]({'path':_0x3f08c4[_0x58b776(0x1cf)]['replace']('/','-'),'mediaType':Array['isArray'](_0x249fb4)?_0x249fb4[_0x48e4ba]:_0x249fb4});}return _0x2db48c[_0x58b776(0x1c7)]({'mensagem':_0x58b776(0x1e0)});}catch(_0x2bb6b2){throw new AppError_1['default'](_0x2bb6b2['message']);}};exports['uploadMedias']=uploadMedias;const update=async(_0x4a3637,_0x4bf890)=>{const _0x2724c2=a19_0x4c2d55;if(_0x4a3637[_0x2724c2(0x1bd)][_0x2724c2(0x1c2)]!==_0x2724c2(0x1c5))throw new AppError_1[(_0x2724c2(0x1cc))](_0x2724c2(0x1ae),0x193);const {fileId:_0x16e39a}=_0x4a3637[_0x2724c2(0x1c8)],_0x408346=_0x4a3637['body'],{companyId:_0xafe840}=_0x4a3637[_0x2724c2(0x1bd)],_0x20de70=await(0x0,UpdateService_1[_0x2724c2(0x1cc)])({'fileData':_0x408346,'id':_0x16e39a,'companyId':_0xafe840}),_0x2bed6=(0x0,socket_1[_0x2724c2(0x1d4)])();return _0x2bed6['to'](_0x2724c2(0x1ad)+_0xafe840+_0x2724c2(0x1bb))[_0x2724c2(0x1b2)](_0x2724c2(0x1b4)+_0xafe840+'-file',{'action':_0x2724c2(0x1af),'fileList':_0x20de70}),_0x4bf890['status'](0xc8)['json'](_0x20de70);};exports['update']=update;const remove=async(_0xc3fb0,_0x213cc8)=>{const _0x9666f8=a19_0x4c2d55,{fileId:_0x4227f4}=_0xc3fb0[_0x9666f8(0x1c8)],{companyId:_0xc44a32}=_0xc3fb0[_0x9666f8(0x1bd)];await(0x0,DeleteService_1[_0x9666f8(0x1cc)])(_0x4227f4,_0xc44a32);const _0x3576cd=(0x0,socket_1[_0x9666f8(0x1d4)])();return _0x3576cd['to'](_0x9666f8(0x1ad)+_0xc44a32+_0x9666f8(0x1bb))[_0x9666f8(0x1b2)](_0x9666f8(0x1b4)+_0xc44a32+_0x9666f8(0x1b6),{'action':_0x9666f8(0x1e2),'fileId':_0x4227f4}),_0x213cc8[_0x9666f8(0x1b3)](0xc8)[_0x9666f8(0x1b8)]({'message':_0x9666f8(0x1b1)});};exports[a19_0x4c2d55(0x1bf)]=remove;const removeAll=async(_0x20d989,_0x1787be)=>{const _0x3fb039=a19_0x4c2d55,{companyId:_0x30d4d4}=_0x20d989['user'];return await(0x0,DeleteAllService_1[_0x3fb039(0x1cc)])(_0x30d4d4),_0x1787be[_0x3fb039(0x1c7)]();};exports['removeAll']=removeAll;const list=async(_0xf82041,_0x507c97)=>{const _0x4ec71e=a19_0x4c2d55,{searchParam:_0x610b05}=_0xf82041['query'],{companyId:_0x3b2d77}=_0xf82041[_0x4ec71e(0x1bd)],_0x4350ea=await(0x0,SimpleListService_1['default'])({'searchParam':_0x610b05,'companyId':_0x3b2d77});return _0x507c97['json'](_0x4350ea);};function a19_0x58d7(_0x1a4a11,_0x315aab){const _0x14e0b4=a19_0x5d99();return a19_0x58d7=function(_0x17fb7e,_0x5dd2ab){_0x17fb7e=_0x17fb7e-0x1ab;let _0x5d99b9=_0x14e0b4[_0x17fb7e];return _0x5d99b9;},a19_0x58d7(_0x1a4a11,_0x315aab);}exports[a19_0x4c2d55(0x1c0)]=list;