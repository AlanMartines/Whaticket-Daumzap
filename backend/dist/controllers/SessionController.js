const a35_0x2ecbd5=a35_0x18e5;(function(_0x2915fd,_0x16a1da){const _0x3af7b5=a35_0x18e5,_0x2d16f3=_0x2915fd();while(!![]){try{const _0x4b9d1f=parseInt(_0x3af7b5(0x1bf))/0x1+-parseInt(_0x3af7b5(0x1c2))/0x2*(parseInt(_0x3af7b5(0x1e1))/0x3)+parseInt(_0x3af7b5(0x1c3))/0x4*(-parseInt(_0x3af7b5(0x1e9))/0x5)+parseInt(_0x3af7b5(0x1e2))/0x6+-parseInt(_0x3af7b5(0x1d2))/0x7*(parseInt(_0x3af7b5(0x1c7))/0x8)+parseInt(_0x3af7b5(0x1e4))/0x9+-parseInt(_0x3af7b5(0x1d6))/0xa;if(_0x4b9d1f===_0x16a1da)break;else _0x2d16f3['push'](_0x2d16f3['shift']());}catch(_0x50e3c3){_0x2d16f3['push'](_0x2d16f3['shift']());}}}(a35_0x4d89,0x9f11b));const a35_0x2eb1fa=(function(){let _0x281b98=!![];return function(_0x2ecc63,_0x35f5dd){const _0x511682=_0x281b98?function(){const _0x3bbf31=a35_0x18e5;if(_0x35f5dd){const _0x4ea4a3=_0x35f5dd[_0x3bbf31(0x1de)](_0x2ecc63,arguments);return _0x35f5dd=null,_0x4ea4a3;}}:function(){};return _0x281b98=![],_0x511682;};}()),a35_0x12f83d=a35_0x2eb1fa(this,function(){const _0x51b382=a35_0x18e5;return a35_0x12f83d['toString']()['search'](_0x51b382(0x1cc))['toString']()['constructor'](a35_0x12f83d)[_0x51b382(0x1da)]('(((.+)+)+)+$');});a35_0x12f83d();'use strict';var __importDefault=this&&this[a35_0x2ecbd5(0x1d5)]||function(_0xdc6a57){const _0xeb1e7e=a35_0x2ecbd5;return _0xdc6a57&&_0xdc6a57[_0xeb1e7e(0x1c6)]?_0xdc6a57:{'default':_0xdc6a57};};Object[a35_0x2ecbd5(0x1df)](exports,a35_0x2ecbd5(0x1c6),{'value':!![]}),exports[a35_0x2ecbd5(0x1c9)]=exports['me']=exports[a35_0x2ecbd5(0x1e8)]=exports[a35_0x2ecbd5(0x1d7)]=void 0x0;const AppError_1=__importDefault(require(a35_0x2ecbd5(0x1db))),socket_1=require(a35_0x2ecbd5(0x1d0)),AuthUserService_1=__importDefault(require(a35_0x2ecbd5(0x1e3))),SendRefreshToken_1=require('../helpers/SendRefreshToken'),RefreshTokenService_1=require(a35_0x2ecbd5(0x1ca)),FindUserFromToken_1=__importDefault(require(a35_0x2ecbd5(0x1cf))),User_1=__importDefault(require(a35_0x2ecbd5(0x1dd))),store=async(_0x3f9973,_0x2be689)=>{const _0x27798e=a35_0x2ecbd5,{email:_0x20dcdd,password:_0x29bab1}=_0x3f9973[_0x27798e(0x1cb)],{token:_0x12506d,serializedUser:_0x5709be,refreshToken:_0x319002}=await(0x0,AuthUserService_1[_0x27798e(0x1c5)])({'email':_0x20dcdd,'password':_0x29bab1});(0x0,SendRefreshToken_1[_0x27798e(0x1c0)])(_0x2be689,_0x319002);const _0x5dd8da=(0x0,socket_1[_0x27798e(0x1cd)])();return _0x5dd8da['to'](_0x27798e(0x1e7)+_0x5709be['companyId']+_0x27798e(0x1d3))[_0x27798e(0x1d9)](_0x27798e(0x1e7)+_0x5709be[_0x27798e(0x1c1)]+_0x27798e(0x1c4),{'action':_0x27798e(0x1e8),'user':{'id':_0x5709be['id'],'email':_0x5709be[_0x27798e(0x1c8)],'companyId':_0x5709be[_0x27798e(0x1c1)]}}),_0x2be689['status'](0xc8)[_0x27798e(0x1e6)]({'token':_0x12506d,'user':_0x5709be});};exports[a35_0x2ecbd5(0x1d7)]=store;const update=async(_0x2d3ed1,_0x204d67)=>{const _0x3adfa6=a35_0x2ecbd5,_0xf05e17=_0x2d3ed1[_0x3adfa6(0x1d4)][_0x3adfa6(0x1e0)];if(!_0xf05e17)throw new AppError_1[(_0x3adfa6(0x1c5))](_0x3adfa6(0x1d8),0x191);const {user:_0x182b31,newToken:_0x2f2e10,refreshToken:_0xb894a2}=await(0x0,RefreshTokenService_1[_0x3adfa6(0x1d1)])(_0x204d67,_0xf05e17);return(0x0,SendRefreshToken_1['SendRefreshToken'])(_0x204d67,_0xb894a2),_0x204d67[_0x3adfa6(0x1e6)]({'token':_0x2f2e10,'user':_0x182b31});};exports[a35_0x2ecbd5(0x1e8)]=update;function a35_0x4d89(){const _0x174ccd=['__importDefault','2272590szNyhQ','store','ERR_SESSION_EXPIRED','emit','search','../errors/AppError','clearCookie','../models/User','apply','defineProperty','jrt','2212293BABKVl','2865678KpOuBl','../services/UserServices/AuthUserService','8448498zTYYIl','send','json','company-','update','13595IaThFM','681498SWHUJq','SendRefreshToken','companyId','2yVWdgF','124zLySQq','-auth','default','__esModule','3178456pmqbkG','email','remove','../services/AuthServices/RefreshTokenService','body','(((.+)+)+)+$','getIO','user','../services/AuthServices/FindUserFromToken','../libs/socket','RefreshTokenService','7AgJdgV','-mainchannel','cookies'];a35_0x4d89=function(){return _0x174ccd;};return a35_0x4d89();}function a35_0x18e5(_0x342f60,_0x3c92b3){const _0x432fdd=a35_0x4d89();return a35_0x18e5=function(_0x12f83d,_0x2eb1fa){_0x12f83d=_0x12f83d-0x1bf;let _0x4d89c3=_0x432fdd[_0x12f83d];return _0x4d89c3;},a35_0x18e5(_0x342f60,_0x3c92b3);}const me=async(_0x2d6bfc,_0x4ee1ca)=>{const _0x52bce7=a35_0x2ecbd5,_0x356391=_0x2d6bfc['cookies']['jrt'],_0x2277ce=await(0x0,FindUserFromToken_1[_0x52bce7(0x1c5)])(_0x356391),{id:_0x474f17,profile:_0x43d13a,super:_0x2f397c}=_0x2277ce;if(!_0x356391)throw new AppError_1[(_0x52bce7(0x1c5))](_0x52bce7(0x1d8),0x191);return _0x4ee1ca[_0x52bce7(0x1e6)]({'id':_0x474f17,'profile':_0x43d13a,'super':_0x2f397c});};exports['me']=me;const remove=async(_0x76a4b5,_0x312410)=>{const _0x405a48=a35_0x2ecbd5,{id:_0x126543}=_0x76a4b5[_0x405a48(0x1ce)],_0x1ce7cc=await User_1[_0x405a48(0x1c5)]['findByPk'](_0x126543);return await _0x1ce7cc[_0x405a48(0x1e8)]({'online':![]}),_0x312410[_0x405a48(0x1dc)](_0x405a48(0x1e0)),_0x312410[_0x405a48(0x1e5)]();};exports[a35_0x2ecbd5(0x1c9)]=remove;