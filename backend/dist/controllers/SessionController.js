const a35_0x16bfcb=a35_0x141e;(function(_0x196df7,_0x2e0749){const _0x5c586a=a35_0x141e,_0x3f8bd4=_0x196df7();while(!![]){try{const _0x2b3346=-parseInt(_0x5c586a(0x1db))/0x1+parseInt(_0x5c586a(0x1ee))/0x2*(-parseInt(_0x5c586a(0x1fd))/0x3)+-parseInt(_0x5c586a(0x1e2))/0x4+-parseInt(_0x5c586a(0x1fc))/0x5+parseInt(_0x5c586a(0x1ec))/0x6+parseInt(_0x5c586a(0x1e7))/0x7+parseInt(_0x5c586a(0x1e4))/0x8*(parseInt(_0x5c586a(0x1e3))/0x9);if(_0x2b3346===_0x2e0749)break;else _0x3f8bd4['push'](_0x3f8bd4['shift']());}catch(_0x16d2a8){_0x3f8bd4['push'](_0x3f8bd4['shift']());}}}(a35_0x3137,0x77dc3));const a35_0x43610b=(function(){let _0x5dc054=!![];return function(_0x4c84e3,_0x327ea0){const _0x48e556=_0x5dc054?function(){const _0x3b6f2d=a35_0x141e;if(_0x327ea0){const _0x10beee=_0x327ea0[_0x3b6f2d(0x1f9)](_0x4c84e3,arguments);return _0x327ea0=null,_0x10beee;}}:function(){};return _0x5dc054=![],_0x48e556;};}()),a35_0xa07bd1=a35_0x43610b(this,function(){const _0x10a8d4=a35_0x141e;return a35_0xa07bd1[_0x10a8d4(0x1f8)]()['search']('(((.+)+)+)+$')[_0x10a8d4(0x1f8)]()[_0x10a8d4(0x1de)](a35_0xa07bd1)[_0x10a8d4(0x1ef)](_0x10a8d4(0x1dd));});a35_0xa07bd1();'use strict';var __importDefault=this&&this[a35_0x16bfcb(0x1f3)]||function(_0x45bc42){const _0x2e83a6=a35_0x16bfcb;return _0x45bc42&&_0x45bc42[_0x2e83a6(0x1ea)]?_0x45bc42:{'default':_0x45bc42};};Object[a35_0x16bfcb(0x1ff)](exports,'__esModule',{'value':!![]}),exports['remove']=exports['me']=exports[a35_0x16bfcb(0x1f0)]=exports[a35_0x16bfcb(0x1eb)]=void 0x0;const AppError_1=__importDefault(require(a35_0x16bfcb(0x1fa))),socket_1=require(a35_0x16bfcb(0x1fe)),AuthUserService_1=__importDefault(require(a35_0x16bfcb(0x1d7))),SendRefreshToken_1=require(a35_0x16bfcb(0x1da)),RefreshTokenService_1=require('../services/AuthServices/RefreshTokenService'),FindUserFromToken_1=__importDefault(require(a35_0x16bfcb(0x1f7))),User_1=__importDefault(require('../models/User')),store=async(_0x46acac,_0x1c6210)=>{const _0x2022e8=a35_0x16bfcb,{email:_0x1c55d0,password:_0x594b2b}=_0x46acac['body'],{token:_0x4b3c1c,serializedUser:_0x495dde,refreshToken:_0x4650c2}=await(0x0,AuthUserService_1[_0x2022e8(0x1dc)])({'email':_0x1c55d0,'password':_0x594b2b});(0x0,SendRefreshToken_1['SendRefreshToken'])(_0x1c6210,_0x4650c2);const _0x3fd1bf=(0x0,socket_1[_0x2022e8(0x1e1)])();return _0x3fd1bf['to'](_0x2022e8(0x1e5)+_0x495dde[_0x2022e8(0x1f2)]+_0x2022e8(0x1f5))[_0x2022e8(0x1d8)]('company-'+_0x495dde['companyId']+_0x2022e8(0x1e6),{'action':_0x2022e8(0x1f0),'user':{'id':_0x495dde['id'],'email':_0x495dde[_0x2022e8(0x1f1)],'companyId':_0x495dde[_0x2022e8(0x1f2)]}}),_0x1c6210['status'](0xc8)['json']({'token':_0x4b3c1c,'user':_0x495dde});};exports['store']=store;const update=async(_0xbe3423,_0x58a103)=>{const _0x397aa0=a35_0x16bfcb,_0x3f2216=_0xbe3423[_0x397aa0(0x1e0)][_0x397aa0(0x1f6)];if(!_0x3f2216)throw new AppError_1[(_0x397aa0(0x1dc))](_0x397aa0(0x1df),0x191);const {user:_0x3ee5de,newToken:_0x22067d,refreshToken:_0x331909}=await(0x0,RefreshTokenService_1[_0x397aa0(0x1e9)])(_0x58a103,_0x3f2216);return(0x0,SendRefreshToken_1[_0x397aa0(0x1d9)])(_0x58a103,_0x331909),_0x58a103['json']({'token':_0x22067d,'user':_0x3ee5de});};exports[a35_0x16bfcb(0x1f0)]=update;const me=async(_0x1d837c,_0x2f4ec0)=>{const _0x2717a4=a35_0x16bfcb,_0x2533f1=_0x1d837c['cookies']['jrt'],_0x47c6bd=await(0x0,FindUserFromToken_1['default'])(_0x2533f1),{id:_0x345f5b,profile:_0x1cef64,super:_0x8adff5}=_0x47c6bd;if(!_0x2533f1)throw new AppError_1['default'](_0x2717a4(0x1df),0x191);return _0x2f4ec0[_0x2717a4(0x1f4)]({'id':_0x345f5b,'profile':_0x1cef64,'super':_0x8adff5});};function a35_0x141e(_0x3b549a,_0xd2ba61){const _0x29f71b=a35_0x3137();return a35_0x141e=function(_0xa07bd1,_0x43610b){_0xa07bd1=_0xa07bd1-0x1d7;let _0x3137b7=_0x29f71b[_0xa07bd1];return _0x3137b7;},a35_0x141e(_0x3b549a,_0xd2ba61);}exports['me']=me;const remove=async(_0x54bc0d,_0x27e609)=>{const _0x620c27=a35_0x16bfcb,{id:_0xd3a4b5}=_0x54bc0d['user'],_0x354810=await User_1['default'][_0x620c27(0x1e8)](_0xd3a4b5);return await _0x354810[_0x620c27(0x1f0)]({'online':![]}),_0x27e609['clearCookie'](_0x620c27(0x1f6)),_0x27e609[_0x620c27(0x1fb)]();};function a35_0x3137(){const _0x350a8a=['108616WWFbky','company-','-auth','4879609CrgloM','findByPk','RefreshTokenService','__esModule','store','456066Vvpgdd','remove','1952306sUqIaY','search','update','email','companyId','__importDefault','json','-mainchannel','jrt','../services/AuthServices/FindUserFromToken','toString','apply','../errors/AppError','send','1163020moCSmJ','3sCglOu','../libs/socket','defineProperty','../services/UserServices/AuthUserService','emit','SendRefreshToken','../helpers/SendRefreshToken','647159lRRNNe','default','(((.+)+)+)+$','constructor','ERR_SESSION_EXPIRED','cookies','getIO','2991608TaubkP','1539sVhNMd'];a35_0x3137=function(){return _0x350a8a;};return a35_0x3137();}exports[a35_0x16bfcb(0x1ed)]=remove;