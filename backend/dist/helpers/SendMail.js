const a243_0x4cd842=a243_0x4c94;(function(_0x21dd06,_0x4b33ca){const _0x49ecd9=a243_0x4c94,_0x59e427=_0x21dd06();while(!![]){try{const _0x4f75bb=-parseInt(_0x49ecd9(0xe3))/0x1*(-parseInt(_0x49ecd9(0xe9))/0x2)+parseInt(_0x49ecd9(0xea))/0x3+-parseInt(_0x49ecd9(0xf4))/0x4*(-parseInt(_0x49ecd9(0xf3))/0x5)+parseInt(_0x49ecd9(0xe2))/0x6+parseInt(_0x49ecd9(0xe1))/0x7*(-parseInt(_0x49ecd9(0xef))/0x8)+parseInt(_0x49ecd9(0xf6))/0x9+-parseInt(_0x49ecd9(0xf9))/0xa;if(_0x4f75bb===_0x4b33ca)break;else _0x59e427['push'](_0x59e427['shift']());}catch(_0x41623d){_0x59e427['push'](_0x59e427['shift']());}}}(a243_0x1781,0x40365));function a243_0x1781(){const _0x355d1d=['2108808pZICzR','97029wrXZqd','value','nodemailer','(((.+)+)+)+$','findOne','smtpport','6tKpXUx','902541GeEHOV','../models/Setting','createTransport','Message\x20sent:\x20%s','__importDefault','8LIxhdq','sendMail','SendMail','html','1319125Infhts','4ZIngfg','search','1220094uJNUaS','apply','toString','8527440ciNdDz','constructor','__esModule','default','all','text','subject','1589252hjnCOo'];a243_0x1781=function(){return _0x355d1d;};return a243_0x1781();}function a243_0x4c94(_0x1ac6c7,_0x1d410f){const _0x495a12=a243_0x1781();return a243_0x4c94=function(_0x152141,_0x2e671f){_0x152141=_0x152141-0xdc;let _0x1781b7=_0x495a12[_0x152141];return _0x1781b7;},a243_0x4c94(_0x1ac6c7,_0x1d410f);}const a243_0x2e671f=(function(){let _0x50c6c8=!![];return function(_0x32299b,_0x3ab78c){const _0x3f413a=_0x50c6c8?function(){const _0x5b4def=a243_0x4c94;if(_0x3ab78c){const _0x3d650f=_0x3ab78c[_0x5b4def(0xf7)](_0x32299b,arguments);return _0x3ab78c=null,_0x3d650f;}}:function(){};return _0x50c6c8=![],_0x3f413a;};}()),a243_0x152141=a243_0x2e671f(this,function(){const _0x3b8bfa=a243_0x4c94;return a243_0x152141[_0x3b8bfa(0xf8)]()[_0x3b8bfa(0xf5)](_0x3b8bfa(0xe6))['toString']()[_0x3b8bfa(0xfa)](a243_0x152141)[_0x3b8bfa(0xf5)]('(((.+)+)+)+$');});a243_0x152141();'use strict';var __importDefault=this&&this[a243_0x4cd842(0xee)]||function(_0x624bd9){const _0x54dbaa=a243_0x4cd842;return _0x624bd9&&_0x624bd9[_0x54dbaa(0xdc)]?_0x624bd9:{'default':_0x624bd9};};Object['defineProperty'](exports,a243_0x4cd842(0xdc),{'value':!![]}),exports[a243_0x4cd842(0xf1)]=void 0x0;const nodemailer_1=__importDefault(require(a243_0x4cd842(0xe5))),Setting_1=__importDefault(require(a243_0x4cd842(0xeb))),companyId=0x1;async function loadSmtpSettings(_0x2e3b6c){const _0x549a7e=a243_0x4cd842,[_0x3ee35a,_0x52b7cb,_0x2d05ec,_0x861ec2]=await Promise[_0x549a7e(0xde)]([Setting_1[_0x549a7e(0xdd)][_0x549a7e(0xe7)]({'where':{'companyId':_0x2e3b6c,'key':'smtpauth'}}),Setting_1[_0x549a7e(0xdd)][_0x549a7e(0xe7)]({'where':{'companyId':_0x2e3b6c,'key':'usersmtpauth'}}),Setting_1[_0x549a7e(0xdd)][_0x549a7e(0xe7)]({'where':{'companyId':_0x2e3b6c,'key':'clientsecretsmtpauth'}}),Setting_1[_0x549a7e(0xdd)]['findOne']({'where':{'companyId':_0x2e3b6c,'key':_0x549a7e(0xe8)}})]);return{'urlSmtp':_0x3ee35a?.[_0x549a7e(0xe4)],'userSmtp':_0x52b7cb?.[_0x549a7e(0xe4)],'passwordSmtp':_0x2d05ec?.[_0x549a7e(0xe4)],'portSmtp':_0x861ec2?.[_0x549a7e(0xe4)]};}async function SendMail(_0x2a3ccc){const _0x5516e3=a243_0x4cd842,{urlSmtp:_0x55f039,userSmtp:_0x45a229,passwordSmtp:_0x16d426,portSmtp:_0x19bd77}=await loadSmtpSettings(companyId),_0x3dbc63=nodemailer_1['default'][_0x5516e3(0xec)]({'host':_0x55f039,'port':Number(_0x19bd77),'secure':![],'auth':{'user':_0x45a229,'pass':_0x16d426}});let _0x40660b=_0x3dbc63[_0x5516e3(0xf0)]({'from':_0x45a229,'to':_0x2a3ccc['to'],'subject':_0x2a3ccc[_0x5516e3(0xe0)],'text':_0x2a3ccc[_0x5516e3(0xdf)],'html':_0x2a3ccc[_0x5516e3(0xf2)]||_0x2a3ccc[_0x5516e3(0xdf)]});console['log'](_0x5516e3(0xed),_0x40660b);}exports[a243_0x4cd842(0xf1)]=SendMail;