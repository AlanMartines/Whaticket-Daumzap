const a243_0x64615b=a243_0x3db4;(function(_0x38878c,_0x5b225d){const _0x1dc9bc=a243_0x3db4,_0x1dc659=_0x38878c();while(!![]){try{const _0x345cd0=parseInt(_0x1dc9bc(0xe3))/0x1+-parseInt(_0x1dc9bc(0xce))/0x2+-parseInt(_0x1dc9bc(0xdf))/0x3+parseInt(_0x1dc9bc(0xe4))/0x4+-parseInt(_0x1dc9bc(0xe2))/0x5+parseInt(_0x1dc9bc(0xdb))/0x6+parseInt(_0x1dc9bc(0xd7))/0x7*(parseInt(_0x1dc9bc(0xe0))/0x8);if(_0x345cd0===_0x5b225d)break;else _0x1dc659['push'](_0x1dc659['shift']());}catch(_0x75f986){_0x1dc659['push'](_0x1dc659['shift']());}}}(a243_0x5d99,0x387a8));const a243_0x147de7=(function(){let _0x2ed15e=!![];return function(_0xee60a2,_0x4c12a9){const _0x4bc124=_0x2ed15e?function(){const _0x40eca2=a243_0x3db4;if(_0x4c12a9){const _0x4113dd=_0x4c12a9[_0x40eca2(0xdc)](_0xee60a2,arguments);return _0x4c12a9=null,_0x4113dd;}}:function(){};return _0x2ed15e=![],_0x4bc124;};}()),a243_0x2574e2=a243_0x147de7(this,function(){const _0x549a28=a243_0x3db4;return a243_0x2574e2[_0x549a28(0xcf)]()[_0x549a28(0xd1)](_0x549a28(0xd8))['toString']()[_0x549a28(0xe9)](a243_0x2574e2)[_0x549a28(0xd1)](_0x549a28(0xd8));});a243_0x2574e2();'use strict';var __importDefault=this&&this[a243_0x64615b(0xd6)]||function(_0xeb7e21){const _0x25f183=a243_0x64615b;return _0xeb7e21&&_0xeb7e21[_0x25f183(0xe5)]?_0xeb7e21:{'default':_0xeb7e21};};function a243_0x3db4(_0x8c4061,_0x319260){const _0x13c884=a243_0x5d99();return a243_0x3db4=function(_0x2574e2,_0x147de7){_0x2574e2=_0x2574e2-0xcd;let _0x5d999f=_0x13c884[_0x2574e2];return _0x5d999f;},a243_0x3db4(_0x8c4061,_0x319260);}Object[a243_0x64615b(0xcd)](exports,a243_0x64615b(0xe5),{'value':!![]}),exports[a243_0x64615b(0xd0)]=void 0x0;function a243_0x5d99(){const _0x48478d=['2025700Qanhlw','298488PMOiLk','136316wmNvnV','__esModule','usersmtpauth','value','clientsecretsmtpauth','constructor','findOne','defineProperty','860028igbNoU','toString','SendMail','search','log','all','../models/Setting','html','__importDefault','35opcgmU','(((.+)+)+)+$','subject','default','397932FvZoWw','apply','sendMail','createTransport','1285767UHEnIS','1753904gVGpra','text'];a243_0x5d99=function(){return _0x48478d;};return a243_0x5d99();}const nodemailer_1=__importDefault(require('nodemailer')),Setting_1=__importDefault(require(a243_0x64615b(0xd4))),companyId=0x1;async function loadSmtpSettings(_0x20a667){const _0x5adfed=a243_0x64615b,[_0x4b8f24,_0x5b3441,_0xcafc8a,_0x2f8fd9]=await Promise[_0x5adfed(0xd3)]([Setting_1[_0x5adfed(0xda)][_0x5adfed(0xea)]({'where':{'companyId':_0x20a667,'key':'smtpauth'}}),Setting_1[_0x5adfed(0xda)][_0x5adfed(0xea)]({'where':{'companyId':_0x20a667,'key':_0x5adfed(0xe6)}}),Setting_1[_0x5adfed(0xda)]['findOne']({'where':{'companyId':_0x20a667,'key':_0x5adfed(0xe8)}}),Setting_1[_0x5adfed(0xda)][_0x5adfed(0xea)]({'where':{'companyId':_0x20a667,'key':'smtpport'}})]);return{'urlSmtp':_0x4b8f24?.['value'],'userSmtp':_0x5b3441?.[_0x5adfed(0xe7)],'passwordSmtp':_0xcafc8a?.[_0x5adfed(0xe7)],'portSmtp':_0x2f8fd9?.[_0x5adfed(0xe7)]};}async function SendMail(_0xacf3be){const _0x5c1785=a243_0x64615b,{urlSmtp:_0x2a9237,userSmtp:_0x473108,passwordSmtp:_0x4d8e58,portSmtp:_0x18b05c}=await loadSmtpSettings(companyId),_0x4bed9a=nodemailer_1[_0x5c1785(0xda)][_0x5c1785(0xde)]({'host':_0x2a9237,'port':Number(_0x18b05c),'secure':![],'auth':{'user':_0x473108,'pass':_0x4d8e58}});let _0xe9983b=_0x4bed9a[_0x5c1785(0xdd)]({'from':_0x473108,'to':_0xacf3be['to'],'subject':_0xacf3be[_0x5c1785(0xd9)],'text':_0xacf3be[_0x5c1785(0xe1)],'html':_0xacf3be[_0x5c1785(0xd5)]||_0xacf3be[_0x5c1785(0xe1)]});console[_0x5c1785(0xd2)]('Message\x20sent:\x20%s',_0xe9983b);}exports['SendMail']=SendMail;