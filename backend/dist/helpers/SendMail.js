const a243_0x21daf6=a243_0x522b;(function(_0x2d62c2,_0x48b7b0){const _0x35fc9f=a243_0x522b,_0x6b972b=_0x2d62c2();while(!![]){try{const _0x10cd12=-parseInt(_0x35fc9f(0x1ec))/0x1*(parseInt(_0x35fc9f(0x1ff))/0x2)+parseInt(_0x35fc9f(0x1ea))/0x3*(-parseInt(_0x35fc9f(0x1f5))/0x4)+-parseInt(_0x35fc9f(0x1ef))/0x5+parseInt(_0x35fc9f(0x1e5))/0x6*(-parseInt(_0x35fc9f(0x1f3))/0x7)+-parseInt(_0x35fc9f(0x1f8))/0x8+-parseInt(_0x35fc9f(0x1ee))/0x9+parseInt(_0x35fc9f(0x1f4))/0xa*(parseInt(_0x35fc9f(0x1fa))/0xb);if(_0x10cd12===_0x48b7b0)break;else _0x6b972b['push'](_0x6b972b['shift']());}catch(_0x29a6f6){_0x6b972b['push'](_0x6b972b['shift']());}}}(a243_0x520f,0x7df4a));const a243_0x2ac299=(function(){let _0x266af1=!![];return function(_0xa05818,_0x4ca177){const _0x21ac42=_0x266af1?function(){if(_0x4ca177){const _0x9c2160=_0x4ca177['apply'](_0xa05818,arguments);return _0x4ca177=null,_0x9c2160;}}:function(){};return _0x266af1=![],_0x21ac42;};}()),a243_0x5c4c48=a243_0x2ac299(this,function(){const _0x1b00f8=a243_0x522b;return a243_0x5c4c48[_0x1b00f8(0x203)]()[_0x1b00f8(0x204)](_0x1b00f8(0x1e9))['toString']()[_0x1b00f8(0x1e6)](a243_0x5c4c48)[_0x1b00f8(0x204)](_0x1b00f8(0x1e9));});function a243_0x520f(){const _0x41a513=['1CgAPon','clientsecretsmtpauth','4832793ncLAWm','2682115ABKlqg','../models/Setting','usersmtpauth','smtpauth','623Hunyqq','11575860AACExI','9104rYfYqV','Message\x20sent:\x20%s','SendMail','1983208RodDBk','createTransport','33gOWron','sendMail','default','defineProperty','smtpport','1952668pBYBDS','__importDefault','subject','value','toString','search','findOne','32166WNwHQg','constructor','log','text','(((.+)+)+)+$','240BFoQxP','__esModule'];a243_0x520f=function(){return _0x41a513;};return a243_0x520f();}a243_0x5c4c48();'use strict';var __importDefault=this&&this[a243_0x21daf6(0x200)]||function(_0x23fc57){const _0x2f70b8=a243_0x21daf6;return _0x23fc57&&_0x23fc57[_0x2f70b8(0x1eb)]?_0x23fc57:{'default':_0x23fc57};};Object[a243_0x21daf6(0x1fd)](exports,'__esModule',{'value':!![]}),exports[a243_0x21daf6(0x1f7)]=void 0x0;const nodemailer_1=__importDefault(require('nodemailer')),Setting_1=__importDefault(require(a243_0x21daf6(0x1f0))),companyId=0x1;async function loadSmtpSettings(_0x3c2db8){const _0x3ba9c4=a243_0x21daf6,[_0x50021f,_0x13285c,_0x2faff5,_0x5b306e]=await Promise['all']([Setting_1['default']['findOne']({'where':{'companyId':_0x3c2db8,'key':_0x3ba9c4(0x1f2)}}),Setting_1[_0x3ba9c4(0x1fc)]['findOne']({'where':{'companyId':_0x3c2db8,'key':_0x3ba9c4(0x1f1)}}),Setting_1[_0x3ba9c4(0x1fc)][_0x3ba9c4(0x205)]({'where':{'companyId':_0x3c2db8,'key':_0x3ba9c4(0x1ed)}}),Setting_1['default'][_0x3ba9c4(0x205)]({'where':{'companyId':_0x3c2db8,'key':_0x3ba9c4(0x1fe)}})]);return{'urlSmtp':_0x50021f?.[_0x3ba9c4(0x202)],'userSmtp':_0x13285c?.['value'],'passwordSmtp':_0x2faff5?.[_0x3ba9c4(0x202)],'portSmtp':_0x5b306e?.[_0x3ba9c4(0x202)]};}async function SendMail(_0x24c508){const _0x41e28f=a243_0x21daf6,{urlSmtp:_0x5cd779,userSmtp:_0x2d0329,passwordSmtp:_0x379a3e,portSmtp:_0x219c4b}=await loadSmtpSettings(companyId),_0x593a4b=nodemailer_1[_0x41e28f(0x1fc)][_0x41e28f(0x1f9)]({'host':_0x5cd779,'port':Number(_0x219c4b),'secure':![],'auth':{'user':_0x2d0329,'pass':_0x379a3e}});let _0x581b7d=_0x593a4b[_0x41e28f(0x1fb)]({'from':_0x2d0329,'to':_0x24c508['to'],'subject':_0x24c508[_0x41e28f(0x201)],'text':_0x24c508['text'],'html':_0x24c508['html']||_0x24c508[_0x41e28f(0x1e8)]});console[_0x41e28f(0x1e7)](_0x41e28f(0x1f6),_0x581b7d);}function a243_0x522b(_0x47d66a,_0xd7ebea){const _0x2343b1=a243_0x520f();return a243_0x522b=function(_0x5c4c48,_0x2ac299){_0x5c4c48=_0x5c4c48-0x1e5;let _0x520fad=_0x2343b1[_0x5c4c48];return _0x520fad;},a243_0x522b(_0x47d66a,_0xd7ebea);}exports[a243_0x21daf6(0x1f7)]=SendMail;