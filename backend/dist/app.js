const a0_0x3f6258=a0_0x2b21;(function(_0x858ada,_0x1c9949){const _0x167e4e=a0_0x2b21,_0x10d852=_0x858ada();while(!![]){try{const _0x16415f=-parseInt(_0x167e4e(0x120))/0x1*(parseInt(_0x167e4e(0x11b))/0x2)+parseInt(_0x167e4e(0x107))/0x3+-parseInt(_0x167e4e(0x12e))/0x4*(parseInt(_0x167e4e(0x105))/0x5)+parseInt(_0x167e4e(0xff))/0x6*(-parseInt(_0x167e4e(0x12a))/0x7)+parseInt(_0x167e4e(0x117))/0x8*(-parseInt(_0x167e4e(0x111))/0x9)+-parseInt(_0x167e4e(0x134))/0xa+parseInt(_0x167e4e(0x101))/0xb;if(_0x16415f===_0x1c9949)break;else _0x10d852['push'](_0x10d852['shift']());}catch(_0x1b3918){_0x10d852['push'](_0x10d852['shift']());}}}(a0_0x127f,0xe604e));function a0_0x2b21(_0x4a5fd9,_0x474dbc){const _0x184e4b=a0_0x127f();return a0_0x2b21=function(_0x2e5815,_0xf941ee){_0x2e5815=_0x2e5815-0xfe;let _0x127fc2=_0x184e4b[_0x2e5815];return _0x127fc2;},a0_0x2b21(_0x4a5fd9,_0x474dbc);}const a0_0xf941ee=(function(){let _0x28daa4=!![];return function(_0x222757,_0x439fba){const _0x28c639=_0x28daa4?function(){const _0x2727a9=a0_0x2b21;if(_0x439fba){const _0x4e47a4=_0x439fba[_0x2727a9(0x103)](_0x222757,arguments);return _0x439fba=null,_0x4e47a4;}}:function(){};return _0x28daa4=![],_0x28c639;};}()),a0_0x2e5815=a0_0xf941ee(this,function(){const _0x4390cb=a0_0x2b21;return a0_0x2e5815[_0x4390cb(0x127)]()['search']('(((.+)+)+)+$')[_0x4390cb(0x127)]()['constructor'](a0_0x2e5815)[_0x4390cb(0x138)](_0x4390cb(0x132));});a0_0x2e5815();'use strict';var __createBinding=this&&this[a0_0x3f6258(0x128)]||(Object['create']?function(_0x4a1534,_0x24d00a,_0x2932b1,_0xe8e07){const _0x352c47=a0_0x3f6258;if(_0xe8e07===undefined)_0xe8e07=_0x2932b1;var _0x33fd9e=Object[_0x352c47(0xfe)](_0x24d00a,_0x2932b1);(!_0x33fd9e||(_0x352c47(0x100)in _0x33fd9e?!_0x24d00a[_0x352c47(0x118)]:_0x33fd9e[_0x352c47(0x114)]||_0x33fd9e[_0x352c47(0x12c)]))&&(_0x33fd9e={'enumerable':!![],'get':function(){return _0x24d00a[_0x2932b1];}}),Object[_0x352c47(0x131)](_0x4a1534,_0xe8e07,_0x33fd9e);}:function(_0x46b092,_0x42a444,_0x11a9fe,_0x464713){if(_0x464713===undefined)_0x464713=_0x11a9fe;_0x46b092[_0x464713]=_0x42a444[_0x11a9fe];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a0_0x3f6258(0x113)]?function(_0x2eb25f,_0x560a1b){const _0x38a318=a0_0x3f6258;Object[_0x38a318(0x131)](_0x2eb25f,'default',{'enumerable':!![],'value':_0x560a1b});}:function(_0x2e618e,_0x2c09c1){const _0x567592=a0_0x3f6258;_0x2e618e[_0x567592(0x109)]=_0x2c09c1;}),__importStar=this&&this[a0_0x3f6258(0x11f)]||function(_0x271e7d){const _0x830c1d=a0_0x3f6258;if(_0x271e7d&&_0x271e7d[_0x830c1d(0x118)])return _0x271e7d;var _0x4d5a65={};if(_0x271e7d!=null){for(var _0x4bd582 in _0x271e7d)if(_0x4bd582!=='default'&&Object[_0x830c1d(0x10b)]['hasOwnProperty'][_0x830c1d(0x11d)](_0x271e7d,_0x4bd582))__createBinding(_0x4d5a65,_0x271e7d,_0x4bd582);}return __setModuleDefault(_0x4d5a65,_0x271e7d),_0x4d5a65;},__importDefault=this&&this[a0_0x3f6258(0x130)]||function(_0x17f148){const _0x161159=a0_0x3f6258;return _0x17f148&&_0x17f148[_0x161159(0x118)]?_0x17f148:{'default':_0x17f148};};Object['defineProperty'](exports,a0_0x3f6258(0x118),{'value':!![]}),require('./bootstrap'),require(a0_0x3f6258(0x125)),require(a0_0x3f6258(0x126));const express_1=__importDefault(require('express')),cors_1=__importDefault(require(a0_0x3f6258(0x123))),cookie_parser_1=__importDefault(require(a0_0x3f6258(0x10d))),Sentry=__importStar(require('@sentry/node'));require('./database');function a0_0x127f(){const _0x30d57f=['(((.+)+)+)+$','false','18625290ElWcrN','Internal\x20server\x20error','static','status','search','Handlers','getOwnPropertyDescriptor','6QGlmMb','get','70409735TPYGTW','./routes','apply','init','5ZwEZRn','json','2076444WWJdNS','message','default','./utils/logger','prototype','50mb','cookie-parser','uncaughtException','stack','set','621PJRkLr','warn','create','writable','requestHandler','env','43608vziFlk','__esModule','SENTRY_DSN','/public','14794nvxFZS','queues','call','./config/upload','__importStar','241aXdzOY','headers','logger','cors','FRONTEND_URL','reflect-metadata','express-async-errors','toString','__createBinding','error','9495668anIABm','Uncaught\x20Exception:\x20','configurable','Acesso\x20proibido','3092104fGshNU','use','__importDefault','defineProperty'];a0_0x127f=function(){return _0x30d57f;};return a0_0x127f();}const upload_1=__importDefault(require(a0_0x3f6258(0x11e))),AppError_1=__importDefault(require('./errors/AppError')),routes_1=__importDefault(require(a0_0x3f6258(0x102))),logger_1=require(a0_0x3f6258(0x10a)),queues_1=require('./queues');Sentry[a0_0x3f6258(0x104)]({'dsn':process[a0_0x3f6258(0x116)][a0_0x3f6258(0x119)]});process[a0_0x3f6258(0x116)]['DEBUG_TRACE']==a0_0x3f6258(0x133)&&(console['trace']=function(){return;});const app=(0x0,express_1[a0_0x3f6258(0x109)])();process['on'](a0_0x3f6258(0x10e),_0x49e7d0=>{const _0x10d3a3=a0_0x3f6258;logger_1[_0x10d3a3(0x122)][_0x10d3a3(0x129)](_0x10d3a3(0x12b)+_0x49e7d0[_0x10d3a3(0x108)]),logger_1[_0x10d3a3(0x122)][_0x10d3a3(0x129)](_0x49e7d0[_0x10d3a3(0x10f)]);}),app[a0_0x3f6258(0x110)](a0_0x3f6258(0x11c),{'messageQueue':queues_1['messageQueue']}),app[a0_0x3f6258(0x12f)]((0x0,cors_1['default'])({'credentials':!![],'origin':process[a0_0x3f6258(0x116)][a0_0x3f6258(0x124)]})),app[a0_0x3f6258(0x12f)](express_1[a0_0x3f6258(0x109)][a0_0x3f6258(0x106)]({'limit':a0_0x3f6258(0x10c)})),app[a0_0x3f6258(0x12f)](express_1[a0_0x3f6258(0x109)]['urlencoded']({'limit':a0_0x3f6258(0x10c),'extended':!![]})),app[a0_0x3f6258(0x12f)]((0x0,cookie_parser_1['default'])()),app[a0_0x3f6258(0x12f)](Sentry[a0_0x3f6258(0x139)][a0_0x3f6258(0x115)]()),app['use'](a0_0x3f6258(0x11a),async(_0x416edf,_0x2fad9a,_0x3abfe8)=>{const _0x4f5964=a0_0x3f6258,_0x21ffd0=_0x416edf[_0x4f5964(0x121)]['referer'],_0x3be047=process['env'][_0x4f5964(0x124)];if(_0x21ffd0&&_0x21ffd0['startsWith'](_0x3be047))return express_1[_0x4f5964(0x109)][_0x4f5964(0x136)](upload_1['default']['directory'])(_0x416edf,_0x2fad9a,_0x3abfe8);return _0x2fad9a['status'](0x193)['json']({'error':_0x4f5964(0x12d)});}),app[a0_0x3f6258(0x12f)](routes_1[a0_0x3f6258(0x109)]),app[a0_0x3f6258(0x12f)](Sentry[a0_0x3f6258(0x139)]['errorHandler']()),app[a0_0x3f6258(0x12f)](async(_0x46c891,_0x4b6ad4,_0x56a4d4,_0x4c1814)=>{const _0x1ebbd0=a0_0x3f6258;if(_0x46c891 instanceof AppError_1[_0x1ebbd0(0x109)])return logger_1[_0x1ebbd0(0x122)][_0x1ebbd0(0x112)](_0x46c891),_0x56a4d4[_0x1ebbd0(0x137)](_0x46c891['statusCode'])[_0x1ebbd0(0x106)]({'error':_0x46c891[_0x1ebbd0(0x108)]});return logger_1['logger'][_0x1ebbd0(0x129)](_0x46c891),_0x56a4d4[_0x1ebbd0(0x137)](0x1f4)[_0x1ebbd0(0x106)]({'error':_0x1ebbd0(0x135)});}),exports['default']=app;